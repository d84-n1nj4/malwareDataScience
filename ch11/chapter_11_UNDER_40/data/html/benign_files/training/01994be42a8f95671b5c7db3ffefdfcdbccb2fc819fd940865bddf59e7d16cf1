<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>tCreateTemporaryFile</title><link rel="stylesheet" type="text/css" href="../css/talend_components_eclipse.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="bk-components-rg-en..html" title="Talend Components"><link rel="up" href="ch-file.html" title="Chapter&nbsp;13.&nbsp;File components"><link rel="prev" href="tApacheLogInput.html" title="tApacheLogInput"><link rel="next" href="tChangeFileEncoding.html" title="tChangeFileEncoding"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tCreateTemporaryFile</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tApacheLogInput.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;13.&nbsp;File components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tChangeFileEncoding.html">Next</a></td></tr></table><hr></div><div lang="en" class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tCreateTemporaryFile"></a>tCreateTemporaryFile</h2></div></div></div><div class="mediaobject"><img src="../images/tCreateTemporaryFile_icon32_white.png"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e468009"></a>tCreateTemporaryFile properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
                            <p><span class="emphasis"><strong>Component family</strong></span></p>
                        </td><td valign="top">
                            <p>File/Management</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Function</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="emphasis"><strong>tCreateTemporaryFile </strong></span>creates and
                                manages temporary files.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Purpose</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="emphasis"><strong>tCreateTemporaryFile </strong></span>helps to
                                create a temporary file and puts it in a defined directory. This
                                component allows you to either keep the temporary file or delete it
                                after Job execution.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Basic settings</strong></span></p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Remove file when execution is over</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to delete the temporary file after Job
                                execution.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Use default temporary system directory</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to create the file in the system's default
                                temporary directory.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Directory</em></span></p>
                        </td><td valign="top">
                            <p>Select this check box to create the temporary file .</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Template</em></span></p>
                        </td><td valign="top">
                            <p>Enter a name to the temporary file respecting the template.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p><span class="emphasis"><em>Suffix</em></span></p>
                        </td><td valign="top">
                            <p>Enter the filename extension to indicate the file format you want
                                to give to the temporary file.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Usage</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p><span class="emphasis"><strong>tCreateTemporaryFile</strong></span> provides the
                                possibility to manage temporary files so that the memory can be
                                freed for other ends and thus optimizes system performance.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Global Variables</strong></span></p>
                        </td><td colspan="2">
                            <p><span class="emphasis"><strong>FILEPATH</strong></span>: the path where the file was created. This is an
		After variable and it returns a string.</p>
                            <p><span class="emphasis"><strong>ERROR_MESSAGE</strong></span>: the error message generated by the
		component when an error occurs. This is an After variable and it returns a string. This
		variable functions only if the <span class="emphasis"><strong>Die on error</strong></span> check box is
		cleared, if the component has this check box.</p>
                            <p>A Flow variable functions during the execution of a component while an After variable
		functions after the execution of the component.</p>
                            <p>To fill up a field or expression with a variable, press <span class="emphasis"><strong>Ctrl +
			Space</strong></span> to access the variable list and choose the variable to use from it. </p>
                            <p> For further information about variables, see <span class="emphasis"><em>Talend Studio</em></span>
		<span class="emphasis"><em>User Guide</em></span>.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Connections</strong></span></p>
                        </td><td colspan="2">
                            <p>Outgoing links (from this component to another):</p>
                            <p>
                                <span class="emphasis"><strong>Trigger</strong></span>: On Subjob Ok; On Subjob
                                Error; Run if; On Component Ok; On Component Error.</p>
                            <p> </p>
                            <p> Incoming links (from one component to this one):</p>
                            <p>
                                <span class="emphasis"><strong>Row</strong></span>: Iterate.</p>
                            <p>
                                <span class="emphasis"><strong>Trigger</strong></span>: Run if; On Subjob Ok; On
                                Subjob Error; On component Ok; On Component Error; Synchronize;
                                Parallelize. </p>
                            <p> </p>
                            <p> For further information regarding connections, see
                                        <span class="emphasis"><em>Talend Studio</em></span><span class="emphasis"><em> User
                                    Guide</em></span>.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Log4j</strong></span></p></td><td colspan="2" valign="top"><p>The activity of this component can be logged using the <span class="emphasis"><em>log4j</em></span> feature. For more information on this feature, see <span class="emphasis"><em>Talend Studio User
        Guide</em></span>.</p><p>For more information on the log4j logging levels, see the Apache documentation at <a class="link" href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html" target="_top">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html</a>.</p></td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Limitation</strong></span></p>
                        </td><td colspan="2" valign="top">
                            <p>n/a</p>
                        </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e468277"></a>Scenario: Creating a temporary file and writing data in it</h3></div></div></div><p>The following scenario describes a simple Job that creates an empty temporary file in
            a defined directory, writes data in it and deletes it after Job execution.</p><div class="procedure"><a name="d0e468282"></a><p class="title"><b> Dropping and linking components </b></p><ol class="procedure" type="1"><li class="step"><p>Drop the following components from the <span class="emphasis"><strong>Palette</strong></span> onto the design workspace: <span class="emphasis"><strong>tCreate
                        temporaryFile</strong></span>, <span class="emphasis"><strong>tRowGenerator</strong></span>,
                        <span class="emphasis"><strong>tFileOutputDelimited</strong></span>, <span class="emphasis"><strong>tFileInputDelimited </strong></span>and <span class="emphasis"><strong>tLogRow</strong></span>.</p></li><li class="step"><p>Connect <span class="emphasis"><strong>tCreateTemporaryFile </strong></span>to <span class="emphasis"><strong>tRowGenerator</strong></span> using a <span class="emphasis"><strong>SubjobOk</strong></span> link.</p></li><li class="step"><p> Connect <span class="emphasis"><strong>tRowGenerator </strong></span>to <span class="emphasis"><strong>tFileOutputDelimited</strong></span> using a <span class="emphasis"><strong>Row Main</strong></span> link.</p></li><li class="step"><p>Connect <span class="emphasis"><strong>tRowGenerator </strong></span>to <span class="emphasis"><strong>tFileInputDelimited</strong></span> using a <span class="emphasis"><strong>SubjobOk</strong></span> link.</p></li><li class="step"><p>Connect <span class="emphasis"><strong>tFileInputDelimited</strong></span> to <span class="emphasis"><strong>tLogRow </strong></span>using a <span class="emphasis"><strong>Row
                        Main</strong></span> link.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile.png"></div></li></ol></div><div class="procedure"><a name="d0e468357"></a><p class="title"><b>Configuring the components</b></p><ol class="procedure" type="1"><li class="step"><p>In the design workspace, select <span class="emphasis"><strong>tCreateTemporaryFile</strong></span>.</p></li><li class="step"><p>Click the <span class="emphasis"><strong>Component</strong></span> tab to define the basic
                    settings for <span class="emphasis"><strong>tCreateTemporaryFile</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile1.png"></div></li><li class="step"><p>Select the <span class="emphasis"><strong>Remove file when execution is over</strong></span>
                    check box to delete the created temporary file when Job execution is
                    over.</p></li><li class="step"><p>Click the three-dot button next to the <span class="emphasis"><strong>Directory</strong></span> field to browse to the directory where temporary files
                    will be stored, or enter the path manually.</p></li><li class="step"><p>In the <span class="emphasis"><strong>Template </strong></span>field, enter a name for the
                    temporary file respecting the template format.</p></li><li class="step"><p>In the <span class="emphasis"><strong>Suffix</strong></span> field, enter a filename
                    extension to indicate the file format you want to give to the temporary
                    file.</p></li><li class="step"><p>In the design workspace, select <span class="emphasis"><strong>tRowGenerator</strong></span>
                    and click the <span class="emphasis"><strong>Component</strong></span> tab to define its basic
                    settings.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile2.png"></div></li><li class="step"><p>Set the <span class="emphasis"><strong>Schema</strong></span> to <span class="emphasis"><strong>Built-In</strong></span>.</p></li><li class="step"><p>Click the <span class="emphasis"><strong>Edit schema</strong></span> three-dot button to
                    define the data to pass on to the <span class="emphasis"><strong>tFileOutputDelimited</strong></span> component, one column in this scenario,
                        <span class="emphasis"><em>value</em></span>.</p><p>Click <span class="emphasis"><strong>OK</strong></span> to close the dialog box.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile3.png"></div></li><li class="step"><p>Click the <span class="emphasis"><strong>RowGenerator Editor</strong></span> three-dot
                    button to open the editor dialog box.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile4.png"></div></li><li class="step"><p>In the <span class="emphasis"><strong>Number of Rows for Rowgenerator</strong></span> field,
                    enter <span class="emphasis"><em>5</em></span> to generate five rows and click
                        <span class="emphasis"><strong>Ok</strong></span> to close the dialog box.</p></li><li class="step"><p>In the design workspace, select <span class="emphasis"><strong>tFileOutputDelimited</strong></span> and click the <span class="emphasis"><strong>Component</strong></span> tab to define its basic settings.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile5.png"></div></li><li class="step"><p>Set <span class="emphasis"><strong>Property Type</strong></span> to <span class="emphasis"><strong>Built-In</strong></span>.</p></li><li class="step"><p>Click in the <span class="emphasis"><strong>File Name</strong></span> field and use the
                        <span class="emphasis"><strong>Ctrl+Space bar</strong></span> combination to access the
                    variable completion list. To output data in the created temporary file, select
                        <code class="code">tCreateTemporaryFile_1.FILEPATH </code>on the global variable
                    list.</p></li><li class="step"><p>Set the row and field separators in their corresponding fields as
                    needed.</p></li><li class="step"><p>Set <span class="emphasis"><strong>Schema </strong></span>to <span class="emphasis"><strong>Built-In</strong></span> and click <span class="emphasis"><strong>Sync columns</strong></span>
                    to synchronize input and output columns. Note that the row connection feeds
                    automatically the output schema.</p><p>For more information about schema types, see <span class="emphasis"><em>Talend Studio</em></span>
                    <span class="emphasis"><em>User Guide</em></span>.</p></li><li class="step"><p>In the design workspace, select the <span class="emphasis"><strong>tFileInputDelimited</strong></span> component.</p></li><li class="step"><p>Click the <span class="emphasis"><strong>Component</strong></span> tab to define the basic
                    settings of<span class="emphasis"><strong> tFileInputDelimited</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile6.png"></div></li><li class="step"><p>Click in the <span class="emphasis"><strong>File Name</strong></span> field and use the
                        <span class="emphasis"><strong>Ctrl+Space bar</strong></span> combination to access the
                    variable completion list. To read data in the created temporary file, select
                        <code class="code">tCreateTemporaryFile_1.FILEPATH </code>on the global variable
                    list.</p></li><li class="step"><p>Set the row and field separators in their corresponding fields as
                    needed.</p></li><li class="step"><p>Set <span class="emphasis"><strong>Schema</strong></span> to <span class="emphasis"><strong>Built in
                    </strong></span>and click <span class="emphasis"><strong>Edit schema</strong></span> to define the
                    data to pass on to the <span class="emphasis"><strong>tLogRow</strong></span> component. The
                    schema consists of one column here, <span class="emphasis"><em>value.</em></span></p></li></ol></div><div class="procedure"><a name="d0e468570"></a><p class="title"><b>Saving and executing the Job</b></p><ol class="procedure" type="1"><li class="step"><p>Press <span class="emphasis"><strong>Ctrl+S</strong></span> to save the Job.</p></li><li class="step"><p>Press <span class="emphasis"><strong>F6</strong></span> to execute the Job or click the
                        <span class="emphasis"><strong>Run</strong></span> button of the <span class="emphasis"><strong>Run</strong></span> tab.</p><div class="mediaobject"><img src="../images/Use_Case_tCreateTemporaryFile7.png"></div></li></ol></div><p>The temporary file is created in the defined directory during Job execution and the
            five generated rows are written in it. The temporary file is deleted when Job execution
            is over.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tApacheLogInput.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-file.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tChangeFileEncoding.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tApacheLogInput&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tChangeFileEncoding</td></tr></table></div></body></html>