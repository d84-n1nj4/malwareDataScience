
    <!DOCTYPE html>
<html>
<!--通用注册页基础模板-->
<head>
    <meta charset="utf-8" />
    <meta name="renderer" content="webkit" />
    <meta property="qc:admins" content="2411460601622176375" />
    
    <title></title>
    <link rel="shortcut icon" href="http://www.tonnn.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="icon" href="http://www.tonnn.com/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="shortcut icon" href="http://www.tonnn.com/favicon.ico" />
    <style type="text/css">
        body {background-color:#000; color:#000; font-size:12px; padding:0; margin:0; font-family:"\5FAE\8F6F\96C5\9ED1";}
        .main {width:100%; height:100%; margin:0 auto; text-align:center;position:relative;zoom:1;}
        .regBox {width:300px; height:200px; display:none; margin:0 auto; position:absolute; top:150px; z-index:99999; text-align:left;}
        .regIpt {height:27px;}
        .regIpt span {width:68px; padding:8px 10px 0 0; font-size:15px; font-weight:bold; float:left;}
        .regIpt input {width:200px; height:23px; font-size:16px; padding:2px 3px; float:left; border:1px solid #aaa; -webkit-border-radius:3px;}
        .regMsg,.error,.success{height:21px;padding:7px 0 10px 78px;}
        .regBtn input {cursor:pointer; margin-left:78px; font-size:18px; font-weight:bold; border:none;}
        .error {color:#f00; font-weight:bold;}
        .success {color:#080;}
        .down {width:300px; height:200px; display:none; margin:0 auto; position:absolute; top:150px; z-index:99999; overflow:hidden;}
    
        
        /* third-link */
        .third-link{width: 200px;height: 28px;line-height: 28px;margin: 0 auto;padding: 10px 0 0 55px;}
        .third-link span{color:#000;}
        .third-logo{width: 24px;height: 24px;margin: 0 2px 0 8px;background:url("https://sstatic.tonnn.com/tonnnnew/images/third-logo.png") no-repeat;vertical-align:middle;display:inline-block;}
        .third-logo-qq{background-position: 0 0;margin-left:42px;}
        .third-logo-wechat{background-position: 0 -40px;}
        .third-logo-weibo{background-position: 0 -80px;}
        
        

        
html,body{padding:0;margin:0;width:100%;}
#iframe2{display:none;}
.load_tips{width:100%;height:100%;background:#000;overflow:hidden;}

    </style>
    
    <script type="text/javascript">
    
var DispClose = true;
confirmClose = "今日新区送首充/VIP/元宝装备.火爆人气,公益游戏.各种免费福利,满足你的欲望!您不进来看看？\n-------------------------------------\n2217游戏平台 - 国内福利最好的游戏平台";

window.onbeforeunload = function(event){
    var if_src = document.getElementById('iframe2').scr;
    if (DispClose && if_src != document.location.href){
        event = event || window.event;
        if(event){
            DispClose = false;
            event.returnValue = confirmClose;       
            document.getElementById("main").style.display = "none";
            
                document.getElementById('main').removeChild(flashbox);
                document.getElementById('domain').style.display="none";
            
            document.getElementById("iframe2").style.display = "block";
            document.getElementById('iframe2').height= document.documentElement.clientHeight;
        }
        return confirmClose;
    }
}
window.onunload = function(event){
    if (DispClose){
        event = event || window.event;
        if(event){
            event.returnValue = confirmClose;
        }
        return confirmClose;
    }
}       

//2017-07-11 update shunfei cpm
window._CWiQ = window._CWiQ || [];

window.BX_CLIENT_ID = 54498; // 帐号ID

(function() {

var c = document.createElement('script')

,p = 'https:'==document.location.protocol;

c.type = 'text/javascript';

c.async = true;

c.src = (p?'https://':'http://')+'whisky.ana.biddingx.com/boot/0';

var h = document.getElementsByTagName('script')[0];

h.parentNode.insertBefore(c, h);

})();

//2017-07-11 update complete



    var try_cookie = false;
    var allow_new_window_open = false;
    
        allow_new_window_open = true;
    
    function contains(a, obj) {
        for (var i = 0; i < a.length; i++) {
            if (a[i] === obj) {
                return true;
            }
        }
        return false;
    }
    var domainList = ["gamewanwan.com", "tonnn.com", "095996.cn", "zt-it.top", "fztaiji.com", "wanhihi.com", "sochangfang.com"];
    var host = location.host.split('.').reverse();
    var root_domain = host[1] + '.' + host[0];
    if(contains(domainList, root_domain)){
        allow_new_window_open = false;
    }
    </script>

    <!-- 睿视dsp统计代码 -->
    <script type="text/javascript">
        var smartvideo_time=new Date().getTime();
    </script>
</head>

<body>
    


    <div class="main" id="main">
        <div id="regBox" class="regBox">
            <input id="cid" type="hidden" value="tk" />
            <input id="ccid" type="hidden" value="yxqd-j1" />
            <input id="creative" type="hidden" name="creative" value="mm32" />
            <input id="gameId" type="hidden" value="142" />
            <input id="ag" type="hidden" value="agdzs" />
            <input id="ac" type="hidden" value="None" />

        
            <div class="regIpt"><span>创建帐号</span> <input type="text" id="username" maxlength="20" onBlur="checkuser()"/></div>
            <div id="msg1" class="regMsg">3-20个字符，字母、数字或下划线</div>
            <div class="regIpt"><span>设置密码</span> <input type="password" id="password" maxlength="20" onblur="checkpass()" onKeyPress="enterSubmit(event);" /></div>
            <div id="msg2" class="regMsg">长度6-20个字符</div>
            
 <div class="regBtn"><input type="image" id="regBtn" src="https://sstatic.tonnn.com/generalpage/1554/btn.gif?v=8" value="开始游戏" onclick="checkForm();" /></div>

            
            <div class="third-link">
                <span>———— 其他账号登录 ————</span>
                <a id="qqLoginBtn" href="javascript:;" data="https://graph.qq.com/oauth2.0/authorize?state=test&client_id=101273557&response_type=code&redirect_uri=http://www.2217.com/qq?data=game_id=142|creative=mm32|cid=tk|ccid=yxqd-j1" class="third-logo third-logo-qq"></a>
                <a class="third-logo third-logo-wechat" href="javascript:;" data="http://www.2217.com/thirdlogin/wx?type=game%26game_id=142%26creative=mm32%26cid=tk%26ccid=yxqd-j1" id="wxLoginBtn"></a>
                <a class="third-logo third-logo-weibo" href="javascript:;" data="http://www.2217.com/thirdlogin/wb?type=game%26game_id=142%26creative=mm32%26cid=tk%26ccid=yxqd-j1" id="wbLoginBtn"></a>
            </div>
            
        
        </div>
        
    <!-- flash区域 -->
        
<div class="load_tips" id="load_tips" style="height: 100%;">
    <embed src="https://sstatic.tonnn.com/promotion/process2.swf" width="100%" height="100%"></embed>
</div>
<script>
    document.getElementById("load_tips").style.height = document.documentElement.clientHeight+"px";
</script>
<script type="text/javascript">
    var flashPath   = "https://sstatic.tonnn.com/generalpage/1554/";
    var flashFile   = flashPath + "main.swf?v=8";
    var flashVars   = "path=" + flashPath + "";
    var flashWidth  = "1244";
    var flashHeight = "700";
    var boxX        = -30;
    var boxY        = 150;
    var fontColor   = "#000";
    var htl;
    var flashbox = document.createElement('div');
    flashbox.id = 'flashbox';
    
    htl = '<object id="game" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="' + flashWidth + '" height="' + flashHeight + '" align="middle">';
    htl = htl + '<param name="allowScriptAccess" value="always" />';
    htl = htl + '<param name="movie" value="' + flashFile + '" />';
    htl = htl + '<param name="quality" value="high" />';
    htl = htl + '<param name="FlashVars" value="' + flashVars + '" />';
    htl = htl + '<param name="wmode" value="transparent" />';
    htl = htl + '<embed id="FFgame" src="' + flashFile + '"  FlashVars="' + flashVars + '" quality="high" bgcolor="#000000" width="' + flashWidth + '" height="' + flashHeight + '" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer"  wmode="transparent" />';
        htl = htl + '</object>';

    document.getElementById('main').appendChild(flashbox);
    document.getElementById('flashbox').innerHTML = htl;
    //监听flash的加载状态
    var gameObj,int;
    if (window.ActiveXObject) {
        gameObj = document.getElementById("game");
    }
    else {
        gameObj = document.getElementById("FFgame");
    }
    function loadFlash () {
        var intPercent = 0;
        try {intPercent = gameObj.PercentLoaded();}
        catch(e){}
        if (intPercent>=100) {
            setTimeout(function(){
                document.getElementById("load_tips").style.display="none";
            },1000);
           clearTimeout(int);
        }
        else {
            setTimeout(loadFlash, 100);
        }
    }
    int = setTimeout(loadFlash, 100);
    //flash自适应水平居中显示
    var lf=(document.body.clientWidth-flashWidth)/2;
    document.getElementsByTagName('body')[0].style.overflowX="hidden";
    document.getElementById('flashbox').style.width = flashWidth +"px";
    document.getElementById('flashbox').style.marginLeft=lf +"px";
</script>


        <!-- flash区域结束 -->
    </div>
        <!--底部信息-->
    <div class="footer" id="domain" style="width: 700px;height: 50px;line-height: 50px;color: #919191;margin: 0 auto;text-align: center;">
        
        <p>Copyright © 2017 江西中至科技有限公司</p>
        
    </div>
    <!--底部信息结束(15.10.13.)-->

<script src="https://sstatic.tonnn.com/base/jquery/jquery-1.10.2.min.js"></script>
<!--底部信息代码-->
    <script type="text/javascript">
        //title 闪烁
        var pageTitle = "尼尔来袭";
        document.title = pageTitle;
        
        function login_with_cookie(){
            var gameId = $("gameId").value;
            var cookie_url = "https://apiv1.2217.com/user/pro_cookie_login?game_id=" + encodeURIComponent(gameId);
            if (!try_cookie){
                try_cookie = true;
                getJSONP(cookie_url, function(data){
                    if (data.tag == "true" && data.url) {
                        DispClose = false;
                        window.parent.location.href = data.url;
                    }
                });
            }
        };
        //显示注册框
        function show(){
            //login_with_cookie();
            // var defLeft = document.body.scrollWidth/2;
            var defLeft = document.body.clientWidth/2;
            $("regBox").style.left    = parseInt(defLeft - boxX) + "px";
            $("regBox").style.top     = boxY + "px";
            $("regBox").style.color   = fontColor;
            $("regBox").style.display = "block";
            if($("down")){
                $("down").style.left      = parseInt(defLeft - boxX) + "px";
                $("down").style.top       = boxY + "px";
            }
        }
        
        /** basic config **/
        function $(id) {return document.getElementById(id);}
        var CHECK_USER = 'https://apiv1.2217.com/user/loginname_exists?name=';
        var GET_REGISTER_URL = function(user,pass,cid,ccid,gameId,tid,creative,ag,ac){
            return "https://apiv1.2217.com/user/pro_register?username=" + encodeURIComponent(user) + "&password=" + encodeURIComponent(pass) + "&cid=" + encodeURIComponent(cid) + "&ccid=" + encodeURIComponent(ccid) + "&game_id=" + encodeURIComponent(gameId) + "&tid=" + encodeURIComponent(tid) + "&creative=" + encodeURIComponent(creative) + "&ag=" + encodeURIComponent(ag) + "&ac=" + encodeURIComponent(ac);
        }
        var GET_LOGIN_URL = function(user,pass,gameId){
            return "https://apiv1.2217.com/user/pro_login?username=" + encodeURIComponent(user) + "&password=" + encodeURIComponent(pass) + "&game_id=" + encodeURIComponent(gameId);
        }
        /** basic config end **/

        function successInfo(id, message) {
            $(id).className = "success";
            $(id).innerHTML = message;
            return true;
        }
        function errorInfo(id, message) {
            $(id).className = "error";
            $(id).innerHTML = '* ' + message;
            return false;
        }
        function getJSONP(url, callback) {
            if (!url) {
                return;
            }
            var a = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']; //定义一个数组以便产生随机函数名
            var r1 = Math.floor(Math.random() * 10);
            var r2 = Math.floor(Math.random() * 10);
            var r3 = Math.floor(Math.random() * 10);
            var name = 'getJSONP' + a[r1] + a[r2] + a[r3];
            var cbname = 'getJSONP.' + name; //作为jsonp函数的属性
            if (url.indexOf('?') === -1) {
                url += '?jsonpcallback=' + cbname;  //jsonpcallback为回调函数名
            } else {
                url += '&jsonpcallback=' + cbname;
            }
            var script = document.createElement('script');
            //定义被脚本执行的回调函数
            getJSONP[name] = function (e) {
                try {
        　　　　    callback && callback(e);
                } catch (e) {
                    //
                }
                finally {
                    //最后删除该函数与script元素
                    delete getJSONP[name];
                    script.parentNode.removeChild(script);
                }
            }
            script.src = url;
            document.getElementsByTagName('head')[0].appendChild(script);
        }

        function checkuser() {
            var val = $('username').value;
            if (val == "") {
                errorInfo('msg1', '请填写帐号');
                result = false;
            } else if (val.length < 3 || val.length > 20) {
                errorInfo('msg1', '长度必须为3-20个字符');
                result = false;
            } else if (!/^[a-zA-Z]\S*$/.test(val)) {
                errorInfo('msg1', '必须以英文字母开头');
                result = false;
            } else if (!/^[\da-zA-Z_]+$/.test(val)) {
                errorInfo('msg1', '只能填写字母、数字或下划线');
                result = false;
            } else {
                result = true;
            }
            if (result){
                var url = CHECK_USER + encodeURIComponent(val);
                getJSONP(url , function(data){
                　　if (data.tag == "true"){
                        errorInfo('msg1', '用户名已被占用，请更换！');
                    }else{
                        successInfo('msg1', '正确！');
                    }
                });
            }
            return result;
        }
        function checkpass() {
            return /^[\x01-\xfe]{6,20}$/.test($('password').value) ? successInfo('msg2', '<font style="color:#008000;">正确！</font>') : errorInfo('msg2', '请填写6-20个字符');
        }
        function enterSubmit(oEvent) {
            var e = oEvent || window.event;
            var codeKeyChar = e.keyCode || e.charCode;
            if (codeKeyChar == 13) {
                checkForm($("regForm"));
            }
        }
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
            return results == null ? "": decodeURIComponent(results[1]);
        }
        function checkForm(){
            var user = $("username").value;
            var pass = $("password").value;
            var tid = getParameterByName("tid");
            if (!checkuser(user)) return false;
            if (!checkpass(pass)) return false;

            $('regBtn').disabled = true;
            $('msg1').innerHTML = '请稍候...';

            var cid = $("cid").value;
            var ccid = $("ccid").value;
            var gameId = $("gameId").value;
            var creative = $("creative").value;
            var ag = $("ag").value;
            var ac = $("ac").value;
            var url = GET_REGISTER_URL(user,pass,cid,ccid,gameId,tid,creative,ag,ac);
            
            if (allow_new_window_open){
                var frame = window.open('about:blank');
            }
            
            //2017-07-11 update 
            
_CWiQ.push(['_trackReg', 1]); 

            //2017-07-11 update complete
            getJSONP(url , function(data){
                
                　　if (data.tag == "true") {
                        

    DispClose = false;
    if (allow_new_window_open){
        frame.location = data.url;
        window.parent.location.href = 'http://www.2217.com';
    }else{
        window.parent.location.href = data.url;
    }


                    } else {
                        if (allow_new_window_open){
                            frame.close();
                        }
                        $('regBtn').disabled = false;
                        $('msg1').className = 'error';
                        $('msg1').innerHTML = data.msg;
                    }
                
            });
            return false;
        }
    
    function thirdlogin(third_id){
        document.getElementById(third_id).onclick=function(){
            var data = document.getElementById(third_id).getAttribute("data");
            DispClose = false;
            
_CWiQ.push(['_trackReg', 1]);

            if (allow_new_window_open){
                window.open(data);
                window.parent.location.href = 'http://www.2217.com';
            }
            else{
                window.parent.location.href = data;
            }
        }
    }
    var array = ["qqLoginBtn", "wxLoginBtn", "wbLoginBtn"];
    for (var i in array){
        thirdlogin(array[i]);
    }
    
    
    </script>
<!--底部信息代码结束-->
    
<script src="https://sstatic.tonnn.com/webnew/js/fy.js"></script> 
<iframe id="iframe2" src="" frameborder="0" scrolling="auto" height="100%" width="100%" style="background:#000;"></iframe>

<script type="text/javascript">
window.onload=function(){
    document.getElementById('iframe2').src = '/fy/tk/mm32';
};
</script>

    <script>var _hmt = _hmt || []; (function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?b3217dfb7c53b4d6a9d97b63d348b1fd";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm, s);})();</script>
</body>
<!-- 睿视dsp统计代码 -->
<script type="text/javascript" src="http://r1.ykimg.com/material/0A05/ad/619ff20c53e10f0c22c7edb3b13c56d2/p.main.js"></script>
<script type="text/javascript">
    YK_CPA.trackInfo(1);
    YK_CPA.trackClick();
    YK_CPA.trackReg();
</script>
</html>