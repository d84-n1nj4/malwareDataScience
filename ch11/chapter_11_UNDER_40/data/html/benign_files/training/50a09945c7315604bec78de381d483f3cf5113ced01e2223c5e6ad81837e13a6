<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>tDenormalize</title><link rel="stylesheet" type="text/css" href="../css/talend_components_eclipse.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="bk-components-rg-en..html" title="Talend Components"><link rel="up" href="ch-processing.html" title="Chapter&nbsp;20.&nbsp;Processing components"><link rel="prev" href="tConvertType.html" title="tConvertType"><link rel="next" href="tDenormalizeSortedRow.html" title="tDenormalizeSortedRow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tDenormalize</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tConvertType.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;20.&nbsp;Processing components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tDenormalizeSortedRow.html">Next</a></td></tr></table><hr></div><div lang="en" class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tDenormalize"></a>tDenormalize</h2></div></div></div><div class="mediaobject"><img src="../images/tDenormalize.png"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e563952"></a>tDenormalize Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Component family</strong></span>
							</p>
						</td><td valign="top">
							<p>Processing/Fields</p>
						</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Function</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Denormalizes the input flow based on one column. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Purpose</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>tDenormalize</strong></span> helps synthesize the
								input flow.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
								Schema</em></span></p>
						</td><td valign="top">
							<p>A schema is a row description, it defines the number of fields to be processed and
								passed on to the next component. The schema is either <span class="emphasis"><strong>Built-in</strong></span> or stored remotely in the
									<span class="emphasis"><strong>Repository</strong></span>.</p>
							<p>Since version 5.6, both the Built-In mode and the Repository mode are
		available in any of the <span class="emphasis"><em>Talend</em></span> solutions.</p>
							<p>Click <span class="emphasis"><strong>Edit schema</strong></span> to make changes to the schema. If the
		current schema is of the <span class="emphasis"><strong>Repository</strong></span> type, three options are
		available:</p>
							<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><strong>View schema</strong></span>: choose this option to view the
				schema only.</p></li><li class="listitem"><p><span class="emphasis"><strong>Change to built-in property</strong></span>: choose this option
				to change the schema to <span class="emphasis"><strong>Built-in</strong></span> for local
				changes.</p></li><li class="listitem"><p><span class="emphasis"><strong>Update repository connection</strong></span>: choose this option to change
				the schema stored in the repository and decide whether to propagate the changes to
				all the Jobs upon completion. If you just want to propagate the changes to the
				current Job, you can select <span class="emphasis"><strong>No</strong></span> upon completion and
				choose this schema metadata again in the <span class="emphasis"><strong>[Repository
					Content]</strong></span> window.</p></li></ul></div>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p><span class="emphasis"><strong>Built-in</strong></span>: The schema will be
								created and stored locally for this component only. Related topic:
								see <span class="emphasis"><em>Talend Studio User Guide</em></span>.</p>
						</td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td valign="top">
							<p><span class="emphasis"><strong>Repository</strong></span>: The schema already
								exists and is stored in the Repository, hence can be reused in
								various projects and Job flowcharts. Related topic: see
										<span class="emphasis"><em>Talend Studio User
									Guide</em></span>.</p>
						</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
							<p>
								<span class="emphasis"><em>To denormalize</em></span>
							</p>
						</td><td valign="top">
							<p>In this table, define the parameters used to denormalize your
								columns.</p>
							<p>
								<span class="emphasis"><strong>Column</strong></span>: Select the column to
								denormalize.</p>
							<p>
								<span class="emphasis"><strong>Delimiter</strong></span>: Type in the separator
								you want to use to denormalize your data between double
								quotes.</p>
							<p>
								<span class="emphasis"><strong>Merge same value</strong></span>: Select this check
								box to merge identical values.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Advanced settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>tStatCatcher Statistics</em></span>
							</p>
						</td><td valign="top">
							<p>Select this check box to collect the log data at component
									level.<span class="phrase"> Note that this check box is
									not available in the Map/Reduce version of the
									component.</span></p>
						</td></tr><tr><td valign="top">
							<p><span class="emphasis"><strong>Global Variables</strong></span></p>
						</td><td colspan="2" valign="top">
							<p><span class="emphasis"><strong>ERROR_MESSAGE</strong></span>: the error message generated by the
		component when an error occurs. This is an After variable and it returns a string. This
		variable functions only if the <span class="emphasis"><strong>Die on error</strong></span> check box is
		cleared, if the component has this check box.</p>
							<p><span class="emphasis"><strong>NB_LINE</strong></span>: the number of rows read by an input component or
		transferred to an output component. This is an After variable and it returns an
		integer.</p>
							<p>A Flow variable functions during the execution of a component while an After variable
		functions after the execution of the component.</p>
							<p>To fill up a field or expression with a variable, press <span class="emphasis"><strong>Ctrl +
			Space</strong></span> to access the variable list and choose the variable to use from it. </p>
							<p> For further information about variables, see <span class="emphasis"><em>Talend Studio</em></span>
		<span class="emphasis"><em>User Guide</em></span>.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>This component can be used as intermediate step in a data
								flow.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Usage in Map/Reduce Jobs</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>If you have subscribed to one of the <span class="emphasis"><strong>Talend</strong></span> solutions with Big Data, you can also
		use this component as a Map/Reduce component. In a <span class="emphasis"><strong>Talend</strong></span> Map/Reduce Job, this
		component is used as an intermediate step and other components used along with it must be
		Map/Reduce components, too. They generate native Map/Reduce code that can be executed
		directly in Hadoop.</p>
							<p>For further information about a <span class="emphasis"><strong>Talend</strong></span> Map/Reduce Job, see the sections
		describing how to create, convert and configure a <span class="emphasis"><strong>Talend</strong></span> Map/Reduce Job of the
			<span class="emphasis"><em>Talend Big Data Getting Started Guide</em></span>.</p>
							<p>Note that in this documentation, unless otherwise explicitly stated, a scenario presents
		only <span class="emphasis"><strong>Standard</strong></span> Jobs, that is to say traditional <span class="emphasis"><strong>Talend</strong></span> data
		integration Jobs, and non Map/Reduce Jobs.</p>
						</td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Log4j</strong></span></p></td><td colspan="2" valign="top"><p>The activity of this component can be logged using the <span class="emphasis"><em>log4j</em></span> feature. For more information on this feature, see <span class="emphasis"><em>Talend Studio User
        Guide</em></span>.</p><p>For more information on the log4j logging levels, see the Apache documentation at <a class="link" href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html" target="_top">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html</a>.</p></td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>n/a</p>
						</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e564295"></a>Scenario 1: Denormalizing on one column</h3></div></div></div><p>This scenario illustrates a Job denormalizing one column in a delimited file.</p><div class="mediaobject"><img src="../images/Use_Case_tDenormalizePerl1.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Drop the following components: <span class="emphasis"><strong>tFileInputDelimited</strong></span>, <span class="emphasis"><strong>tDenormalize</strong></span>, <span class="emphasis"><strong>tLogRow</strong></span> from the
						<span class="emphasis"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p>Connect the components using <span class="emphasis"><strong>Row main</strong></span>
					connections.</p></li><li class="listitem"><p>On the <span class="emphasis"><strong>tFileInputDelimited </strong></span><span class="emphasis"><strong>Component</strong></span> view, set the filepath to the file to be
					denormalized.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizePerl2.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Define the <span class="emphasis"><strong>Header</strong></span>, <span class="emphasis"><strong>Row
						Separator</strong></span> and <span class="emphasis"><strong>Field Separator</strong></span>
					parameters.</p></li><li class="listitem"><p>The input file schema is made of two columns, <span class="emphasis"><em>Fathers</em></span> and
						<span class="emphasis"><em>Children</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizePerl3.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the <span class="emphasis"><strong>Basic settings</strong></span> of <span class="emphasis"><strong>tDenormalize</strong></span>, define the column that contains
					multiple values to be grouped. </p></li><li class="listitem"><p>In this use case, the column to denormalize is
					<span class="emphasis"><em>Children</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizePerl4.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Set the <span class="emphasis"><strong>Delimiter</strong></span> to separate the grouped
					values. Beware as only one column can be denormalized. </p></li><li class="listitem"><p>Select the <span class="emphasis"><strong>Merge same value</strong></span> check box, if you
					know that some values to be grouped are strictly identical.</p></li><li class="listitem"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to execute
					it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizePerl5.png"></div><p>All values from the column <span class="emphasis"><em>Children</em></span> (set as column to
			denormalize) are grouped by their <span class="emphasis"><em>Fathers</em></span> column. Values are
			separated by a comma.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e564410"></a>Scenario 2: Denormalizing on multiple columns</h3></div></div></div><p>This scenario illustrates a Job denormalizing two columns from a delimited
			file.</p><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava1.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Drop the following components: <span class="emphasis"><strong>tFileInputDelimited</strong></span>, <span class="emphasis"><strong>tDenormalize</strong></span>, <span class="emphasis"><strong>tLogRow</strong></span> from the
						<span class="emphasis"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p>Connect all components using a <span class="emphasis"><strong>Row main</strong></span>
					connection.</p></li><li class="listitem"><p>On the <span class="emphasis"><strong>tFileInputDelimited</strong></span>
					<span class="emphasis"><strong>Basic settings</strong></span> panel, set the filepath to the
					file to be denormalized.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava2.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Define the <span class="emphasis"><strong>Row</strong></span> and <span class="emphasis"><strong>Field </strong></span><span class="emphasis"><strong>separators</strong></span>, the <span class="emphasis"><strong>Header </strong></span>and other information if required.</p></li><li class="listitem"><p>The file schema is made of four columns including: <span class="emphasis"><strong>Name</strong></span>, <span class="emphasis"><strong>FirstName</strong></span>, <span class="emphasis"><strong>HomeTown</strong></span>, <span class="emphasis"><strong>WorkTown</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava3.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the <span class="emphasis"><strong>tDenormalize</strong></span> component <span class="emphasis"><strong>Basic settings</strong></span>, select the columns that contain the
					repetition. These are the column which are meant to occur multiple times in the
					document. In this use case, <span class="emphasis"><em>FirstName</em></span>,
						<span class="emphasis"><em>HomeCity</em></span> and <span class="emphasis"><em>WorkCity</em></span> are the
					columns against which the denormalization is performed.</p></li><li class="listitem"><p>Add as many line to the table as you need using the plus button. Then select
					the relevant columns in the drop-down list.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava4.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In the <span class="emphasis"><strong>Delimiter</strong></span> column, define the separator
					between double quotes, to split concanated values. For
						<span class="emphasis"><em>FirstName</em></span> column, type in "#", for
						<span class="emphasis"><em>HomeCity</em></span>, type in "&sect;", ans for
						<span class="emphasis"><em>WorkCity</em></span>, type in "&curren;".</p></li><li class="listitem"><p>Save your Job and press <span class="emphasis"><strong>F6</strong></span> to execute
					it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava5.png"></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>The result shows the denormalized values concatenated using a comma.</p></li><li class="listitem"><p>Back to the <span class="emphasis"><strong>tDenormalize</strong></span> components <span class="emphasis"><strong>Basic settings</strong></span>, in the To denormalize table, select
					the <span class="emphasis"><strong>Merge same value</strong></span> check box to remove the
					duplicate occurrences.</p></li><li class="listitem"><p>Save your Job again and press <span class="emphasis"><strong>F6</strong></span> to execute
					it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tDenormalizeJava6.png"></div><p>This time, the console shows the results with no duplicate instances. </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tConvertType.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-processing.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tDenormalizeSortedRow.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">tConvertType&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-components-rg-en..html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;tDenormalizeSortedRow</td></tr></table></div></body></html>