<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Cache-Control" content="no-cache, max-age=0, must-revalidate, no-store"><meta http-equiv="Expires" content="0"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"><meta itemprop="name" content="danmu"><meta itemprop="description" content="danmu"><title>弹幕</title><script type="text/javascript">var t0 = new Date().getTime();</script><style type="text/css">body,html{height:100%;overflow:hidden;background:0 0}a,article,body,dd,div,dl,dt,figcaption,figure,footer,form,h1,h2,h3,h4,h5,header,html,iframe,img,input,li,menu,nav,ol,p,section,table,tbody,td,textarea,tr,ul{padding:0;margin:0}*{-webkit-tap-highlight-color:rgba(0,0,0,0)}body{-webkit-user-select:none;-moz-user-select:none;-webkit-text-size-adjust:none;position:relative;font:15px "\5FAE\8F6F\96C5\9ED1","Helvetica Neue",Helvetica,STHeiTi,"\5FAE\8F6F\96C5\9ED1",sans-serif;margin:auto;width:100%;color:red}a{text-decoration:none;display:inline-block}a,img{-webkit-touch-callout:none}li{list-style:none}iframe{height:0;width:0;position:absolute;border:none}#debugmqq,#info,#ua{font-size:10px;line-height:1}.video-barrage-content{color:#fff;opacity:.9;white-space:nowrap;font-weight:bolder;display:inline-block;position:absolute;text-shadow:#363431 1px 0 0,#363431 0 1px 0,#363431 -1px 0 0,#363431 0 -1px 0;-webkit-text-shadow:#363431 1px 0 0,#363431 0 1px 0,#363431 -1px 0 0,#363431 0 -1px 0;-moz-text-shadow:#363431 1px 0 0,#363431 0 1px 0,#363431 -1px 0 0,#363431 0 -1px 0}.barrage-content-pre-stage{position:absolute;top:0;will-change:transform}.pause_barrage{animation-play-state:paused;-webkit-animation-play-state:paused}.self-video-barrage-content{color:#6dcc2c!important;z-index:999}.stage{position:absolute;width:100%;left:0;top:11px;bottom:0;z-index:999;font-size:15px;line-height:21px;vertical-align:middle}.barrage-content-sec{position:absolute;height:100%;top:0}@media all and (min-height:500px){.stage{font-size:18px;line-height:28px;top:110px;bottom:110px}}@media all and (min-width:500px){.stage{font-size:18px;line-height:28px;top:40px}}@keyframes myMove{from{transform:translateY(0);opacity:0}to{transform:translateY(1250px);opacity:1}}@-webkit-keyframes myMove{from{transform:translateY(0);opacity:0}to{transform:translateY(1250px);opacity:1}}</style></head><body class="danmustage"><div class="stage"></div></body><script src="//s.url.cn/pub/zepto/1.1.6/zepto.all.js?_bid=303"></script><script>!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e,t){function n(){return 10*Math.random()-5}function a(e,t,n){q.nbm=e,q.curSec=t,q.CurEnd=n}function i(e,t,a){console.log("barrage-content-pre-stage-----"+$(".barrage-content-pre-stage").length),q.curSec=t,q.CurEnd=a,q.nbm=e;var i="";clearTimeout(q.FinishTimer),console.log(t+"_"+a),u();for(var o=0;o<q.nbm.length;o++){for(var s=0,c=0,l=parseInt(q.nbm[o][0].ms/1e3),d="",f=0;f<q.nbm[o].length;f++){var m=q.nbm[o][f],p="undefined"==typeof q.showingLastNBShiftArray[s]?0:q.showingLastNBShiftArray[s],g=m.ms/1e3*q.eachShift;if(g>p+30||q.showingTotalCount>=b.overLapNum||"undefined"!=typeof q.nbm[o][f].isSelf&&q.nbm[o][f].isSelf){var h="video-barrage-content",v=s,w=q.showingTotalCount>=b.overLapNum?n():0,S=m.ms%1e3/1e3*q.eachShift;"undefined"!=typeof q.nbm[o][f].isSelf&&q.nbm[o][f].isSelf&&(h+=" self-video-barrage-content",v=parseInt(Math.random()*b.maxRowNum)),d+='<span class="'+h+'" style="top:'+(v*b.lineHeight+w)+"px;left:"+S+'px;">'+k.HtmlEncode(m.tx)+"</span>",q.showingLastNBShiftArray[v]=g+m.tx.length*b.fontSize,c++}else f--;if(s>=b.maxRowNum)break;s++}i+='<div data-sec="'+l+'"  date-timestamp="'+(new Date).getTime()+'" id="barrage-content-sec-'+l+'" class="barrage-content-sec"  style="left:'+(l-t)*q.eachShift+'px;">'+d+"</div>",r(c)}$(".stage").append('<div id="barrage-content-pre-stage-'+y+'" date-timestamp="'+(new Date).getTime()+'" data-translate = "'+-(q.eachShift*(2*b.stageTimeLength+(a-t+1)))+'" data-transiion-time="'+(2*b.stageTimeLength+(a-t+1))+'" class="barrage-content-pre-stage"  style="left:'+$("body").width()+"px;transition:transform "+(2*b.stageTimeLength+(a-t+1))+"s linear; -webkit-transition:-webkit-transform "+(2*b.stageTimeLength+(a-t+1))+'s linear ">'+i+"</div>");var _=$("#barrage-content-pre-stage-"+y);y++,$(_).offset(),$(_).css({transform:"translateX("+-(q.eachShift*(2*b.stageTimeLength+(a-t+1)))+"px)","-webkit-transform":"translateX("+-(q.eachShift*(2*b.stageTimeLength+(a-t+1)))+"px)"}),q.FinishTimer=setTimeout(function(){clearInterval(q.FinishTimer),b.finishCallBack(a+1)},1e3*(a-t))}function r(e){if(q.showingNBCountArray.push(e),q.showingNBCountArray.length>=b.stageTimeLength){var t=q.showingNBCountArray.length>0?q.showingNBCountArray.shift():0;q.showingTotalCount=q.showingTotalCount+e-t}else q.showingTotalCount+=e}function o(e){var t=$(".barrage-content-pre-stage"),n=(new Date).getTime();clearTimeout(q.FinishTimer);for(var a=t.length-1;a>=0;a--){var i=t.eq(a),r=parseInt(i.css("left"))-q.eachShift*(n-i.attr("date-timestamp"))/1e3;i.css({left:r+"px",transition:"none","-webkit-transition":"none",transform:"translateX(0px)","-webkit-transform":"translateX(0px)"}),i.addClass("pause_barrage")}s(),f(e)}function s(){for(var e=$(".new-barrage-content-sec"),t=(new Date).getTime(),n=e.length-1;n>=0;n--){var a=e.eq(n),i=parseInt(a.css("left"))-q.eachShift*(t-a.attr("date-timestamp"))/1e3;a.css({left:i+"px",transition:"none","-webkit-transition":"none",transform:"translateX(0px)","-webkit-transform":"translateX(0px)"}),a.addClass("new-user-pause_barrage")}}function c(){for(var e=$(".new-user-pause_barrage"),t=(new Date).getTime(),n=e.length-1;n>=0;n--){var a=e.eq(n);a.attr("date-timestamp",t),a.css({transition:"transform "+2*b.stageTimeLength+"s linear","-webkit-transition":"-webkit-transform "+2*b.stageTimeLength+"s linear",transform:"translateX("+2*-b.stageTimeLength*q.eachShift+"px)","-webkit-transform":"translateX("+2*-b.stageTimeLength*q.eachShift+"px)"}),a.removeClass("new-user-pause_barrage")}}function u(){for(var e=$(".pause_barrage"),t=(new Date).getTime(),n=e.length-1;n>=0;n--){var a=e.eq(n);a.attr("date-timestamp",t),a.css({transition:"transform "+2*b.stageTimeLength+"s linear","-webkit-transition":"-webkit-transform "+2*b.stageTimeLength+"s linear",transform:"translateX("+2*-b.stageTimeLength*q.eachShift+"px)","-webkit-transform":"translateX("+2*-b.stageTimeLength*q.eachShift+"px)"}),a.removeClass("pause_barrage")}c()}function l(){q.showingTotalCount=0,q.showingNBCountArray=[],q.showingLastNBShiftArray=[]}function d(){$(".barrage-content-pre-stage").remove(),$(".new-barrage-content-sec").remove(),clearTimeout(q.FinishTimer),l()}function f(e,t){clearTimeout(q.FinishTimer);var n=(new Date).getTime();l();for(var a=$(".barrage-content-sec"),i=a.length-1;i>=0;i--)a.eq(i).hasClass("new-barrage-content-sec")||parseInt(a.eq(i).css("left"))>(n-a.eq(i).attr("date-timestamp"))/1e3*q.eachShift&&a.eq(i).remove()}function m(){var e=$(b.mainStage).css("font-size");return"undefined"!=typeof e?parseInt(e.replace("px")):0}function p(){var e=$(b.mainStage).css("line-height");return"undefined"!=typeof e?parseInt(e.replace("px")):21}function g(){var e=$(b.mainStage).css("height");return"undefined"!=typeof e?parseInt(e.replace("px")):100}function h(){return"hidden"==document[k.getVisibilityState()]?!0:!1}function v(e,t){var n=parseInt(Math.random()*b.maxRowNum),a=(q.eachShift,0),i=parseInt(e/1e3),r=(new Date).getTime(),o='<span class="self-video-barrage-content video-barrage-content" style="top:'+n*b.lineHeight+"px;left:"+a+'px;">'+k.HtmlEncode(t)+"</span>";$(".stage").append('<div data-sec="'+i+'" date-timestamp="'+r+'" id="self-barrage-content-sec-'+i+'" class="barrage-content-sec new-barrage-content-sec" data-translate="'+-(q.eachShift*(2*b.stageTimeLength+1))+'" data-left="'+($("body").width()+q.eachShift)+'" style="z-index:99;left:'+($("body").width()+q.eachShift)+"px;transition:transform "+(2*b.eachStageTime+1)+"s linear; -webkit-transition:-webkit-transform "+(2*b.eachStageTime+1)+'s linear" >'+o+"</div>");var s=$("#self-barrage-content-sec-"+i);$(s).offset(),$(s).css({transform:"translateX("+$(s).attr("data-translate")+"px)","-webkit-transform":"translateX("+$(s).attr("data-translate")+"px)"})}var b={mainStage:$(".stage"),stageLength:3,stageTimeLength:5,fontSize:15,maxRowNum:9,overLapNum:40,maxWord:15,eachStageTime:5};if(b.lineHeight=p(),b.maxRowNum=parseInt(g()/p())-1>9?9:parseInt(g()/p())-1,"object"==typeof e)for(var w in e)b[w]=e[w];var q={nbm:[],curSec:0,Curstart:0,CurEnd:0,showingLastNBShiftArray:[],showingNBCountArray:[],showingTotalCount:0,interval:0,removerInterval:0,playTimestamp:0};q.translateX=b.maxWord*b.fontSize+$("body").width()+$("body").width()/b.stageTimeLength+100,q.eachShift=$("body").width()/b.stageTimeLength;var y=0,k=function(){function e(e){r(e)}function t(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/</g,"&lt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#39;")}function n(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function a(){var e=["webkit","moz","ms","o"];if("visibilityState"in document)return"visibilityState";for(var t=0;t<e.length;t++)if(e[t]+"VisibilityState"in document)return e[t]+"VisibilityState";return null}function i(){var e=n();return e?document[e]:!1}var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}();return{requestAnimFrame:e,getHiddenProp:n,isHidden:i,getVisibilityState:a,HtmlEncode:t}}();window.onresize=function(){b.fontSize=m(),b.lineHeight=p(),b.maxRowNum=parseInt(g()/p())-1>9?9:parseInt(g()/p())-1,q.translateX=b.maxWord*b.fontSize+$("body").width()+$("body").width()+b.stageTimeLength+100,q.eachShift=$("body").width()/b.stageTimeLength,$(".barrage-content-pre-stage").remove(),$(".new-barrage-content-sec").remove(),l(),clearTimeout(q.FinishTimer),b.resizeCallBack()};var S=k.getHiddenProp();if(S){var _=S.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(_,function(){},!1)}return{play2:i,pause:o,clear:d,seek:f,send:v,pushNewBarrage:a,resetOverlap:l,getPageIsHidden:h,htmlEncode:k.HtmlEncode}}function i(){O&&m["default"].readinjoy.danmu({action:"seek_check"},function(e){q=parseInt(e.curt_time/1e3)+1,console.log("resize"+q),!C&&T&&o(q)})}function r(e,t){_!=e&&m["default"].readinjoy.ssoRequest({action:"ssoRequest",cmd:"bar.ReadUserBarLst",data:{skey:g["default"].get("skey"),vid:e,start:0,end:300,rowkey:b,extinfo:{}}},function(n){console.log("ReadUserBarLst_req:"+JSON.stringify(n));var a="string"==typeof n?JSON.parse(n):n;if(0==a.retcode){if(_=e,_!=w)return void console.log("getUserBarrageSso userCurVid != curVid");var i=JSON.parse(a.data).data;console.log("getUserBarrageSso succ");for(var r=0;r<i.length;r++){for(var s=0;s<i[r].bl.length;s++)i[r].bl[s].isSelf=!0;S[i[r].sec]=i[r].bl}}T||(T=!0,o(t)),T=!0})}function o(e){if(!((new Date).getTime()-x<1e3)){x=(new Date).getTime();var t=e+y;if(e>=k)return void I.resetOverlap();"undefined"!=typeof k&&t>k&&(t=k),console.log("getRowkey"+b),m["default"].readinjoy.ssoRequest({action:"ssoRequest",cmd:"bar.ReadBarLst",data:{skey:g["default"].get("skey"),vid:w,rowkey:b,start:e,end:t,extinfo:{}}},function(e){console.log("getNewBarrageSso_req:"+JSON.stringify(e)),console.log("getNewBarrageSso_req: skey"+g["default"].get("skey"));var n="string"==typeof e?JSON.parse(e):e;if(0==n.retcode){if(JSON.parse(n.data).vid!=w)return void console.log("getNewBarrageSso data.vid != curVid");var a=JSON.parse(n.data).nb,i=[];t=a.length>0?a[a.length-1].sec:t,m["default"].readinjoy.danmu({action:"seek_check"},function(e){q=parseInt(e.curt_time/1e3)+1,console.log("seek_check_curTime:"+q);for(var n=0;n<a.length;n++)"undefined"!=typeof S[a[n].sec]&&(a[n].bl=s(a[n].bl,S[a[n].sec])),a[n].sec>=q&&i.push(a[n].bl);I.play2(i,q,t)})}})}}function s(e,t){for(var n=(parseInt((10-t.length)/2),0);n<t.length;n++)for(var a=0;a<e.length;a++)e[a].tx==t[n].tx&&e[a].ms==t[n].ms&&(e[a].isSelf=!0);return e}function c(e){!C&&O&&0==e.errcode&&(q=parseInt(e.curt_time/1e3),k=e.total,w=e.vid,"undefined"!=typeof e.rowkey&&(b=e.rowkey,console.log("curRowkey:"+b)),T?o(q):r(w,q))}function u(e){k=e.total,w=e.vid,"undefined"!=typeof e.rowkey&&(b=e.rowkey),O=!1,(e.danmu_switch===!0||"true"===e.danmu_switch)&&(O=!0),O?c(e):I.clear()}function l(e){console.log("incheckDivHijack");var t=e?e.srcElement.outerHTML||e.srcElement.wholeText:$("html").html(),n=/((http:)|(https:))\/\/([^\/]+)\//g,a=t.match(n);if(a&&0!=a.length){n=/^((http:)|(https:))\/\/(.*\.qq\.com|.*\.gtimg\.cn|.*\.qlogo\.cn|.*\.qpic\.cn|.*\.wanggou\.com)\/$/;for(var i=!1,r=0;r<a.length;r++)if(!n.test(a[r])){var o=$(e.srcElement)||$("html").html();$(o).remove(),i=!0,v["default"].report("hotClick","kan.danmu.jack"),v["default"].report("hotClick","kan.danmu.jack."+a[r]);break}}}var d=n(1)["default"],f=n(2),m=d(f),p=n(3),g=d(p),h=n(4),v=d(h),b="",w="",q=0,y=60,k=0,S=[],_="",C=!0,T=!1,O=!1,x=0,I=new a({finishCallBack:function(e){q=e,o(e)},resizeCallBack:function(){i()}});m["default"].readinjoy.danmu({action:"play"},function(e){console.log("action:play"),C=!1,c(e)}),m["default"].readinjoy.danmu({action:"pause"},function(e){I.pause(parseInt(e.curt_time/1e3)+1),C=!0}),m["default"].readinjoy.danmu({action:"seek"},function(e){if(0==e.errcode){var t=parseInt(e.curt_time/1e3);if(q=t,k=e.total,I.seek(q),C)return;o(q)}}),m["default"].readinjoy.danmu({action:"video_switch"},function(e){if($("#info").append("<p>curVid"+JSON.stringify(e)+"</p>"),0==e.errcode){w=e.vid,"undefined"!=typeof e.rowkey&&(b=e.rowkey,console.log("curRowkey:"+b)),I.clear();var t="undefined"==typeof e.curt_time?0:parseInt(e.curt_time/1e3);T=!1,r(w,t)}}),m["default"].readinjoy.danmu({action:"danmu_send"},function(e){if(console.log("danmu_seed:"+JSON.stringify(e)),0==e.errcode){var t={ms:e.curt_time,tx:I.htmlEncode(e.content),isSelf:!0},n=parseInt(e.curt_time/1e3);void 0==S[n]?S[n]=[t]:S[n].push(t),n+1<e.total&&I.send(e.curt_time,e.content),m["default"].readinjoy.ssoRequest({action:"ssoRequest",cmd:"bar.WriteBar",data:{skey:g["default"].get("skey"),vid:w,rowkey:b,msec:parseInt(e.curt_time),timestamp:parseInt(Date.parse(new Date)/1e3),content:I.htmlEncode(e.content),extinfo:{}}},function(e){console.log("req:"+JSON.stringify(e))})}}),m["default"].readinjoy.danmu({action:"danmu_switch"},function(e){console.log(JSON.stringify(e)),u(e)}),m["default"].readinjoy.danmu({action:"error"},function(e){}),m["default"].readinjoy.danmu({action:"danmu_ready"},function(e){m["default"].readinjoy.danmu({action:"danmu_switch_status"},function(e){u(e)})}),window.onload=function(){v["default"].report("pv"),v["default"].report("hotClick","kan.danmu.pv.total"),m["default"].offline.isCached({bid:2378},function(e){console.log("localVersion",e),v["default"].report("hotClick","kan.danmu.cached."+e)})},window.addEventListener("DOMNodeInserted",l)},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,n){var a,i;!function(r,o,s){var c=o(this[r]=this[r]||{});a=c,i="function"==typeof a?a.call(t,n,t,e):a,!(i!==s&&(e.exports=i))}("mqq",function(e,t){"use strict";function n(e,t,n){var a;for(a in t)(t.hasOwnProperty(a)&&!(a in e)||n)&&(e[a]=t[a]);return e}function a(e,t){var n,a,i,r;for(e=String(e).split("."),t=String(t).split("."),n=0,r=Math.max(e.length,t.length);r>n;n++){if(a=isFinite(e[n])&&Number(e[n])||0,i=isFinite(t[n])&&Number(t[n])||0,i>a)return-1;if(a>i)return 1}return 0}function i(t){var n=window.MQQfirebug;if(e.debuging&&n&&n.log&&"pbReport"!==t.method)try{n.log(t)}catch(a){}}function r(t,n,a,i,r){if(t&&n&&a){var o,s,c,u,l=t+"://"+n+"/"+a;if(i=i||[],!r||!A[r]&&!window[r])for(r=null,s=0,c=i.length;c>s;s++)if(o=i[s],e.isObject(o)&&(o=o.callbackName||o.callback),o&&(A[o]||window[o])){r=o;break}r&&(j[r]={from:"reportAPI",ns:n,method:a,uri:l,startTime:Date.now()},u=String(r).match(/__MQQ_CALLBACK_(\d+)/),u&&(j[u[1]]=j[r])),O.send(l,Q)}}function o(e){var t=e.split("."),n=window;return t.forEach(function(e){!n[e]&&(n[e]={}),n=n[e]}),n}function s(t,n,a){var i,r;return(t=e.isFunction(t)?t:window[t])?(i=c(t),r="__MQQ_CALLBACK_"+i,window[r]=function(){var e=N.call(arguments);l(i,e,n,a)},r):void 0}function c(e){var t=""+M++;return e&&(A[t]=e),t}function u(e){var t,n,a,i=["retCode","retcode","resultCode","ret","code","r"];for(n=0,a=i.length;a>n;n++)if(i[n]in e){t=e[i[n]];break}return t}function l(a,r,o,s){var c,l,d,f=e.isFunction(a)?a:A[a]||window[a],m=Date.now();r=r||[],c=r[0],e.isUndefined(s)&&(s=!0),e.isObject(c)&&("data"in c||(c.data=n({},c)),"code"in c||(c.code=u(c)||0),c.msg=c.msg||""),e.isFunction(f)?s?setTimeout(function(){f.apply(null,r)},0):f.apply(null,r):console.log("mqqapi: not found such callback: "+a+" or the callback: "+a+" had some errors! API: "+a.name),o&&(delete A[a],delete window["__MQQ_CALLBACK_"+a]),j[a]&&(d=j[a],delete j[a],i({from:"fireCallback",ns:d.ns,method:d.method,ret:JSON.stringify(r),url:d.uri}),Number(a)&&delete j["__MQQ_CALLBACK_"+a],c&&(c.code!==t?l=c.code:/^-?\d+$/.test(String(c))&&(l=c)),O.send(d.uri+"#callback",l,m-d.startTime))}function d(t){var n=N.call(arguments,1);e.android&&n&&n.length&&n.forEach(function(t,a){e.isObject(t)&&"r"in t&&"result"in t&&(n[a]=t.result)}),l(t,n)}function f(){}function m(t,n){var a=null,i=e.platform,r=t.split("."),s=t.lastIndexOf("."),c=r[r.length-2],u=r[r.length-1],l=o(t.substring(0,s));(!l[u]||e.debuging)&&((a=n[e.platform])||"browser"===i||((a=e.iOS&&n.iOS)?i="iOS":(a=e.android&&n.android)&&(i="android")),a&&n.supportInvoke&&(B[c+"."+u]=a),l[u]=a?a:f,n.support&&n.support[i]&&($[c+"."+u]=n.support[i]))}function p(t){var n,a,i=t.split("."),r=i[i.length-2]+"."+i[i.length-1];return n=$[r]||$[t.replace("qw.","mqq.").replace("qa.","mqq.")],e.isObject(n)&&(n=n[e.iOS?"iOS":e.android?"android":"browser"]),n?(a=n.split("-"),1===a.length?e.compare(a[0])>-1:e.compare(a[0])>-1&&e.compare(a[1])<1):!1}function g(n,a,r,o){function s(){d(o,{r:-201,result:"error"})}i({from:"openURL",ns:a||"",method:r||"",url:n});var c,u=document.createElement("iframe");return u.style.cssText="display:none;width:0px;height:0px;",e.iOS&&(u.onload=s,u.src=n),(document.body||document.documentElement).appendChild(u),e.android&&(u.onload=s,u.src=n),c=e.__RETURN_VALUE,e.__RETURN_VALUE=t,setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},500),c}function h(e){g(e)}function v(n,a,i,o){if(!n||!a||window!==window.top)return null;var s,u,d,f;if(d=N.call(arguments,2),o=d.length&&d[d.length-1],e.isFunction(o)?d.pop():e.isUndefined(o)?d.pop():o=null,i=d[0],u=c(o),-1===D.indexOf(a)&&r("jsbridge",n,a,d,u),o&&e.isObject(i)&&!i.callback&&(window["__MQQ_CALLBACK_AUTO_"+u]=o,i.callback="__MQQ_CALLBACK_AUTO_"+u),s="jsbridge://"+encodeURIComponent(n)+"/"+encodeURIComponent(a),d.forEach(function(t,n){e.isObject(t)&&(t=JSON.stringify(t)),s+=0===n?"?p=":"&p"+n+"=",s+=encodeURIComponent(String(t))}),"pbReport"!==a&&(s+="#"+u),f=g(s,n,a),e.iOS&&f!==t&&f.result!==t){if(!o)return f.result;l(u,[f.result])}return null}function b(t,n,a,i){var r=B[t+"."+n];return e.isFunction(r)?r.apply(this,N.call(arguments,2)):v.apply(this,N.call(arguments))}function w(t,n,a,i,o){if(!t||!n||!a)return null;var c,u,l=N.call(arguments);e.isFunction(l[l.length-1])?(o=l[l.length-1],l.pop()):o=null,i=4===l.length?l[l.length-1]:{},o&&(i.callback_type="javascript",c=s(o),i.callback_name=c),i.src_type=i.src_type||"web",i.version||(i.version=1),u=t+"://"+encodeURIComponent(n)+"/"+encodeURIComponent(a)+"?"+y(i),g(u,n,a),r(t,n,a,l,c)}function q(e){var t,n,a,i,r=e.indexOf("?"),o=e.substring(r+1).split("&"),s={};for(t=0;t<o.length;t++)i=o[t],r=i.indexOf("="),-1===r?s[i]="":(n=i.substring(0,r),a=i.substring(r+1),s[n]=decodeURIComponent(a));return s}function y(e){var t,n,a=[];for(t in e)e.hasOwnProperty(t)&&(t=String(t),n=String(e[t]),a.push(""===t?n:t+"="+encodeURIComponent(n)));return a.join("&")}function k(e,t){var n,a=document.createElement("a");return a.href=e,a.search&&(n=q(String(a.search).substring(1)),t.forEach(function(e){delete n[e]}),a.search="?"+y(n)),e=a.href,a=null,e}function S(e,t){if("qbrowserVisibilityChange"===e)return document.addEventListener(e,t,!1),!0;var n="evt-"+e;return(A[n]=A[n]||[]).push(t),!0}function _(e,t){var n,a="evt-"+e,i=A[a],r=!1;if(!i)return!1;if(!t)return delete A[a],!0;for(n=i.length-1;n>=0;n--)t===i[n]&&(i.splice(n,1),r=!0);return r}function C(e){var t="evt-"+e,n=A[t],a=N.call(arguments,1);n&&n.forEach(function(e){l(e,a,!1)})}function T(t,n,a){var i,o={event:t,data:n||{},options:a||{}};e.android&&o.options.broadcast===!1&&e.compare("5.2")<=0&&(o.options.domains=["localhost"],o.options.broadcast=!0),"browser"!==e.platform&&(i="jsbridge://event/dispatchEvent?p="+encodeURIComponent(JSON.stringify(o)||""),g(i,"event","dispatchEvent"),r("jsbridge","event","dispatchEvent"))}var O,x=navigator.userAgent,I=window.MQQfirebug,N=Array.prototype.slice,R=Object.prototype.toString,L=/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,E=/\bAndroid([^;]+)/,A=e.__aCallbacks||{},j=e.__aReports||{},$=e.__aSupports||{},B=e.__aFunctions||{},M=1,Q=-1e5,D=["pbReport","popBack","close","qqVersion"];return I?(e.debuging=!0,x=I.ua||x):e.debuging=!1,n(e,function(){var e={},t="Object,Function,String,Number,Boolean,Date,Undefined,Null";return t.split(",").forEach(function(t,n){e["is"+t]=function(e){return R.call(e)==="[object "+t+"]"}}),e}()),e.iOS=L.test(x),e.android=E.test(x),e.iOS&&e.android&&(e.iOS=!1),e.version="20170111001",e.QQVersion="0",e.clientVersion="0",e.ERROR_NO_SUCH_METHOD="no such method",e.ERROR_PERMISSION_DENIED="permission denied",e.compare=function(t){return a(e.clientVersion,t)},e.platform=function(){var t="browser";return e.android&&(window.JsBridge=window.JsBridge||{},window.JsBridge.callMethod=v,window.JsBridge.callback=d,window.JsBridge.compareVersion=e.compare,t="AndroidQQ"),e.iOS&&(t="iPhoneQQ"),t}(),M=function(){var e,t=1;for(e in A)A.hasOwnProperty(e)&&(e=Number(e),isNaN(e)||(t=Math.max(t,e)));return++t}(),O=function(){function t(){var n,o=a,l={};a=[],r=0,o.length&&(l.appid=s,l.typeid=c,l.releaseversion=d,l.sdkversion=e.version,l.qua=f,l.frequency=u,l.t=Date.now(),l.key=["commandid","resultcode","tmcost"].join(","),o.forEach(function(e,t){l[t+1+"_1"]=e[0],l[t+1+"_2"]=e[1],l[t+1+"_3"]=e[2]}),l=new String(y(l)),e.compare("4.6")>=0?setTimeout(function(){mqq.iOS?mqq.invokeClient("data","pbReport",{type:String(10004),data:l}):mqq.invokeClient("publicAccount","pbReport",String(10004),l)},0):(n=new Image,n.onload=function(){n=null},n.src="http://wspeed.qq.com/w.cgi?"+l),r=setTimeout(t,i))}function n(e,n,s){var c;(n!==Q||(n=0,c=Math.round(Math.random()*u)%u,1===c))&&(a.push([e,n||0,s||0]),r||(o=Date.now(),r=setTimeout(t,i)))}var a=[],i=500,r=0,o=0,s=1000218,c=1000280,u=100,l=String(e.QQVersion).split(".").slice(0,3).join("."),d=e.platform+"_MQQ_"+l,f=e.platform+e.QQVersion+"/"+e.version;return{send:n}}(),e.__aCallbacks=A,e.__aReports=j,e.__aSupports=$,e.__aFunctions=B,e.__fireCallback=l,e.__reportAPI=r,n(e,{invoke:b,invokeClient:v,invokeSchema:w,invokeURL:h,build:m,callback:s,support:p,execGlobalCallback:d,addEventListener:S,removeEventListener:_,dispatchEvent:T,execEventCallback:C,mapQuery:q,toQuery:y,removeQuery:k},!0),e}),mqq.build("mqq.device.connectToWiFi",{iOS:function(e,t){t&&t(mqq.ERROR_NO_SUCH_METHOD)},android:function(e,t){e.callback=mqq.callback(t),e.callback&&mqq.compare("5.1")>=0&&mqq.compare("5.4")<0&&(e.callback="javascript:"+e.callback),mqq.invokeClient("qbizApi","connectToWiFi",e)},supportInvoke:!0,support:{android:"4.7"}}),mqq.build("mqq.device.qqVersion",{iOS:function(e){return mqq.invokeClient("device","qqVersion",e)},supportInvoke:!0,support:{iOS:"4.5"}}),mqq.build("mqq.device.qqBuild",{iOS:function(e){return mqq.invokeClient("device","qqBuild",e)},supportInvoke:!0,support:{iOS:"4.5"}}),mqq.build("mqq.device.getClientInfo",{iOS:function(e){var t={},n=mqq.callback(e);return mqq.__reportAPI("web","device","getClientInfo",null,n),"function"!=typeof e?t:void mqq.__fireCallback(n,[t])},android:function(e){var t=e;e=function(e){try{e=JSON.parse(e)}catch(n){}t&&t(e)},mqq.invokeClient("qbizApi","getClientInfo",e)},supportInvoke:!0,support:{iOS:"4.5",android:"4.6"}}),mqq.build("mqq.ui.showTips",{iOS:function(e){e.iconMode=e.iconMode||2,mqq.invokeClient("ui","showTips",e)},android:function(e){e.iconMode=e.iconMode||2,mqq.invokeClient("ui","showTips",e)},supportInvoke:!0,support:{iOS:"4.7",android:"4.7"}}),mqq.build("mqq.readinjoy.danmu",{iOS:function(e,t){e.callback=mqq.callback(t),mqq.invokeClient("readinjoy","danmu",e)},android:function(e,t){e.callback=mqq.callback(t),mqq.invokeClient("readinjoy","danmu",e)},supportInvoke:!0,support:{iOS:"4.5",android:"4.6"}}),mqq.build("mqq.readinjoy.ssoRequest",{iOS:function(e,t){e.data=JSON.stringify(e.data||{}),e.callback=mqq.callback(t),mqq.invokeClient("readinjoy","danmu",e)},android:function(e,t){e.data=JSON.stringify(e.data||{}),e.callback=mqq.callback(t),mqq.invokeClient("readinjoy","danmu",e)},supportInvoke:!0,support:{iOS:"4.5",android:"4.6"}}),mqq.build("mqq.offline.isCached",{iOS:function(e,t){var n=mqq.callback(t);n&&(e.callback=n,mqq.invokeClient("offline","isCached",e))},android:function(e,t){mqq.invokeClient("qbizApi","isCached",e.bid,mqq.callback(t))},supportInvoke:!0,support:{iOS:"4.6",android:"4.6"}})},function(e,t){"use strict";var n={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return t?decodeURIComponent(t[2]):""},set:function(e,t,n,a,i){var r=new Date;r.setTime(r.getTime()+(i?36e5*i:2592e6)),document.cookie=e+"="+t+"; expires="+r.toGMTString()+"; path="+(a?a:"/")+"; "+(n?"domain="+n+";":"")},del:function(e,t,n){document.cookie=e+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(n?n:"/")+"; "+(t?"domain="+t+";":"")},clear:function(){var e=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var t in e)document.cookie=e[t]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "},uin:function(){var e=n.get("uin");return e?parseInt(e.substring(1,e.length),10):null}};e.exports=n},function(e,t,n){"use strict";var a=n(1)["default"],i=n(5),r=a(i),o=function(){var e=Array.prototype.shift,t=function(){var t=e.call(arguments);if(t){var n,a=arguments;return window.TCISD&&(n=TCISD[t])?n.apply(null,a):r["default"]("//1.url.cn/act/home/js/1/tcss.js",function(){window.TCISD&&(n=TCISD[t])&&n.apply(null,a)}),n}};return{report:t}}();e.exports=o},function(e,t){"use strict";var n=function(e,t,n){var a=document.createElement("script");t&&(a.onload=a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a))}),a.src=e,document.getElementsByTagName("head")[0].appendChild(a)};e.exports=n}]);</script></html>