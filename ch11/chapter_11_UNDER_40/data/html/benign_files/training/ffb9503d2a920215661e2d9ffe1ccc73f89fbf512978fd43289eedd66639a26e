<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>tFileList</title><link rel="stylesheet" type="text/css" href="../css/talend_components_eclipse.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="bk-components-rg-fr..html" title="Composants Talend"><link rel="up" href="ch-file.html" title="Chapitre&nbsp;13.&nbsp;Composants File"><link rel="prev" href="tFileInputRegex.html" title="tFileInputRegex"><link rel="next" href="tFileOutputARFF.html" title="tFileOutputARFF"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">tFileList</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tFileInputRegex.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><th width="60%" align="center">Chapitre&nbsp;13.&nbsp;Composants File</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tFileOutputARFF.html">Suivant</a></td></tr></table><hr></div><div lang="fr" class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFileList"></a>tFileList</h2></div></div></div><div class="mediaobject"><img src="../images/tFileList.png"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d84597e489652"></a>Propri&eacute;t&eacute;s du tFileList</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Famille de composant</strong></span>
                            </p>
                        </td><td valign="top">
                            <p>File/Management</p>
                        </td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Fonction</strong></span>
                            </p>
                        </td><td colspan="2" valign="top">
                            <p>Le composant <span class="emphasis"><strong>tFileList</strong></span> fait une
                                boucle sur les fichiers et/ou les dossiers d'un r&eacute;pertoire
                                donn&eacute;.</p>
                        </td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Objectif</strong></span>
                            </p>
                        </td><td colspan="2" valign="top">
                            <p>Le <span class="emphasis"><strong>tFileList</strong></span> r&eacute;cup&egrave;re un groupe
                                de fichiers et/ou de dossiers suivant un masque donn&eacute; et fait une
                                boucle sur chacun d'eux.</p>
                        </td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Basic settings</strong></span>
                            </p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Directory</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Chemin d'acc&egrave;s au r&eacute;pertoire de fichiers.</p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>FileList Type</em></span>
                            </p>
                        </td><td valign="top">
                            <p>S&eacute;lectionnez &agrave; partir de la liste d&eacute;roulante le type de source
                                d'entr&eacute;e utilis&eacute;&nbsp;: <span class="emphasis"><strong>Files</strong></span> pour des
                                fichiers, <span class="emphasis"><strong>Directories</strong></span> pour des
                                r&eacute;pertoires ou <span class="emphasis"><strong>Both</strong></span> pour les deux
                                types. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Include subdirectories</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cochez cette case si le ou les r&eacute;pertoires s&eacute;lectionn&eacute;(s)
                                contiennent des sous-dossiers. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Case Sensitive</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cochez cette case pour cr&eacute;er un filtre selon la casse des noms des
                                fichiers. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Generate Error if no file found</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cochez cette case pour &ecirc;tre averti par un message d'erreur que la
                                recherche de fichier n'a pas abouti. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Use Glob Expressions as Filemask (Unchecked means Perl5
                                    Regex Expressions)</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cette case est coch&eacute;e par d&eacute;faut et permet de filtrer les
                                r&eacute;sultats &agrave; l'aide d'expressions globales (<span class="emphasis"><strong>Glob Expressions</strong></span>). D&eacute;cochez la case pour filtrer les
                                r&eacute;sultats &agrave; l'aide d'expressions de type regex Perl5. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Files</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cliquez sur le bouton <span class="emphasis"><strong>[+]</strong></span> pour
                                ajouter des lignes de filtre&nbsp;: </p>
                            <p><span class="emphasis"><strong>Filemask</strong></span>&nbsp;: entrez un nom de
                                fichier ou masque de fichier utilisant un caract&egrave;re sp&eacute;cial ou une
                                expression r&eacute;guli&egrave;re. </p>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Order by</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Les dossiers sont list&eacute;s en premier, puis viennent ensuite les
                                fichiers. Vous pouvez d&eacute;finir les priorit&eacute;s des dossiers et des
                                fichiers de diff&eacute;rentes mani&egrave;res&nbsp;:</p>
                            <p><span class="emphasis"><strong>By default&nbsp;</strong></span>: par ordre
                                alphab&eacute;tique, par dossier puis par fichier,</p>
                            <p><span class="emphasis"><strong>By file name</strong></span>&nbsp;:par ordre
                                alphab&eacute;tique ou ordre alphab&eacute;tique invers&eacute;,</p>
                            <p><span class="emphasis"><strong>By file size</strong></span>&nbsp;: du plus petit
                                l&eacute;ger au plus lourd ou du plus lourd au plus l&eacute;ger,</p>
                            <p><span class="emphasis"><strong>By modified date</strong></span>&nbsp;: du plus r&eacute;cent
                                au plus ancien ou du plus ancien au plus r&eacute;cent.</p>
                            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Lorsque vous s&eacute;lectionnez l'option <span class="emphasis"><strong>By
                                        file name</strong></span>, si deux fichiers ont le m&ecirc;me nom, le
                                    classement s'effectuera via l'option <span class="emphasis"><strong>By
                                        modified date</strong></span>. Si vous choisissez l'option
                                        <span class="emphasis"><strong>By file size</strong></span>, et que les
                                    fichiers font le m&ecirc;me poids, ils seront class&eacute;s selon l'option
                                        <span class="emphasis"><strong>By file name</strong></span>. Si vous
                                    s&eacute;lectionnez l'option <span class="emphasis"><strong>By modified
                                        date</strong></span> et que la date de modification est la m&ecirc;me
                                    pour deux fichiers, alors ils seront class&eacute;s selon l'option
                                        <span class="emphasis"><strong>By file name</strong></span>.</p></div>
                        </td></tr><tr><td>
                            <p>&nbsp;</p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>Order action</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Choisissez de classer par ordre&nbsp;:</p>
                            <p><span class="emphasis"><strong>ASC</strong></span>&nbsp;: ordre alphab&eacute;tique / du
                                plus petit au plus grand / du plus ancien au plus r&eacute;cent.</p>
                            <p><span class="emphasis"><strong>DESC</strong></span>&nbsp;: &agrave; l'inverse de l'ordre
                                alphab&eacute;tique / du plus grand au plus petit / du plus ancien au plus
                                r&eacute;cent.</p>
                        </td></tr><tr><td>
                            <span class="emphasis"><strong>Advanced settings</strong></span>
                        </td><td valign="top">
                            <span class="emphasis"><em>Use Exclude Filemask</em></span>
                        </td><td valign="top">
                            <p>Cochez cette case pour activer le champ <span class="emphasis"><strong>Exclude Filemask</strong></span> afin d'exclure les conditions de
                                filtre bas&eacute;es sur le type de fichier : <span class="emphasis"><strong>Exclude
                                    Filemask</strong></span> : Renseignez le champ en saisissant les
                                types de fichier devant &ecirc;tre exclus du tableau <span class="emphasis"><strong>Files</strong></span> de la vue <span class="emphasis"><strong>Basic
                                    settings</strong></span>.</p>
                            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Les types de fichier dans ce champ doivent &ecirc;tre entour&eacute;s de
                                    guillemets doubles et s&eacute;par&eacute;s par des virgules.</p></div>
                        </td></tr><tr><td>&nbsp;</td><td valign="top">
                            <span class="emphasis"><em>Format file path to slash (/) style (useful on
                                Windows)</em></span>
                        </td><td valign="top">Cochez cette case afin de formater le chemin d'acc&egrave;s au
                            fichier en ins&eacute;rant des barres obliques (/), option utile sous
                            Windows.</td></tr><tr><td valign="top">
                            <p> </p>
                        </td><td valign="top">
                            <p>
                                <span class="emphasis"><em>tStatCatcher Statistics</em></span>
                            </p>
                        </td><td valign="top">
                            <p>Cochez cette case pour collecter les donn&eacute;es de log au niveau du
                                Job, ainsi qu'au niveau de chaque composant.</p>
                        </td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Utilisation</strong></span>
                            </p>
                        </td><td colspan="2" valign="top">
                            <p>Le composant <span class="emphasis"><strong>tFileList</strong></span> fournit
                                une liste de fichiers d'un r&eacute;pertoire donn&eacute; sur lequel il fait une
                                boucle.</p>
                        </td></tr><tr><td valign="top">
                            <p><span class="emphasis"><strong>Global Variables</strong></span></p>
                        </td><td colspan="2">
                            <p><span class="emphasis"><strong>CURRENT_FILE</strong></span> : nom du fichier courant. Cette variable est
		une variable <span class="emphasis"><strong>Flow</strong></span> et retourne une cha&icirc;ne de caract&egrave;res. </p>
                            <p><span class="emphasis"><strong>CURRENT_FILEPATH</strong></span> : nom du fichier courant ainsi que son
		chemin d'acc&egrave;s. Cette variable est une variable <span class="emphasis"><strong>Flow</strong></span> et
		retourne une cha&icirc;ne de caract&egrave;res. </p>
                            <p><span class="emphasis"><strong>CURRENT_FILEEXTENSION</strong></span> : extension du fichier courant.
		Cette variable est une variable <span class="emphasis"><strong>Flow</strong></span> et retourne une cha&icirc;ne
		de caract&egrave;res. </p>
                            <p><span class="emphasis"><strong>CURRENT_FILEDIRECTORY</strong></span> : r&eacute;pertoire du fichier courant.
		Cette variable est une variable <span class="emphasis"><strong>Flow</strong></span> et retourne une cha&icirc;ne
		de caract&egrave;res. </p>
                            <p><span class="emphasis"><strong>NB_FILE</strong></span> : nombre de fichiers it&eacute;r&eacute;s. Cette variable est
		une variable <span class="emphasis"><strong>Flow</strong></span> et retourne un entier. </p>
                            <p><span class="emphasis"><strong>ERROR_MESSAGE</strong></span> : message d'erreur g&eacute;n&eacute;r&eacute; par le composant
		lorsqu'une erreur survient. Cette variable est une variable <span class="emphasis"><strong>After</strong></span> et retourne une cha&icirc;ne de caract&egrave;res. Cette variable fonctionne
		uniquement si la case <span class="emphasis"><strong>Die on error</strong></span> est d&eacute;coch&eacute;e, si le
		composant a cette option.</p>
                            <p>Une variable <span class="emphasis"><strong>Flow</strong></span> fonctionne durant l'ex&eacute;cution d'un
		composant. Une variable <span class="emphasis"><strong>After</strong></span> fonctionne apr&egrave;s l'ex&eacute;cution
		d'un composant.</p>
                            <p>Pour renseigner un champ ou une expression &agrave; l'aide d'une variable, appuyez sur les
		touches <span class="emphasis"><strong>Ctrl+Espace</strong></span> pour acc&eacute;der &agrave; la liste des variables.
		A partir de cette liste, vous pouvez choisir la variable que vous souhaitez utiliser. </p>
                            <p> Pour plus d'informations concernant les variables, consultez le <span class="emphasis"><em>Guide utilisateur du</em></span>
		<span class="emphasis"><em>Studio Talend</em></span>.</p>
                        </td></tr><tr><td valign="top">
                            <p>
                                <span class="emphasis"><strong>Connections</strong></span>
                            </p>
                        </td><td colspan="2" valign="top">
                            <p>Liens de sortie (de ce composant &agrave; un autre)&nbsp;:</p>
                            <p><span class="emphasis"><strong>Row</strong></span>&nbsp;: Iterate.</p>
                            <p><span class="emphasis"><strong>Trigger</strong></span>&nbsp;: OnSubjobOk,
                                OnSubjobError, OnComponentOk, OnComponentError.</p>
                            <p> </p>
                            <p>Les liens d'entr&eacute;e (d'un autre composant &agrave; celui-ci)&nbsp;:</p>
                            <p><span class="emphasis"><strong>Row</strong></span>&nbsp;: Iterate.</p>
                            <p><span class="emphasis"><strong>Trigger</strong></span>&nbsp;: Run If, OnSubjobOk,
                                OnSubjobError, Synchronize, Parallelize.</p>
                            <p> </p>
                            <p>Pour plus d'informations concernant les connexions, consultez&nbsp;le
                                    <span class="emphasis"><em>Guide utilisateur du
                                    </em></span><span class="emphasis"><em>Studio Talend</em></span>.</p>
                        </td></tr><tr><td valign="top"><p><span class="emphasis"><strong>Log4j</strong></span></p></td><td colspan="2" valign="top"><p>L'activit&eacute; de ce composant peut &ecirc;tre journalis&eacute;e avec la fonctionnalit&eacute; <span class="emphasis"><em>log4j</em></span>. Pour plus d'informations sur cette fonctionnalit&eacute;,
        consultez le <span class="emphasis"><em>Guide utilisateur du Studio Talend</em></span>.</p><p>Pour plus d'informations sur les niveaux de logs du log4j, consultez la documentation
        d'Apache : <a class="link" href="http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html" target="_top">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html</a> (en
        anglais).</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d84597e490188"></a>Sc&eacute;nario 1&nbsp;: It&eacute;ration sur un r&eacute;pertoire</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job de trois composants, qui a pour objectif de
            r&eacute;pertorier les fichiers d'un r&eacute;pertoire donn&eacute;, de lire chaque fichier par it&eacute;ration, de
            s&eacute;lectionner les donn&eacute;es d&eacute;limit&eacute;es et d'afficher ces donn&eacute;es en sortie dans la console
                <span class="emphasis"><strong>Run</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tFileList.png"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490199"></a>D&eacute;poser et relier les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Cliquez et d&eacute;posez les composants suivants&nbsp;: <span class="emphasis"><strong>tFileList</strong></span>, <span class="emphasis"><strong>tFileInputDelimited</strong></span>
                    et <span class="emphasis"><strong>tLogRow</strong></span> dans l'espace de
                    mod&eacute;lisation.</p></li><li class="step"><p>Cliquez-droit sur le composant <span class="emphasis"><strong>tFileList</strong></span> et
                    connectez-le au composant <span class="emphasis"><strong>tFileInputDelimited</strong></span>
                    via une connexion de type <span class="emphasis"><strong>Row</strong></span>
                    <span class="emphasis"><strong>Iterate</strong></span>. Puis connectez le <span class="emphasis"><strong>tFileInputDelimited</strong></span> au <span class="emphasis"><strong>tLogRow</strong></span> &agrave; l'aide d'une connexion de type <span class="emphasis"><strong>Row Main</strong></span>.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490239"></a>Configurer les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>S&eacute;lectionnez le composant <span class="emphasis"><strong>tFileList</strong></span> et
                    cliquez sur l'onglet <span class="emphasis"><strong>Basic settings</strong></span>&nbsp;:</p><div class="mediaobject"><img src="../images/Use_Case_tFileList1.png"></div></li><li class="step"><p>Dans le champ <span class="emphasis"><strong>Directory</strong></span>, indiquez le chemin
                    d'acc&egrave;s des fichiers &agrave; traiter. Pour faire appara&icirc;tre ce chemin d'acc&egrave;s dans le
                    Job lui-m&ecirc;me, utilisez le nom de champ (__DIRECTORY__) qui appara&icirc;t en bulle
                    info lorsque vous passez le souris sur le champ <span class="emphasis"><strong>Directory</strong></span>. Saisissez cette r&eacute;f&eacute;rence dans le champ <span class="emphasis"><strong>Label Format</strong></span> de l'onglet <span class="emphasis"><strong>View</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tFileList4.png"></div></li><li class="step"><p>Dans le champ <span class="emphasis"><strong>FileList Type</strong></span>, s&eacute;lectionnez
                    l'option <span class="emphasis"><strong>Files</strong></span>. </p></li><li class="step"><p>D&eacute;finissez le champ <span class="emphasis"><strong>Case sensitive</strong></span> sur
                        <span class="emphasis"><strong>Yes</strong></span> pour prendre la casse en compte dans
                    cet exemple.</p></li><li class="step"><p>Laissez la case <span class="emphasis"><strong>Use Glob Expressions as
                            Filemask</strong></span> coch&eacute;e si vous utilisez des expressions globales
                        pour filtrer les fichiers et d&eacute;finissez un masque de fichier dans le champ
                            <span class="emphasis"><strong>Filemask</strong></span>.</p></li><li class="step"><p>Double-cliquez sur le <span class="emphasis"><strong>tFileInputDelimited</strong></span>
                        afin d'ouvrir sa vue <span class="emphasis"><strong>Basic settings</strong></span> et
                        d&eacute;finissez ses propri&eacute;t&eacute;s.</p><div class="mediaobject"><img src="../images/Use_Case_tFileList2.png"></div></li><li class="step"><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span>, nommez le
                        fichier &agrave; l'aide d'une variable contenant son chemin d'acc&egrave;s, tel que vous
                        l'avez renseign&eacute; dans les propri&eacute;t&eacute;s du <span class="emphasis"><strong>tFileList</strong></span>. Appuyez sur <span class="emphasis"><strong>Ctrl+Espace</strong></span> pour acc&eacute;der &agrave; la liste d'autocompl&eacute;tion des
                        variables et s&eacute;lectionnez la variable globale
                            <code class="code">((String)globalMap.get("tFileList_1_CURRENT_FILEPATH"))</code>.</p></li><li class="step"><p>Renseignez les autres champs comme pour un fichier d&eacute;limit&eacute; <span class="emphasis"><strong>tFileInputDelimited</strong></span> standard. Voir &eacute;galement&nbsp;: <a class="xref" href="tFileInputDelimited.html" title="tFileInputDelimited"><i>tFileInputDelimited</i></a>.</p></li><li class="step"><p>S&eacute;lectionnez le composant de sortie <span class="emphasis"><strong>tLogRow</strong></span>
                    et renseignez le s&eacute;parateur de champs qui s'affichera dans la console de
                    l'onglet <span class="emphasis"><strong>Run</strong></span>. Voir &eacute;galement&nbsp;: <a class="xref" href="tLogRow.html#Raa83212" title="Propri&eacute;t&eacute;s du tLogRow"><i>Propri&eacute;t&eacute;s du tLogRow</i></a>.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490346"></a>Sauvegarder et ex&eacute;cuter le Job</h4></div></div></div><p>Appuyez sur <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre
                    Job et appuyez sur <span class="emphasis"><strong>F6</strong></span> pour l'ex&eacute;cuter.</p><div class="mediaobject"><img src="../images/Use_Case_tFileList3.png"></div><p>L'it&eacute;ration s'effectue sur le r&eacute;pertoire d&eacute;fini. Chacun des fichiers contenus dans ce
                r&eacute;pertoire est lu. Puis les donn&eacute;es d&eacute;limit&eacute;es sont transmises au composant de
                sortie qui les affiche dans la console Log de la vue <span class="emphasis"><strong>Run</strong></span>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="sect-components-tfilelist_scenario2"></a>Sc&eacute;nario 2 : Trouver des fichiers dupliqu&eacute;s entre deux dossiers</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job qui fait une boucle sur deux dossiers, transforme
            les r&eacute;sultats de l'it&eacute;ration en flux de donn&eacute;es afin d'obtenir une liste de noms de
            fichiers puis affiche les doublons dans la console <span class="emphasis"><strong>Run</strong></span>.
            Ce sc&eacute;nario peut servir de pr&eacute;paration pour la fusion de deux dossiers par
            exemple.</p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-1.png"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490376"></a>D&eacute;poser et relier les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>D&eacute;posez les composants suivants de la <span class="emphasis"><strong>Palette</strong></span> dans l'espace de mod&eacute;lisation graphique : deux
                            <span class="emphasis"><strong>tFileList</strong></span>, deux <span class="emphasis"><strong>tIterateToFlow</strong></span>, deux <span class="emphasis"><strong>tFileOutputDelimited</strong></span>, un <span class="emphasis"><strong>tFileInputDelimited</strong></span>, un <span class="emphasis"><strong>tUniqRow</strong></span> et un <span class="emphasis"><strong>tLogRow</strong></span>.</p></li><li class="step"><p>Reliez le premier <span class="emphasis"><strong>tFileList</strong></span> au premier
                            <span class="emphasis"><strong>tIterateToFlow</strong></span> &agrave; l'aide d'un lien
                            <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Iterate</strong></span> et reliez le premier <span class="emphasis"><strong>tIterateToFlow</strong></span> au premier <span class="emphasis"><strong>tFileOutputDelimited</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> afin
                        de former le premier sous-Job.</p></li><li class="step"><p>Reliez le second <span class="emphasis"><strong>tFileList</strong></span> au second
                            <span class="emphasis"><strong>tIterateToFlow</strong></span> &agrave; l'aide d'un lien
                            <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Iterate</strong></span> et reliez le second <span class="emphasis"><strong>tIterateToFlow</strong></span> au second <span class="emphasis"><strong>tFileOutputDelimited</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> afin
                        de former le deuxi&egrave;me sous-Job.</p></li><li class="step"><p>Reliez le <span class="emphasis"><strong>tFileInputDelimited</strong></span> au
                            <span class="emphasis"><strong>tUniqRow</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Main</strong></span> et
                        reliez le <span class="emphasis"><strong>tUniqRow</strong></span> au <span class="emphasis"><strong>tLogRow</strong></span> &agrave; l'aide d'un lien <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Duplicates</strong></span> afin de
                        former le troisi&egrave;me sous-Job.</p></li><li class="step"><p>Reliez les trois sous-Jobs &agrave; l'aide de liens <span class="emphasis"><strong>Trigger</strong></span> &gt; <span class="emphasis"><strong>On Subjob Ok</strong></span> afin
                        qu'ils soient d&eacute;clench&eacute;s l'un apr&egrave;s l'autre. Nommez ensuite les composants
                        afin de mieux identifier leur r&ocirc;le dans le Job.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490494"></a>Configurer les composants</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><a name="components-tfilelist_s2-step_tfilelist_1"></a><p>Dans le champ <span class="emphasis"><strong>Directory</strong></span> de la vue
                            <span class="emphasis"><strong>Basic settings</strong></span> du premier <span class="emphasis"><strong>tFileList</strong></span>, saisissez le chemin vers le premier
                        dossier dans lequel vous souhaitez lire le nom des fichiers, <span class="emphasis"><em>E:/DataFiles/DI/images</em></span> dans ce sc&eacute;nario.
                        Laissez les autres param&egrave;tres tels qu'ils sont.</p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-2.png"></div></li><li class="step"><p>Double-cliquez sur le premier <span class="emphasis"><strong>tIterateToFlow</strong></span> afin d'afficher sa vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-3.png"></div></li><li class="step"><p>Double-cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> situ&eacute;
                        &agrave; c&ocirc;t&eacute; de <span class="emphasis"><strong>Edit schema</strong></span> afin d'ouvrir la
                        bo&icirc;te de dialogue <span class="emphasis"><strong>[Schema]</strong></span>. D&eacute;finissez le
                        sch&eacute;ma du fichier texte dans lequel le second composant doit &eacute;crire les noms
                        des fichiers. Une fois fait, cliquez sur <span class="emphasis"><strong>OK</strong></span>
                        afin de fermer la bo&icirc;te de dialogue et propager les changements au composant
                        suivant.</p><p>Dans cet exemple, le sch&eacute;ma contient une seule colonne : <span class="emphasis"><em>Filename</em></span>. </p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-4.png"></div></li><li class="step"><p>Dans le champ <span class="emphasis"><strong>Value</strong></span> de la table <span class="emphasis"><strong>Mapping</strong></span>, appuyez sur <span class="emphasis"><strong>Ctrl+Espace</strong></span> afin d'ouvrir la liste d'autocompl&eacute;tion des
                        variables. S&eacute;lectionnez la variable globale
                            <code class="code">((String)globalMap.get("tFileList_1_CURRENT_FILE"))</code> afin de
                        lire le nom de chaque fichier du dossier d'entr&eacute;e. Ce dernier sera ensuite
                        ins&eacute;r&eacute; dans un flux de donn&eacute;es et pass&eacute; au composant suivant.</p></li><li class="step"><a name="components-tfilelist_s2-step_tfileoutputdelimited_1"></a><p>Dans le champ <span class="emphasis"><strong>File Name</strong></span> de la vue
                            <span class="emphasis"><strong>Basic settings</strong></span> du premier <span class="emphasis"><strong>tFileOutputDelimited</strong></span>, saisissez le chemin vers le
                        fichier texte contenant les noms des fichiers provenant du flux entrant,
                            <span class="emphasis"><em>D:/temp/tempdata.csv</em></span> dans cet
                        exemple. La configuration du premier sous-Job est ainsi termin&eacute;e.</p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-5.png"></div></li><li class="step"><p>Configurez le deuxi&egrave;me sous-Job de la m&ecirc;me mani&egrave;re que le premier
                        sous-Job. Cependant :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Dans le champ <span class="emphasis"><strong>Directory</strong></span> de la vue
                                    <span class="emphasis"><strong>Basic settings</strong></span> du second
                                    <span class="emphasis"><strong>tFileList</strong></span>, saisissez le chemin
                                vers l'autre dossier dans lequel vous souhaitez lire les noms des
                                fichiers, <span class="emphasis"><em>E:/DataFiles/DQ/images</em></span>
                                dans ce sc&eacute;nario.</p></li><li class="listitem"><p>Dans la vue <span class="emphasis"><strong>Basic settings</strong></span> du
                                second <span class="emphasis"><strong>tFileOutputDelimited</strong></span>, cochez
                                la case <span class="emphasis"><strong>Append</strong></span> afin que les noms
                                des fichiers pr&eacute;c&eacute;demment &eacute;crits dans le fichier texte ne soit pas
                                &eacute;cras&eacute;s.</p></li></ul></div></li><li class="step"><p>Dans le champ <span class="emphasis"><strong>File name/Stream</strong></span> de la vue
                            <span class="emphasis"><strong>Basic settings</strong></span> du <span class="emphasis"><strong>tFileInputDelimited</strong></span>, saisissez le chemin vers le fichier
                        texte contenant la liste de noms de fichiers, <span class="emphasis"><em>D:/temp/tempdata.csv</em></span> dans ce sc&eacute;nario. D&eacute;finissez le sch&eacute;ma
                        du fichier qui, dans le pr&eacute;sent exemple, contient une seule colonne,
                            <span class="emphasis"><em>Filename</em></span>. </p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-6.png"></div></li><li class="step"><p>Dans la vue <span class="emphasis"><strong>Basic settings</strong></span> du <span class="emphasis"><strong>tUniqRow</strong></span>, cochez la case <span class="emphasis"><strong>Key attribute</strong></span> pour la colonne, <span class="emphasis"><em>Filename</em></span> in this exmaple. </p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-7.png"></div></li><li class="step"><p>Dans la vue <span class="emphasis"><strong>Basic settings</strong></span> du <span class="emphasis"><strong>tLogRow</strong></span>, s&eacute;lectionnez l'option <span class="emphasis"><strong>Table (print values in cells of a table)</strong></span> pour un
                        meilleur affichage des r&eacute;sultats d'ex&eacute;cution du Job.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d84597e490666"></a>Ex&eacute;cuter le Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Appuyez sur <span class="emphasis"><strong>Ctrl+S</strong></span> afin de sauvegarder le
                        Job.</p></li><li class="step"><p>Cliquez sur <span class="emphasis"><strong>Run</strong></span> ou appuyez sur <span class="emphasis"><strong>F6</strong></span> afin d'ex&eacute;cuter le Job.</p><p>Tous les fichiers dupliqu&eacute;s entre les deux dossiers s&eacute;lectionn&eacute;s sont
                        affich&eacute;s dans la console.</p><div class="mediaobject"><img src="../images/components-use_case-tfilelist_s2-8.png"></div></li></ol></div><p>Pour d'autres sc&eacute;narios utilisant le <span class="emphasis"><strong>tFileList</strong></span>,
                    <a class="xref" href="tFileCopy.html" title="tFileCopy"><i>tFileCopy</i></a>.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tFileInputRegex.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-file.html">Niveau sup&eacute;rieur</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tFileOutputARFF.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">tFileInputRegex&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-components-rg-fr..html">Sommaire</a></td><td width="40%" align="right" valign="top">&nbsp;tFileOutputARFF</td></tr></table></div></body></html>