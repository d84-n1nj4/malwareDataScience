<html><head></head><body><pre style="word-wrap: break-word; white-space: pre-wrap;">(self.AMP=self.AMP||[]).push({n:"amp-lightbox",v:"1516233619606",f:(function(AMP){var f;function l(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&amp;&amp;Object.defineProperty(a,d,e)}else a[d]=b[d]}function n(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var p=/(?:^[#?]?|&amp;)([^=&amp;]+)(?:=([^&amp;]*))?/g;function q(a){var b=Object.create(null);if(!a)return b;for(var c;c=p.exec(a);){var d=n(c[1],c[1]),e=c[2]?n(c[2],c[2]):"";b[d]=e}return b};var r="";self.log=self.log||{user:null,dev:null,userForEmbed:null};var t=self.log;function u(){var a,b=Object.create(null);a&amp;&amp;Object.assign(b,a);return b};function v(a,b){a=a.__AMP_TOP||a;return w(a,b)}function x(a){a=y(a);a=y(a);a=a.isSingleDoc()?a.win:a;return w(a,"history")}function y(a){return a.nodeType?v((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function w(a,b){var c=a.services;c||(c=a.services={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&amp;&amp;a.resolve(a.obj));return a.obj};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var z,A="Webkit webkit Moz moz ms O o".split(" ");function B(a,b,c){if(2&gt;b.length?0:0==b.lastIndexOf("--",0))return b;z||(z=u());var d=z[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g&lt;A.length;g++){var m=A[g]+e;if(void 0!==a[m]){e=m;break a}}e=""}var h=e;void 0!==a[h]&amp;&amp;(d=h)}c||(z[b]=d)}return d}function C(a,b,c){var d;(b=B(a.style,b,void 0))&amp;&amp;(a.style[b]=d?c+d:c)}
function D(a){var b={display:"",opacity:0,transition:"opacity 0.1s ease-in"},c;for(c in b)C(a,c,b[c])};function E(){this.l=null}f=E.prototype;f.add=function(a){var b=this;this.l||(this.l=[]);this.l.push(a);return function(){b.remove(a)}};f.remove=function(a){this.l&amp;&amp;(a=this.l.indexOf(a),-1&lt;a&amp;&amp;this.l.splice(a,1))};f.removeAll=function(){this.l&amp;&amp;(this.l.length=0)};f.fire=function(a){if(this.l)for(var b=this.l,c=0;c&lt;b.length;c++)(0,b[c])(a)};f.getHandlerCount=function(){return this.l?this.l.length:0};function F(a,b){function c(){d=0;var m=500-(a.Date.now()-e);if(0&lt;m)d=a.setTimeout(c,m);else{var h=g;g=null;b.apply(null,h)}}var d=0,e=0,g=null;return function(b){for(var h=[],k=0;k&lt;arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();g=h;d||(d=a.setTimeout(c,500))}};function aa(a,b){for(var c=0;c&lt;a.length;c++)if(b(a[c],c,a))return c;return-1};function G(a,b,c){var d=this;this.oa=v(a,"timer");this.sa=b;this.ra=c||0;this.J=-1;this.Y=0;this.ca=!1;this.pa=function(){return d.T()}}G.prototype.isPending=function(){return-1!=this.J};G.prototype.schedule=function(a){var b=a||this.ra;this.ca&amp;&amp;10&gt;b&amp;&amp;(b=10);var c=Date.now()+b;return!this.isPending()||-10&gt;c-this.Y?(this.cancel(),this.Y=c,this.J=this.oa.delay(this.pa,b),!0):!1};G.prototype.T=function(){this.J=-1;this.Y=0;this.ca=!0;this.sa();this.ca=!1};
G.prototype.cancel=function(){this.isPending()&amp;&amp;(this.oa.cancel(this.J),this.J=-1)};function ba(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}
function H(a,b){this.o=a;this.c=[];this.C=[];this.m=[];this.h=[];this.j=null;this.xa=b;this.V=!1;this.T=new G(a.ownerDocument.defaultView,this.ja.bind(this));this.la=new E;this.I=Object.create(null);this.ia=this.wa.bind(this);this.ga=this.ua.bind(this);this.ha=this.va.bind(this);this.fa=this.ta.bind(this);this.o.addEventListener("touchstart",this.ia);this.o.addEventListener("touchend",this.ga);this.o.addEventListener("touchmove",this.ha);this.o.addEventListener("touchcancel",this.fa);this.Z=!1}
function ca(a){var b;b=void 0===b?!1:b;var c=a.__AMP_Gestures;c||(c=new H(a,b),a.__AMP_Gestures=c);return c}f=H.prototype;f.cleanup=function(){this.o.removeEventListener("touchstart",this.ia);this.o.removeEventListener("touchend",this.ga);this.o.removeEventListener("touchmove",this.ha);this.o.removeEventListener("touchcancel",this.fa);delete this.o.__AMP_Gestures;this.T.cancel()};f.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.I[d];e||(this.c.push(c),e=new E,this.I[d]=e);return e.add(b)};
f.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.I[b]){a.removeAll();a=aa(this.c,function(a){return a.getType()==b});if(0&gt;a)return!1;this.c.splice(a,1);this.m.splice(a,1);this.h.splice(a,1);this.C.splice(a,1);delete this.I[b];return!0}return!1};f.onPointerDown=function(a){return this.la.add(a)};
f.wa=function(a){var b=Date.now();this.V=!1;this.la.fire(a);for(var c=0;c&lt;this.c.length;c++)if(!this.m[c]&amp;&amp;(this.h[c]&amp;&amp;this.h[c]&lt;b&amp;&amp;I(this,c),this.c[c].onTouchStart(a))){var d=c;this.C[d]=!0;this.h[d]=0}J(this,a)};f.va=function(a){for(var b=Date.now(),c=0;c&lt;this.c.length;c++)this.C[c]&amp;&amp;(this.h[c]&amp;&amp;this.h[c]&lt;b?I(this,c):this.c[c].onTouchMove(a)||I(this,c));J(this,a)};
f.ua=function(a){for(var b=Date.now(),c=0;c&lt;this.c.length;c++)this.C[c]&amp;&amp;(this.h[c]&amp;&amp;this.h[c]&lt;b?I(this,c):(this.c[c].onTouchEnd(a),(!this.h[c]||this.h[c]&lt;b)&amp;&amp;I(this,c)));J(this,a)};f.ta=function(a){for(var b=0;b&lt;this.c.length;b++){var c=b;this.m[c]=0;I(this,c)}J(this,a)};function J(a,b){var c=!!a.j||a.V;a.V=!1;if(!c)for(var d=Date.now(),e=0;e&lt;a.c.length;e++)if(a.m[e]||a.h[e]&amp;&amp;a.h[e]&gt;=d){c=!0;break}c&amp;&amp;(b.stopPropagation(),a.xa||b.preventDefault());a.Z&amp;&amp;(a.Z=!1,a.ja())}
f.ja=function(){for(var a=Date.now(),b=-1,c=0;c&lt;this.c.length;c++)if(!this.m[c])this.h[c]&amp;&amp;this.h[c]&lt;a&amp;&amp;I(this,c);else if(-1==b||this.m[c]&gt;this.m[b])b=c;if(-1!=b){for(var d=0,c=0;c&lt;this.c.length;c++)!this.m[c]&amp;&amp;this.C[c]&amp;&amp;(d=Math.max(d,this.h[c]-a));if(2&gt;d){for(var a=b,c=this.c[a],e=0;e&lt;this.c.length;e++)if(e!=a){var g=e;this.m[g]=0;I(this,g)}this.m[a]=0;this.h[a]=0;this.j=c;c.acceptStart()}else this.T.schedule(d)}};function I(a,b){a.C[b]=!1;a.h[b]=0;a.m[b]||a.c[b].acceptCancel()}
function K(a,b){this.ya=a;this.S=b}f=K.prototype;f.getType=function(){return this.ya};f.signalReady=function(a){var b=this.S;if(b.j)this.acceptCancel();else{for(var c=Date.now(),d=0;d&lt;b.c.length;d++)b.c[d]==this&amp;&amp;(b.m[d]=c+a,b.h[d]=0);b.Z=!0}};f.signalPending=function(a){var b=this.S;if(b.j)this.acceptCancel();else for(var c=Date.now(),d=0;d&lt;b.c.length;d++)b.c[d]==this&amp;&amp;(b.h[d]=c+a)};f.signalEnd=function(){var a=this.S;a.j==this&amp;&amp;(a.j=null,a.V=!0)};
f.signalEmit=function(a,b){var c=this.S.I[this.getType()];c&amp;&amp;c.fire(new ba(this.getType(),a,Date.now(),b))};f.acceptStart=function(){};f.acceptCancel=function(){};f.onTouchStart=function(){return!1};f.onTouchMove=function(){return!1};f.onTouchEnd=function(){};function L(a,b,c){1&gt;b&amp;&amp;(b=1);var d=a/b,e=.5+Math.min(b/33.34,.5);return d*e+c*(1-e)};function M(a,b,c,d){K.call(this,a,b);this.P=c;this.U=d;this.j=!1;this.F=this.D=this.$=this.R=this.na=this.ba=this.aa=this.H=this.G=this.L=this.K=0}l(M,K);f=M.prototype;f.onTouchStart=function(a){return(a=a.touches)&amp;&amp;1==a.length?(this.na=Date.now(),this.K=a[0].clientX,this.L=a[0].clientY,!0):!1};
f.onTouchMove=function(a){var b=a.touches;if(b&amp;&amp;1==b.length){var c=b[0].clientX,b=b[0].clientY;this.G=c;this.H=b;if(this.j)N(this,!1,!1,a);else if(a=Math.abs(c-this.K),c=Math.abs(b-this.L),this.P&amp;&amp;this.U)(8&lt;=a||8&lt;=c)&amp;&amp;this.signalReady(-10);else if(this.P)if(8&lt;=a&amp;&amp;a&gt;c)this.signalReady(-10);else{if(8&lt;=c)return!1}else if(this.U)if(8&lt;=c&amp;&amp;c&gt;a)this.signalReady(-10);else{if(8&lt;=a)return!1}else return!1;return!0}return!1};f.onTouchEnd=function(a){this.j&amp;&amp;(this.j=!1,N(this,!1,!0,a),this.signalEnd())};
f.acceptStart=function(){this.j=!0;this.aa=this.K;this.ba=this.L;this.$=this.na;this.K=this.G;this.L=this.H;N(this,!0,!1,null)};f.acceptCancel=function(){this.j=!1};function N(a,b,c,d){a.R=Date.now();var e=a.R-a.$;if(!c&amp;&amp;4&lt;e||c&amp;&amp;16&lt;e)a.D=L(a.G-a.aa,e,a.D),a.F=L(a.H-a.ba,e,a.F),a.D=1E-4&lt;Math.abs(a.D)?a.D:0,a.F=1E-4&lt;Math.abs(a.F)?a.F:0,a.aa=a.G,a.ba=a.H,a.$=a.R;a.signalEmit({first:b,last:c,time:a.R,deltaX:a.P?a.G-a.K:0,deltaY:a.U?a.H-a.L:0,velocityX:a.P?a.D:0,velocityY:a.U?a.F:0},d)}
function O(a){M.call(this,"swipe-xy",a,!0,!0)}l(O,M);function P(a){var b;b=AMP.BaseElement.call(this,a)||this;b.ea=null;b.A=null;b.W=null;b.X=-1;b.M=!1;b.N=null;b.B=!1;b.w=0;b.ka=0;b.da=null;b.O=F(b.win,function(){var a=b.A;b.scheduleLayout(a);b.scheduleResume(a)});return b}l(P,AMP.BaseElement);f=P.prototype;f.buildCallback=function(){this.element.classList.add("i-amphtml-overlay");this.getAmpDoc().win!=this.win&amp;&amp;Q(this.getAmpDoc().win,this.win.document.body)};f.isLayoutSupported=function(a){return"nodisplay"==a};
function R(a){S(a,!0).forEach(function(b){a.setAsOwner(b)})}function S(a,b){if(!a.W||b){var c;if(c=a.element.getElementsByClassName("i-amphtml-element")){for(var d=Array(c.length),e=0;e&lt;c.length;e++)d[e]=c[e];c=d}else c=[];a.W=c}return a.W}
function da(a){if(!a.A){a.B=a.element.hasAttribute("scrollable");var b=a.getRealChildren();a.A=a.element.ownerDocument.createElement("div");a.B||a.applyFillContent(a.A);a.element.appendChild(a.A);b.forEach(function(b){a.A.appendChild(b)});a.B&amp;&amp;(R(a),a.element.addEventListener("amp:dom-update",function(){R(a);T(a,a.w,a.w)}),a.element.addEventListener("scroll",a.ma.bind(a)));a.registerAction("open",a.activate.bind(a));a.registerAction("close",a.close.bind(a));if(!a.B){var c=ca(a.element);c.onGesture(O,
function(){})}}}f.layoutCallback=function(){return Promise.resolve()};f.activate=function(){var a=this;this.M||(da(this),this.N=this.qa.bind(this),this.win.document.documentElement.addEventListener("keydown",this.N),this.getViewport().enterLightboxMode(this.element).then(function(){return ea(a)}))};
function ea(a){a.B&amp;&amp;C(a.element,"webkitOverflowScrolling","touch");a.mutateElement(function(){D(a.element);v(a.win,"vsync").mutate(function(){C(a.element,"opacity","")})}).then(function(){var b=a.A;a.B?(a.ma(),T(a,a.w,a.w)):a.updateInViewport(b,!0);a.element.addEventListener("transitionend",a.O);a.element.addEventListener("animationend",a.O);a.scheduleLayout(b);a.scheduleResume(b)});x(a.getAmpDoc()).push(a.close.bind(a)).then(function(b){a.X=b});a.M=!0}f.qa=function(a){27==a.keyCode&amp;&amp;this.close()};
f.close=function(){var a=this;this.M&amp;&amp;(this.B&amp;&amp;C(this.element,"webkitOverflowScrolling",""),this.getViewport().leaveLightboxMode(this.element).then(function(){a.collapse();-1!=a.X&amp;&amp;x(a.getAmpDoc()).pop(a.X);a.win.document.documentElement.removeEventListener("keydown",a.N);a.element.removeEventListener("transitionend",a.O);a.element.removeEventListener("animationend",a.O);a.N=null;a.schedulePause(a.A);a.M=!1}))};
f.ma=function(){var a=this.element.scrollTop||1;this.w=this.element.scrollTop=a;null===this.da&amp;&amp;U(this,a)};function U(a,b){a.da=v(a.win,"timer").delay(function(){if(30&gt;Math.abs(b-a.w)){a.da=null;var c=a.w;T(a,c,a.ka);a.ka=c;a.w=c}else U(a,a.w)},100)}function T(a,b,c){var d=[];V(a,b,function(b){d.push(b);a.updateInViewport(b,!0);a.scheduleLayout(b)});c!=b&amp;&amp;V(a,c,function(b){d.includes(b)||a.updateInViewport(b,!1)})}
function V(a,b,c){a.ea||(a.ea={width:a.element.clientWidth,height:a.element.clientHeight});for(var d=a.ea.height,e=S(a),g=0;g&lt;e.length;g++){for(var m=e[g],h=0,k=m;k&amp;&amp;a.element.contains(k);k=k.offsetParent)h+=k.offsetTop;var W=2*d;h+m.offsetHeight&gt;=b-W&amp;&amp;h&lt;=b+W&amp;&amp;c(m)}}
function Q(a,b){v(a,"vsync").run({measure:function(c){c.alreadyTransparent="rgba(0, 0, 0, 0)"==(a.getComputedStyle(b)||u())["background-color"]},mutate:function(a){if(!a.alreadyTransparent){if(!t.user)throw Error("failed to call initLogConstructor");t.user.warn("amp-lightbox","The background of the &lt;body&gt; element has been forced to transparent. If you need to set background, use an intermediate container.")}a={background:"transparent"};for(var c in a)b.style.setProperty(B(a,c),a[c].toString(),"important")}},
{})}var X=self,Y;if(X.AMP_MODE)Y=X.AMP_MODE;else{var Z=q(X.location.originalHash||X.location.hash),fa=q(X.location.search);r||(r=X.AMP_CONFIG&amp;&amp;X.AMP_CONFIG.v?X.AMP_CONFIG.v:"011516233619606");Y=X.AMP_MODE={localDev:!1,development:!("1"!=Z.development&amp;&amp;!X.AMP_DEV_MODE),examiner:"2"==Z.development,filter:Z.filter,minified:!0,lite:void 0!=fa.amp_lite,test:!1,log:Z.log,version:"1516233619606",rtvVersion:r}}"inabox"==Y.runtime&amp;&amp;Q(window,document.body);
(function(a){a.registerElement("amp-lightbox",P,"amp-lightbox{display:none;position:fixed!important;z-index:1000;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox[scrollable]{overflow-y:auto!important;overflow-x:hidden!important}\n/*# sourceURL=/extensions/amp-lightbox/0.1/amp-lightbox.css*/")})(self.AMP);
})});
//# sourceMappingURL=amp-lightbox-0.1.js.map

</pre></body></html>