<html><head></head><body><pre style="word-wrap: break-word; white-space: pre-wrap;">mmRequestCallbacks[1]({"Scripts":[{"Name":"integration_Factory","Type":"script","Attrs":{"type":"text/javascript"},"Data":"/*!\n *\tintegrations-module 0.9.4\n *\t-- Maxymiser Integrations Module provides a standardized approach to develop and deploy 3rd party integrations.\n *\t-- Built on 2016-05-09\n */\n!function(){function a(){function a(a,b){function i(b){return a=a||\"\",g(\"Integrations.register(\"+a+\"): \"+(b||\"\").toString())}var j,k;return b=e(b)?b:{},(a=(\"string\"==typeof a?a:\"\").toLowerCase().replace(/^\\s+|\\s+$/g,\"\"))?l[a]?(i(m.errors.alreadyRegistered),null):(b.name=a,j=h(b,{}),k={validate:c(j.validate)?j.validate:f,check:c(j.check)?j.check:f,interval:d(j.interval)?j.interval:50,timeout:d(j.timeout)?j.timeout:2e3,exec:c(j.exec)?j.exec:f,options:j},j=h(k,j),l[a]=j):(i(m.errors.missingRegisterName),null)}function i(a,b){b=e(b)?b:{};var c,d,f,g,i=new Deferred;if(a=(a||\"\").toLowerCase(),i.integrationName=a,!l[a])return m.reject(i,m.errors.unregisteredIntegration);if(c=h(l[a],{}),c=h(b,c),(f=c.validate(c))!==!0)return m.reject(i,f);if(d=c.campaign,(g=m.validateCampaignRequired(c,i))!==!0)return m.reject(i,g);if(c.isProduction=m.isProduction(),c.attributeMapRequired){var j=m.isValidAttributeMap(c.attributeMap);if(j!==!0)return m.reject(i,j)}return\"pending\"!==i.state()?i.promise():(\"never\"!==c.timeout&amp;&amp;m.setFailTimeout(c,i),m.check(c).then(function(a){return m.exec(c)}).then(function(a){return c.result=a,m.resolve(i,c)}).fail(function(a){return m.reject(i,a)}),i.promise())}function j(a,b){a=(a||\"\").toLowerCase();var c=l[a];return c?(b=e(b)?b:{},l[a]=h(b,c),this):!1}function k(a){if(!a)return l;var b=(a||\"\").toLowerCase();return l[b]}var l={},m={errors:{missingRegisterName:\"Invalid integration reigstration. Name argument is required.\",missingRegisterExec:\"Missing `exec` for integration registration\",alreadyRegistered:\"Integration has already been registered\",missingRunName:\"Missing `name` for `integration.run`\",unregisteredIntegration:\"Unknown integration name\",noCampaignExperience:\"Integration was run before the campaign has generated\",noRedirectCampaign:\"Redirect Integration is not in a valid campaign scope\",noRedirectCampaignData:\"Redirect Integration is not on a generation page\",campaignRequired:\"Integration must be deployed within a campaign script\",failedToSaveRedirectData:\"Failed to save redirect data\"},HALFHOUR:1/48,isProduction:function(){function a(a){for(var c,d={},e=\"\",f=0;c=b(a+f++);)e+=c;e=decodeURIComponent(e);try{d=JSON.parse(e)}catch(g){}return d}function b(a){var b=new RegExp(\"(?:^|; )\"+encodeURIComponent(a).replace(/([.$?*|{}()\\[\\]\\\\\\/+^])/g,\"\\\\$1\")+\"=([^;]+)\"),c=(document.cookie.match(b)||[\"\",\"\"])[1];return decodeURIComponent(c)}for(var c=a(\"mmcore.store.p.\")||{},d=a(\"mmcore.store.s.\")||{},e=a(\"mmapi.store.p.\")||{},f=a(\"mmapi.store.s.\")||{},g=[c,d,e,f],h={\"mmparams.p\":1,\"mmparams.d\":1},i={un:1,cfgID:1,pruh:1},j=g.length;j--;){var k=g[j];for(var l in h||{})for(var m in i||{})if((k[l]||{})[m])return!1}return!0},isValidIntegrationName:function(a){return\"string\"==typeof a&amp;&amp;/^\\w+/.test(a)},isCampaignScope:function(a){return!!(e(a)&amp;&amp;a.getName&amp;&amp;a.getExperience)},getCampaignExperience:function(a){var b={};return m.isCampaignScope(a)&amp;&amp;(b=a.getExperience&amp;&amp;a.getExperience()||{}),Object.keys(b)?m.formatCampaignExperience(b):!1},formatCampaignExperience:function(a){a=e(a)?a:{};var b=[];for(var c in a)b.push(c+\":\"+a[c]);return b.join(\"|\")},getData:function(a){a=(a||\"\").toLowerCase();var b=visitor.getData(\"Integrations\");return b=e(b)?b:{},a&amp;&amp;(b[a]=b[a]||{}),b},setRedirectData:function(a,b){if(a=(a||\"\").toLowerCase(),!m.isCampaignScope(b))return!1;var c=m.getData(a),d=b.getName();return c[a][d]=c[a][d]||{},c[a][d].redirectData=b.getExperience(),visitor.setData(\"Integrations\",c,m.HALFHOUR),!0},removeRedirectData:function(a,b){if(a=(a||\"\").toLowerCase(),!m.isCampaignScope(b))return!1;var c=m.getData(a),d=b.getName();return c[a][d]=c[a][d]||{},c[a][d].redirectData=null,visitor.setData(\"Integrations\",c,m.HALFHOUR),!0},getRedirectData:function(a,b){if(a=(a||\"\").toLowerCase(),!m.isCampaignScope(b))return!1;var c=m.getData(a),d=b.getName();if(c[a][d]=c[a][d]||{},!c[a]||!c[a][d])return c[a]=c[a]||{},c[a][d]=c[a][d]||{},c[a][d].redirectData=null,visitor.setData(\"Integrations\",c,m.HALFHOUR),!1;for(var e in c[a])if(e===d)return c[a][e].redirectData;return!1},getSessionDate:function(a,b){var c=m.getData(a),d=c[a][b.getName()]||{},e=d.sessionDate;return e},setSessionDate:function(a,b){var c=m.getData(a),d=b.getName();c[a][d]=c[a][d]||{},c[a][d].sessionDate=(new Date).getTime(),visitor.setData(\"Integrations\",c,m.HALFHOUR)},resolve:function(a,b){return a.resolve(b),a.promise()},reject:function(a,b){var c=a.integrationName||\"unknown name\";return b=b||\"unknown reason\",g(\"Integration [\"+c+\"]: \"+b.toString()),a.reject(b),a.promise()},validateCampaignRequired:function(a,b){if(!a.campaignRequired)return a.oncePerSession?\"campaign option is required when using the oncePerSession option\":a.redirect?\"campaign option is required when using the redirect option\":!0;var c=a.campaign,d=m.isCampaignScope(c);if(d!==!0)return m.errors.campaignRequired;if(a.campaignExperience=m.getCampaignExperience(c),a.campaignExperience===!1&amp;&amp;!a.redirect)return m.errors.noCampaignExperience(a.name);if(a.oncePerSession){var e=m.getSessionDate(a.name,c);if(m.setSessionDate(a.name,c),(new Date).getTime()-m.HALFHOUR&gt;e)return g(\"Integration [\"+a.name+\"]: data has already been sent this session\"),m.resolve(b,a),!0}if(a.redirect){var f=function(){var a=c.getElements();for(var b in a)return!0;return!1}();return f?c.isDefault()?!0:m.setRedirectData(a.name,c)?(m.resolve(b,a),!0):m.errors.failedToSaveRedirectData:(a.campaignExperience=m.getRedirectData(a.name,c),a.campaignExperience=m.formatCampaignExperience(a.campaignExperience),m.removeRedirectData(a.name,c),a.campaignExperience?!0:m.errors.noRedirectCampaignData)}return!0},setFailTimeout:function(a,b){!function(b){setTimeout(function(){setTimeout(function(){return\"pending\"===b.state()?m.reject(b,\"Integration timed out after \"+a.timeout+\"ms\"):void 0},0)},a.timeout+1)}(b)},isValidAttributeMap:function(a){if(!a)return\"Missing required attributeMap parameter\";if(!e(a)||!Object.keys(a).length)return\"The attributeMap parameter is empty or not an object\";for(var b in a){var c=a[b];if(\"string\"!=typeof b||!/^[a-zA-Z]+/.test(b))return\"Invalid attribute name in the attributeMap\";if(!e(c))return\"attributeMap values must be stored in an object\";if(!Object.keys(c).length)return\"attributeMap attribute object is empty\";for(var d in c)if(!/^\\w+$/.test(d)&amp;&amp;\"default\"!==d)return\"Invalid attribute ID in attributeMap\"}return!0},check:function(a){var c=new Deferred,d=!1;return function e(){var f=a.check.call(this,a);return b(f)?void setTimeout(function(){f.done(function(){return c.resolve()}).fail(function(a){return c.reject(a)})},0):f?void setTimeout(function(){c.resolve()},0):void(d||setTimeout(e,a.interval))}(),setTimeout(function(){d=!0},a.timeout),c.promise()},exec:function(a){var c=new Deferred,d=a.exec.call(this,a);return b(d)?(setTimeout(function(){d.done(function(a){return c.resolve(a)}).fail(function(a){return c.reject(a)})},0),c.promise()):(d===!0?m.resolve(c,a.result):m.reject(c,d),c.promise())}};return{register:a,run:i,setDefaults:j,get:k}}function b(a){return e(a)&amp;&amp;c(a.then)}function c(a){return\"function\"==typeof a}function d(a){return\"number\"==typeof a&amp;&amp;a&gt;0}function e(a){return\"object\"==typeof a&amp;&amp;!!a}function f(){return!0}function g(a){window.mm_error=window.mm_error||\"\",window.mm_error+=a+\"\\n\"}function h(a,b){a=e(a)?a:{},b=e(b)?b:{};var c={};for(var d in b)c[d]=b[d];for(var f in a)c[f]=a[f];return c}if(\"object\"==typeof modules&amp;&amp;\"function\"==typeof modules.define){var i={autoDefine:!0,singleton:!0};modules.define(\"Integrations\",i,a)}else modules={require:function(){return new a}}}();","Order":-100,"HighLevelApiVersion":"1.8"},{"Name":"UtilitaryLibrary","Type":"script","Attrs":{"type":"text/javascript"},"Data":"'use strict';\nmodules.define('utils', {}, function () {\n\tthis.money = (function () {\n\t\tfunction convertNumberToString(val) {\n\t\t\twhile (/(\\d+)(\\d{3})/.test(val)) {\n\t\t\t\tval = val.replace(/(\\d+)(\\d{3})/, '$1' + '.' + '$2');\n\t\t\t}\n\t\t\treturn val;\n\t\t}\n\t\treturn {\n\t\t\ttoFloat: function (amount) {\n\t\t\t\tvar amountString = '';\n\t\t\t\tamountString = amount.replace(/R\\$\\s/g, '');\n\t\t\t\tamountString = amountString.replace(/\\s/g, '');\n\t\t\t\tamountString = amountString.replace(/\\./g, '');\n\t\t\t\tamountString = amountString.replace(/,/g, '.');\n\t\t\t\treturn parseFloat(amountString);\n\t\t\t},\n\t\t\ttoString: function (amount) {\n\t\t\t\tvar amountString = '',\n\t\t\t\t\tamountArr = [];\n\t\t\t\tamountString = amount.toFixed(2);\n\t\t\t\tif (/\\./.test(amountString)) {\n\t\t\t\t\t(function () {\n\t\t\t\t\t\tamountArr = amountString.split('.');\n\t\t\t\t\t\tamountArr[0] = convertNumberToString(amountArr[0]);\n\t\t\t\t\t})();\n\t\t\t\t\treturn 'R$ ' + amountArr.join(',');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\tthis.router = (function () {\n\t\tfunction Router(options) {\n\t\t\tthis._options = options ? options : null;\n\t\t\tthis._routes = [];\n\t\t}\n\t\tRouter.prototype.getFragment = function () {\n\t\t\tvar fragment = '',\n\t\t\t\tmatch = window.location.href.match(/#(.*)$/);\n\t\t\tfragment = match ? match[1] : '';\n\t\t\treturn this.clearSlashes(fragment);\n\t\t};\n\t\tRouter.prototype.clearSlashes = function (path) {\n\t\t\treturn path.toString().replace(/\\/$/, '').replace(/^\\//, '');\n\t\t};\n\t\tRouter.prototype.add = function (re, handler) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\thandler = arguments[0];\n\t\t\t\tre = '';\n\t\t\t}\n\t\t\tthis._routes.push({\n\t\t\t\tre: re,\n\t\t\t\thandler: handler\n\t\t\t});\n\t\t\treturn this;\n\t\t};\n\t\tRouter.prototype.remove = function (param) {\n\t\t\tfor (var i = 0, len = this._routes.length, r; i &lt; len; i++) {\n\t\t\t\tr = this._routes[i];\n\t\t\t\tif (r.handler === param || r.re.toString() === param.toString()) {\n\t\t\t\t\tthis._routes.splice(i, 1);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\tRouter.prototype.flush = function () {\n\t\t\tthis._routes = [];\n\t\t\tthis._options = null;\n\t\t};\n\t\tRouter.prototype.check = function (f) {\n\t\t\tvar fragment = f || this.getFragment();\n\t\t\tfor (var i = 0, len = this._routes.length, match, route; i &lt; len; i++) {\n\t\t\t\troute = this._routes[i];\n\t\t\t\tmatch = fragment.match(route.re);\n\t\t\t\tif (match) {\n\t\t\t\t\tmatch.shift();\n\t\t\t\t\troute.handler.apply({}, match);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\tif (window &amp;&amp; window.document &amp;&amp; window.document.body &amp;&amp; 'onhashchange' in window.document.body) {\n\t\t\tRouter.prototype.listen = function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tcurrent = '',\n\t\t\t\t\tfn = function () {\n\t\t\t\t\t\tif (current !== self.getFragment()) {\n\t\t\t\t\t\t\tcurrent = self.getFragment();\n\t\t\t\t\t\t\tif (self._options &amp;&amp; self._options.beforeRouteInit &amp;&amp; typeof self._options.beforeRouteInit === 'function') {\n\t\t\t\t\t\t\t\tself._options.beforeRouteInit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.check(current);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\twindow.addEventListener('hashchange', fn);\n\t\t\t\tfn();\n\t\t\t\treturn this;\n\t\t\t};\n\t\t} else {\n\t\t\tRouter.prototype.listen = function () {\n\t\t\t\tvar self = this,\n\t\t\t\t\tcurrent = '',\n\t\t\t\t\tfn = function () {\n\t\t\t\t\t\tif (current !== self.getFragment()) {\n\t\t\t\t\t\t\tcurrent = self.getFragment();\n\t\t\t\t\t\t\tif (self._options &amp;&amp; self._options.beforeRouteInit &amp;&amp; typeof self._options.beforeRouteInit === 'function') {\n\t\t\t\t\t\t\t\tself._options.beforeRouteInit();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.check(current);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.interval = setInterval(fn, 50);\n\t\t\t\treturn this;\n\t\t\t};\n\t\t}\n\t\treturn function (options) {\n\t\t\treturn new Router(options);\n\t\t};\n\t})();\n\tthis.location = (function () {\n\t\tfunction Location(options) {\n\t\t\tthis._options = options ? options : null;\n\t\t\tthis._pages = [];\n\t\t}\n\t\tLocation.prototype.getLocation = function () {\n\t\t\treturn window.location.href;\n\t\t};\n\t\tLocation.prototype.add = function (re, handler) {\n\t\t\tif (arguments.length === 1) {\n\t\t\t\thandler = arguments[0];\n\t\t\t\tre = '';\n\t\t\t}\n\t\t\tthis._pages.push({\n\t\t\t\tre: re,\n\t\t\t\thandler: handler\n\t\t\t});\n\t\t\treturn this;\n\t\t};\n\t\tLocation.prototype.remove = function (param) {\n\t\t\tfor (var i = 0, len = this._pages.length, r; i &lt; len; i++) {\n\t\t\t\tr = this._pages[i];\n\t\t\t\tif (r.handler === param || r.re.toString() === param.toString()) {\n\t\t\t\t\tthis._pages.splice(i, 1);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\tLocation.prototype.flush = function () {\n\t\t\tthis._pages = [];\n\t\t\tthis._options = null;\n\t\t};\n\t\tLocation.prototype.check = function (loc) {\n\t\t\tvar fragment = loc || this.getLocation();\n\t\t\tfor (var i = 0, len = this._pages.length, match, page; i &lt; len; i++) {\n\t\t\t\tpage = this._pages[i];\n\t\t\t\tmatch = fragment.match(page.re);\n\t\t\t\tif (match) {\n\t\t\t\t\tmatch.shift();\n\t\t\t\t\tpage.handler.apply({}, match);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t\tLocation.prototype.listen = function () {\n\t\t\tvar current = this.getLocation();\n\t\t\tif (this._options &amp;&amp; this._options.beforeLocationInit &amp;&amp; typeof this._options.beforeLocationInit === 'function') {\n\t\t\t\tthis._options.beforeLocationInit();\n\t\t\t}\n\t\t\tthis.check(current);\n\t\t\treturn this;\n\t\t};\n\t\treturn function (options) {\n\t\t\treturn new Location(options);\n\t\t};\n\t})();\n\tthis.pubSub = function () {\n\t\tvar subscribers = {};\n\t\treturn {\n\t\t\tpublish: function (topic, data) {\n\t\t\t\tsubscribers[topic].forEach(function(subscriber) {\n\t\t\t\t\tsubscriber(data);\n\t\t\t\t});\n\t\t\t},\n\t\t\tsubscribe: function (topic, callback) {\n\t\t\t\tvar index;\n\t\t\t\t!subscribers[topic] &amp;&amp; (subscribers[topic] = []);\n\t\t\t\tindex = subscribers[topic].push(callback) - 1;\n\t\t\t\treturn {\n\t\t\t\t\tunsubscribe: function() {\n\t\t\t\t\t\tsubscribers[topic].splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t};\n\tthis.template = {\n\t\tcompile: function (tpl, data) {\n\t\t\tvar re = /&lt;%([^%&gt;]+)?%&gt;/g,\n\t\t\t\treExp = /(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,\n\t\t\t\tcode = 'var r=[];\\n',\n\t\t\t\tcursor = 0,\n\t\t\t\tmatch,\n\t\t\t\tadd = function (line, js) {\n\t\t\t\t\tcode += js ? (line.match(reExp) ? line + '\\n' : 'r.push(' + line + ');\\n') : 'r.push(\\\"' + line.replace(/\"/g, '\\\\\"') + '\\\");\\n';\n\t\t\t\t};\n\t\t\ttpl = tpl instanceof Array ? tpl.join('') : tpl;\n\t\t\twhile (match = re.exec(tpl)) {\n\t\t\t\tadd(tpl.slice(cursor, match.index));\n\t\t\t\tadd(match[1], true);\n\t\t\t\tcursor = match.index + match[0].length;\n\t\t\t}\n\t\t\tadd(tpl.substr(cursor, tpl.length - cursor));\n\t\t\tcode += 'return r.join(\"\");';\n\t\t\treturn new Function(code.replace(/[\\r\\t\\n]/g, '')).apply(data);\n\t\t}\n\t};\n\tthis.onlyNumbers = function (str) {\n\t\treturn str.replace(/\\D/g, '');\n\t};\n\tthis.compose = function () {\n\t\tvar args = arguments,\n\t\t\tstart = args.length - 1;\n\t\tif (args.length &lt; 2) {\n\t\t\tthrow new Error('Need at least 2 arguments');\n\t\t}\n\t\treturn function () {\n\t\t\tvar i = start,\n\t\t\t\tresult = args[start].apply(this, arguments);\n\t\t\twhile (i--) {\n\t\t\t\tresult = args[i].call(this, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t};\n\tthis.curry = (function () {\n\t\tvar curry = function () {\n\t\t\tvar args = Array.prototype.slice.call(arguments),\n\t\t\t\tfn = args.shift();\n\t\t\tif (args.length === fn.length) {\n\t\t\t\treturn fn.apply(curry, args);\n\t\t\t}\n\t\t\treturn curry.bind.apply(curry, [curry, fn].concat(args));\n\t\t};\n\t\treturn curry;\n\t})();\n\tthis.extend = function ( ) {\n\t\tvar args = Array.prototype.slice.call(arguments),\n\t\t\ttarget = args.shift();\n\t\targs.forEach(function (source) {\n\t\t\tfor (var key in source) {\n\t\t\t\tif (source.hasOwnProperty(key)) {\n\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn target;\n\t};\n\tthis.prop = function (property, obj) {\n\t\treturn obj[property];\n\t};\n\tthis.debounce = function (func, threshold, immediate) {\n\t\tvar timeout;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments,\n\t\t\t\tcallNow;\n\t\t\tvar later = function () {\n\t\t\t\ttimeout = null;\n\t\t\t\t!immediate &amp;&amp; func.apply(context, args);\n\t\t\t};\n\t\t\tcallNow = immediate &amp;&amp; !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, threshold);\n\t\t\tcallNow &amp;&amp; func.apply(context, args);\n\t\t};\n\t};\n\tthis.throttle = function (func, threshold) {\n\t\tvar inThrottle, lastFunc, throttleTimer;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\t\t\tif (inThrottle) {\n\t\t\t\tclearTimeout(lastFunc);\n\t\t\t\treturn lastFunc = setTimeout(function () {\n\t\t\t\t\tfunc.apply(context, args);\n\t\t\t\t\tinThrottle = false;\n\t\t\t\t}, threshold);\n\t\t\t} else {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t\tinThrottle = true;\n\t\t\t\treturn throttleTimer = setTimeout(function () {\n\t\t\t\t\treturn inThrottle = false;\n\t\t\t\t}, threshold);\n\t\t\t}\n\t\t};\n\t};\n\tthis.limitCharacter = function (text, limit) {\n\t\tvar cutText = text.substr(0, limit);\n\t\treturn cutText.substr(0, cutText.lastIndexOf(' '));\n\t};\n\tthis.trim = function (str) {\n\t\treturn str.replace(/^\\s*|\\s*$/g, '');\n\t};\n});\n","Order":-91,"HighLevelApiVersion":"1.8"},{"Name":"CoreFunctions","Type":"script","Attrs":{"type":"text/javascript"},"Data":"console.log(\"core\");\n'use strict';\nmodules.define('core', {}, function() {\n\tvar mmcookies = cookies,\n\t\tmmactions = actions,\n\t\trequire = modules.require,\n\t\t_ = require('utils'),\n\t\t_sat = window._satellite;\n\tthis.setPurchaseValue = function(brand, number) {\n\t\tvar testCookie = brand + 'CookieT' + number,\n\t\t\ttestPage = brand + 'T' + number + '_ValorCompraID',\n\t\t\tpurchaseCookie = brand + 'ckCompraT' + number,\n\t\t\tpurchaseId = '',\n\t\t\tpurchaseValue = '',\n\t\t\tpaymentMethod = '';\n\t\tif (mmcookies.get(testCookie) === 'ativo') {\n\t\t\tpurchaseId = _sat.getVar('getCompletePurchaseID');\n\t\t\tif (mmcookies.get(purchaseCookie) !== purchaseId) {\n\t\t\t\tmmcookies.set(purchaseCookie, purchaseId, {\n\t\t\t\t\texpires: 4\n\t\t\t\t});\n\t\t\t\tpurchaseValue = _sat.getVar('getCostPurchase').toString().replace(/\\D/g, '');\n\t\t\t\tpaymentMethod = window.crmWA_dataLayer[0].objFunilMetdPagamento;\n\t\t\t\tmmactions.send(testPage, purchaseValue, paymentMethod);\n\t\t\t}\n\t\t}\n\t};\n\tthis.setTestCookie = function(brand, number, value) {\n\t\tvar cookieName = brand + 'CookieT' + number,\n\t\t\tcookieValue = value || 'ativo';\n\t\tif (!mmcookies.get(cookieName)) {\n\t\t\tmmcookies.set(cookieName, cookieValue);\n\t\t}\n\t};\n\tthis.cookie = (function() {\n\t\tvar Cookie = {};\n\t\tCookie = function(cookieName, defaults) {\n\t\t\tif (!arguments.length) {\n\t\t\t\tthrow new Error('Arguments Error: Function needs at least one argument');\n\t\t\t}\n\t\t\tthis._name = cookieName;\n\t\t\tthis._defaults = defaults || {};\n\t\t};\n\t\tCookie.prototype.get = function(attr) {\n\t\t\tvar cookie = mmcookies.get(this._name, true),\n\t\t\t\tstate = cookie ? JSON.parse(cookie) : _.extend({}, this._defaults);\n\t\t\tif (attr &amp;&amp; !_.prop(state, 'attr')) {\n\t\t\t\tthrow new Error('Property doesn\\'t exist');\n\t\t\t}\n\t\t\treturn attr ? state[attr] : state;\n\t\t};\n\t\tCookie.prototype.set = function(properties) {\n\t\t\tvar cookie = this.get();\n\t\t\tif (properties &amp;&amp; typeof properties !== 'object') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_.extend(cookie, properties);\n\t\t\tmmcookies.set(this._name, JSON.stringify(cookie), {\n\t\t\t\texpires: 0\n\t\t\t});\n\t\t\treturn cookie;\n\t\t};\n\t\tCookie.prototype.reset = function() {\n\t\t\treturn this.set(this._defaults);\n\t\t};\n\t\treturn Cookie;\n\t})();\n\tthis.metrics = (function() {\n\t\tvar inherit = function(child, parent) {\n\t\t\tchild.prototype = Object.create(parent.prototype);\n\t\t};\n\t\tfunction BaseMetrics() {}\n\t\tBaseMetrics.prototype.log = function(attribute) {\n\t\t\tconsole.log('Action ' + this.actionName + ' com attributo \"' + attribute + '\" foi registrada');\n\t\t};\n\t\tfunction VisitorMetrics(testName, actionName, shouldLog) {\n\t\t\tthis.testName = testName;\n\t\t\tthis.actionName = actionName;\n\t\t\tthis.shouldLog = shouldLog || false;\n\t\t}\n\t\tinherit(VisitorMetrics, BaseMetrics);\n\t\tVisitorMetrics.prototype.fire = function(attribute) {\n\t\t\tattribute = attribute || '';\n\t\t\tthis.shouldLog &amp;&amp; this.log(attribute);\n\t\t\tmmsystem.SendUniqueAttribute(this.testName, this.actionName, 1, attribute);\n\t\t};\n\t\tfunction ClickMetrics(actionName, shouldLog) {\n\t\t\tthis.actionName = actionName;\n\t\t\tthis.shouldLog = shouldLog || false;\n\t\t}\n\t\tinherit(ClickMetrics, BaseMetrics);\n\t\tClickMetrics.prototype.fire = function(attribute) {\n\t\t\tattribute = attribute || '';\n\t\t\tthis.shouldLog &amp;&amp; this.log(attribute);\n\t\t\tmmactions.send(this.actionName, 1, attribute);\n\t\t};\n\t\treturn {\n\t\t\tvisitor: VisitorMetrics,\n\t\t\tclick: ClickMetrics\n\t\t};\n\t})();\n});\n","Order":-90,"HighLevelApiVersion":"1.8"},{"Name":"Module Exporter","Type":"script","Attrs":{"type":"text/javascript"},"Data":"(function(args) {\n\tvar _modules = 'site,Deferred,when,events,actions,visitor,dom,modules,cookies'.split(',');\n\tfor (var i = _modules.length; i--;) {\n\t\ttry {\n\t\t\tmmsystem[_modules[i]] = eval(_modules[i]);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n})(arguments);","Order":-89,"HighLevelApiVersion":"1.8"},{"Name":"SendUniqueAttr_CD","Type":"script","Attrs":{"type":"text/javascript"},"Data":"(function(ls) {\n    if (!ls) return console.log('localStorage is needed for mmsystem.SendUniqueAttribute');\n\n    var storageName = 'MM_ActionAttributes',\n        expiration = 60 * 60 * 24 * 60 * 1000,\n        existingJSON = {};\n\n    function parseStorage() {\n        var now = (new Date().getTime()),\n            existing = ls.getItem(storageName) || '';\n\n        try {\n            existingJSON = JSON.parse(existing);\n        } catch (e) {\n            existingJSON = {};\n        }\n\n        for (var action in existingJSON) {\n            for (var attribute in existingJSON[action]) {\n                if (now - existingJSON[action][attribute] &gt; expiration) {\n                    delete existingJSON[action][attribute];\n                }\n            }\n        }\n        if (existingJSON)\n            ls.setItem(storageName, JSON.stringify(existingJSON));\n    }\n\n    mmsystem.SendUniqueAttribute = function(campaign, name, value, attribute) {\n        parseStorage();\n        campaign = campaign.replace(/\\W/g, '');\n        var key = campaign + '_' + name;\n        attribute = attribute || '';\n        value = value || 1;\n        if (existingJSON[key] &amp;&amp; existingJSON[key][attribute]) return;\n        actions.send(name, value, attribute);\n        existingJSON[key] = existingJSON[key] || {};\n        existingJSON[key][attribute] = (new Date().getTime());\n        ls.setItem(storageName, JSON.stringify(existingJSON));\n    };\n})(window.localStorage);","Order":-88,"HighLevelApiVersion":"1.8"},{"Name":"session_Count","Type":"script","Attrs":{"type":"text/javascript"},"Data":"'use strict';\n(function() {\n\tvar mmcookies = cookies, \n\t\tsessionCount = mmcookies.get('sessionCount', 1),\n\t\tsessionLogged = mmcookies.get('sessionLogged', 1);\n\tif (sessionLogged) {\n\t\treturn;\n\t}\n\tmmcookies.set('sessionLogged', 1, { expires: 0 });\n\tmmcookies.set('sessionCount', ++sessionCount, { expires: 60 });\n})();","Order":0,"HighLevelApiVersion":"1.8"},{"Name":"integration_Adobe","Type":"script","Attrs":{"type":"text/javascript"},"Data":"/*!\n *\tAdobeAnalytics 1.1.2\n *\t-- Maxymiser Adobe Analytics integration\n *\t-- Built on 2016-08-02\n */\n!function(){var a={version:\"1.1.2\",validate:function(a){return a.eVar&amp;&amp;!b.isNumber(a.eVar)?b.errors.invalidEvar(a.eVar):a.prop&amp;&amp;!b.isNumber(a.prop)?b.errors.invalidProp(a.prop):a.sVariable&amp;&amp;!b.isSVariable(a.sVariable)?b.errors.invalidSVariable(a.sVariable):b.getParams(a).length?!(!a.trackingServer&amp;&amp;!a.ignoreTrackingServer)||b.errors.missingTrackingServer:b.errors.missingParameters},oncePerSession:!0,campaignRequired:!0,check:function(a){var c=b.getSVariable(a.sVariable);return a.ignoreTrackingServer?c:c&amp;&amp;c.trackingServer===a.trackingServer},timeout:7e3,exec:function(a){return a.sync?(b.populateSyncData(a),!0):b.send(a)}},b={errors:{missingParameters:\"The `eVar` and/or `prop` option are required and missing\",invalidEvar:function(a){return\"Invalid eVar provided [\"+(a||\"\").toString()+\"]\"},invalidProp:function(a){return\"Invalid prop provided [\"+(a||\"\").toString()+\"]\"},invalidSVariable:function(a){return\"Invalid sVariable provided [\"+(a||\"\").toString()+\"] (must be `string` or `s object`)\"},missingTrackingServer:function(){return\"Missing trackingServer option\"}},isSVariable:function(a){return\"string\"==typeof a?/^[A-Za-z0-9_\\-\\$]+$/.test(a):\"object\"==typeof a&amp;&amp;b.isSObject(a)},isSObject:function(a){return\"object\"==typeof a&amp;&amp;\"function\"==typeof a.t},getSVariable:function(a){return a&amp;&amp;\"string\"!=typeof a?!!b.isSObject(a)&amp;&amp;a:!!b.isSObject(window[a||\"s\"])&amp;&amp;window[a||\"s\"]},isNumber:function(a){return a&amp;&amp;(+a).toFixed(0)&gt;0},send:function(a){var c=b.getParams(a),d=b.getSVariable(a.sVariable);d.linkTrackVars=c.join(\",\");for(var e=0;e&lt;c.length;e++)d[c[e]]=a.campaign.getName()+\"=\"+a.campaignExperience;return d.tl(!0,\"o\",\"Maxymiser \"+(a.isProduction?\"Live\":\"QA\")),!0},getParams:function(a){var b=[];return a.eVar&amp;&amp;b.push(\"eVar\"+a.eVar),a.prop&amp;&amp;b.push(\"prop\"+a.prop),b},populateSyncData:function(a){var c=b.getParams(a);window.mm_adobe_data=window.mm_adobe_data||{};for(var d=c.length;d--;)window.mm_adobe_data[c[d]]=a.campaignExperience}};\"object\"==typeof modules&amp;&amp;\"function\"==typeof modules.define&amp;&amp;modules.require(\"Integrations\").register(\"Adobe Analytics\",a)}();","Order":0,"HighLevelApiVersion":"1.8"},{"Name":"Polyfill","Type":"script","Attrs":{"type":"text/javascript"},"Data":"if (!Array.prototype.forEach) {\n\tArray.prototype.forEach = function(callback, thisArg) {\n\t\tvar T, k;\n\t\tif (this === null) {\n\t\t\tthrow new TypeError(' this is null or not defined');\n\t\t}\n\t\tvar O = Object(this);\n\t\tvar len = O.length &gt;&gt;&gt; 0;\n\t\tif (typeof callback !== \"function\") {\n\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t}\n\t\tif (arguments.length &gt; 1) {\n\t\t\tT = thisArg;\n\t\t}\n\t\tk = 0;\n\t\twhile (k &lt; len) {\n\t\t\tvar kValue;\n\t\t\tif (k in O) {\n\t\t\t\tkValue = O[k];\n\t\t\t\tcallback.call(T, kValue, k, O);\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t};\n}\nif (!Array.prototype.filter) {\n\tArray.prototype.filter = function(fun  ) {\n\t\t'use strict';\n\t\tif (this === void 0 || this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar t = Object(this);\n\t\tvar len = t.length &gt;&gt;&gt; 0;\n\t\tif (typeof fun !== 'function') {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar res = [];\n\t\tvar thisArg = arguments.length &gt;= 2 ? arguments[1] : void 0;\n\t\tfor (var i = 0; i &lt; len; i++) {\n\t\t\tif (i in t) {\n\t\t\t\tvar val = t[i];\n\t\t\t\tif (fun.call(thisArg, val, i, t)) {\n\t\t\t\t\tres.push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n}\nif (!Array.prototype.map) {\n\tArray.prototype.map = function(callback, thisArg) {\n\t\tvar T, A, k;\n\t\tif (this == null) {\n\t\t\tthrow new TypeError(' this is null or not defined');\n\t\t}\n\t\tvar O = Object(this);\n\t\tvar len = O.length &gt;&gt;&gt; 0;\n\t\tif (typeof callback !== 'function') {\n\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t}\n\t\tif (arguments.length &gt; 1) {\n\t\t\tT = thisArg;\n\t\t}\n\t\tA = new Array(len);\n\t\tk = 0;\n\t\twhile (k &lt; len) {\n\t\t\tvar kValue, mappedValue;\n\t\t\tif (k in O) {\n\t\t\t\tkValue = O[k];\n\t\t\t\tmappedValue = callback.call(T, kValue, k, O);\n\t\t\t\tA[k] = mappedValue;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\treturn A;\n\t};\n}\n","Order":0,"HighLevelApiVersion":"1.8"},{"Name":"CookieTestes","Type":"script","Attrs":{"type":"text/javascript"},"Data":"(function() {\n\tvar mmcookies = cookies;\n\tvar mmsite = site;\n\tvar isUserInProductionMode = (function(){\n\t\tvar mmstoreCookie = mmcookies &amp;&amp; mmcookies.get('mmapi.store.s.0');\n\t\tvar mmstore = mmstoreCookie &amp;&amp; JSON.parse(mmstoreCookie);\n\t\tvar cfgID = mmstore &amp;&amp; mmstore['mmparams.p'].cfgID;\n\t\treturn !cfgID || (cfgID &amp;&amp; cfgID.indexOf('2') &gt; -1);\n\t})();\n\tif (isUserInProductionMode) {\n\t\tvar EXCLUSION_TAGS = ['MC', 'QA', 'Dev', 'Old', 'Gap', 'T0'];\n\t\tvar tests = JSON.stringify(mmsite.getPageExperiences());\n\t\tvar listOfTests = tests\n\t\t.split('},')\n\t\t.map(function(item){\n\t\t\treturn item.replace(/[\\'\\\"\\{\\}\\s]/g, '').replace(',', '_').replace(/(.*)(\\:)(.*)(\\:)(.*)/, '$1,$3$4$5');\n\t\t});\n\t\tvar filterThroughCondition = function(conditions) {\n\t\t\tvar filtered = [];\n\t\t\treturn function(arr) {\n\t\t\t\tconditions.forEach(function(condition, index){\n\t\t\t\t\tfiltered = index === 0 ? arr : filtered;\n\t\t\t\t\tfiltered = filtered.filter(function(item) {\n\t\t\t\t\t\treturn item.indexOf(condition) === -1;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn filtered;\n\t\t\t};\n\t\t};\n\t\tvar writeCookie = function(tests) {\n\t\t\ttests.forEach(function(item){\n\t\t\t\tvar cookie = mmcookies.get('Maxymiser4See') || '',\n\t\t\t\t\tallTests = cookie + item + '|';\n\t\t\t\tif(cookie.indexOf(item) === -1) {\n\t\t\t\t\tmmcookies.set('Maxymiser4See', allTests, { expires : 0 });\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\twriteCookie(filterThroughCondition(EXCLUSION_TAGS)(listOfTests));\n\t}\n})();\n","Order":1,"HighLevelApiVersion":"1.8"}],"Campaigns":[],"MRRules":[],"PersistData":[{"Name":"srv","IsGlobal":false,"Value":"ldnvwcgus03","Expiration":365},{"Name":"pd","IsGlobal":false,"Value":"-1934480538|AQAAAApVAgDmZ2Owyg8AAREAAUKWxGThAQB2ekytJWTVSHZ6TK0lZNVIAAAAAP//////////AAZEaXJlY3QByg8BAAAAAAAAAAAA////////////////AAAAAAAAAAFF","Expiration":365}],"SiteInfo":[{"Url":"submarino.com.br","ID":187}],"SystemData":[{"Version":"1.0","RequestId":1,"ResponseId":1}],"GenInfo":{},"ServerAttributes":{},"Iteration":"mYO8DLV_42RmwEFUDye2lVaTv7g","Packages":["mmpackage-1.8.js"]});</pre></body></html>