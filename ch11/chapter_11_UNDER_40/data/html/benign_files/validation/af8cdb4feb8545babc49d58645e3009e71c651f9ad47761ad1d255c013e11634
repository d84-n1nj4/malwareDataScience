<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="favicon" rel="shortcut icon" href="/favicon.ico" />
        <title>MPLS_VPN 标签分发详解-老人与猪-51CTO博客</title>
    <meta name="keywords" content="VPN,MPLS,标签分发">
<meta name="description" content="等了两天了，都没有二面的通知，被刷的事实要接受了。。但是，我百折不饶，所以今天下午又去笔试了，笔试内容比上一次难多了。还有我们没学到的IS-IS，极陌生的协议，相关的题目全部拼运气了。。这也就算了，后悔没把卷一看全也于事无补了，关键还被MPLS VPN的几道题搞晕了。。因此，在网络上搜索了一篇关于MPLS_VPN标签分发的文章来继续学习一下了。。
&amp;nbsp;MPLS标签分发协议有：
1.LD">    <link href="http://static1.51cto.com/edu/blog/css/header.css?v=1.0.1.4" rel="stylesheet"><link href="http://static1.51cto.com/edu/blog/css/right.css?v=1.0.1.8" rel="stylesheet"><link href="http://static1.51cto.com/edu/blog/css/blog_details.css?v=1.0.1.7" rel="stylesheet"><link href="http://static1.51cto.com/edu/blog/css/highlight.css" rel="stylesheet">
    <script src="http://static1.51cto.com/edu/center/js/jquery.min.js"></script><script src="http://static1.51cto.com/edu/blog/js/login.js?v=1.0.0.5"></script><script src="http://static1.51cto.com/edu/blog/js/common.js?v=1.0.0.7"></script><script src="http://static1.51cto.com/edu/blog/js/mbox.js"></script><script src="http://static1.51cto.com/edu/blog/js/vip.js?v=1.0.0.1"></script></head>
<body>
<img src="http://static1.51cto.com/edu/blog/mobile/images/share_default.jpg" border="0" style="width:0; height:0; position:absolute;">
<div class="Header">
  <div class="Page ">
    <h1 class="Logo"><a href="http://blog.51cto.com/">Logo</a></h1>
    <ul class="Navigates fl">
      <li ><a href="http://blog.51cto.com/">首页</a></li>
      <li ><a href="http://blog.51cto.com/original">文章</a></li>
            <li class="more ">
        <a href="javascript:void(0);">专家</a>
        <div>
          <a href="http://blog.51cto.com/expert">专家博客</a>
          <a href="http://blog.51cto.com/blogstar">博客之星</a>
          <a href="http://blog.51cto.com/blogcommend">推荐博客</a>
        </div>
      </li>
            <li ><a href="http://blog.51cto.com/blogger/index">我的博客</a></li>
    </ul>
    <ul class="Navigates Navigates-right fr">
      <li class="more maps">
        <a href="javascript:void(0);">网站导航</a>
        <div>
            <a href="http://edu.51cto.com" target="_blank">学院</a>
            <a href="http://blog.51cto.com" target="_blank">博客</a>
            <a href="http://down.51cto.com" target="_blank">下载</a>
            <a href="http://home.51cto.com" target="_blank">家园</a>
            <a href="http://bbs.51cto.com" target="_blank">论坛</a>
            <a href="http://x.51cto.com" target="_blank">CTO训练营</a>
            <a href=" http://club.51cto.com?blog" target="_blank">CTO俱乐部</a>
            <a href="http://wot.51cto.com" target="_blank">WOT</a>
            <a href="http://www.51cto.com" target="_blank">51CTO</a>
            <i class="arrow"></i>
        </div>
      </li>
                <li><a href="http://home.51cto.com/user/register?reback=http%253A%252F%252Fblog.51cto.com%252Flxw5466%252F1024868" target="_self">注册</a></li>
          <li class="login"><a href="/user/login?reback=http%3A%2F%2Fblog.51cto.com%2Flxw5466%2F1024868" target="_self">登录</a></li>
                        <li class="mRead">
          <a href="javascript:;">手机阅读</a>
          <div>
            <img src="http://static1.51cto.com/edu/blog/images/blog_qr.png">
            <p>扫一扫体验手机阅读</p>
            <i class="arrow"></i>
          </div>
        </li>
            <li class="search"><a href="http://blog.51cto.com/search/index"  target="_self">搜索</a></li>
                  <li class="write"><a href="javascript:;" onClick="Login()">写文章</a></li>
                  </ul>
    <div class="clear"></div>
  </div>
</div>
<script>
    var isLogin = '0';
    var imgpath = 'http://i2.51cto.com/';
    var BLOG_URL = 'http://blog.51cto.com/';
    var msg_num_url = '/index/ajax-msg-num';
    setTimeout(function(){
            $.ajax({
                url:msg_num_url,
                type:"get",
                dataType:'json',
                success:function(res){
                    if(res.status == '0'){
                       //
                       var hasNewMsg = false;
                       if(res.data.msgNum > 0 && !$('#myMsg i').hasClass('dot')){
                            $('#myMsg i').addClass('dot');
                            hasNewMsg = true;
                       }
                       if(res.data.notifyNum > 0 && !$('#myNotify i').hasClass('dot')){
                           $('#myNotify i').addClass('dot');
                           hasNewMsg = true;
                       }
                       if(res.data.recommend_new > 0 && !$('#myRecommend i').hasClass('dot')){
                           $('#myRecommend i').addClass('dot');
                           hasNewMsg = true;
                       }
                       if(hasNewMsg && !$('#myAllMsg i').hasClass('dot')){
                           $('#myAllMsg i').addClass('dot');
                       }
                    }
                    
                }
            });
    },70);
</script><div class="Content-box">
    	<link rel="stylesheet" href="http://static1.51cto.com/edu/blog/css/fck_editorarea.css">
	<link rel="stylesheet" href="http://static1.51cto.com/edu/blog/css/shCoreDefault.css?v=1.0.0.1">
<div class="Content Index" style="padding-bottom: 50px;">
	<div class="Page">
		<!-- left start -->
		<div class="Left fl">
			<div class="artical-Left">
				<div class="crumbs">
                													<span><a href="http://blog.51cto.com/lxw5466">老人与猪</a></span>
                							<em>&gt;</em>						<span>正文</span>
                						<div class="clear"></div>
				</div>
				<h1 class="artical-title">MPLS_VPN 标签分发详解									</h1>
				<div class="artical-title-list">
										<a href="javascript:;" class="tab reprint fl">转载</a>
					<a href="http://blog.51cto.com/lxw5466" class="name fl">54660564335</a>
					<span class="fl"></span>
					<a href="javascript:;" class="time fl">2012-10-14 00:50:24</a>
					<span class="fl"></span>
					<a href="#comment" class="comment fl">评论(0)</a>
					<a href="javascript:;" class="read fr">86人阅读</a>
					<div class="clear"></div>
				</div>
									<div class="artical-content-bak main-content editor-side-new">
						<div class="con editor-preview-side"><p>等了两天了，都没有二面的通知，被刷的事实要接受了。。但是，我百折不饶，所以今天下午又去笔试了，笔试内容比上一次难多了。还有我们没学到的IS-IS，极陌生的协议，相关的题目全部拼运气了。。这也就算了，后悔没把卷一看全也于事无补了，关键还被MPLS VPN的几道题搞晕了。。因此，在网络上搜索了一篇关于MPLS_VPN标签分发的文章来继续学习一下了。。</p>
<p>&nbsp;<span style="background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 2em; ">MPLS标签分发协议有：</span></p>
<p>1.LDP（Label Distribution Protocol）<br />
2.TDP（CISCO私有）<br />
3.RSVP资源预留协议<br />
4.CE-LDP<br />
5.MP-BGP（BGP-4的多协议扩展 ）<br />
6.Labeled BGP(带有标签分发能力的BGPV4)</p>
<p><br />
LDP（Label Distribution Protocol）标签分发协议<br />
LDP的操作主要包括以下四个阶段：<br />
(1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 发现阶段<br />
(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 会话建立与维护<br />
(3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSP建立与维护<br />
(4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 会话撤销<br />
1. 发现阶段<br />
希望建立会话的LSR向相邻LSR周期性地发送Hello消息，通知相邻节点自己的存在。通过这一过程，LSR可以自动发现它的LDP对等体，而无需进行手工配置。<br />
LDP有两种发现机制：<br />
（1）基本发现机制:<br />
基本发现机制用于发现本地的LDP对等体，即通过链路层直接相连的LSR，并在LDP对等体之间建立LDP会话。这种方式下，LSR周期性以UDP报文形式从接口发送LDP链路Hello消息（LDP Link Hello）。链路Hello消息的目的地址为&ldquo;子网内所有路由器&rdquo;的组播地址224.0.0.2。LDP链路Hello消息带有LSR的LDP标识符及其他相关信息，如果LSR在某个接口收到了LDP链路Hello消息，则表明在该接口（链路层）存在LDP对等体。<br />
（2）扩展发现机制:<br />
扩展发现机制用于发现远端的LDP对等体，即不通过链路层直接相连的LSR，并在LDP对等体之间建立LDP会话。这种方式下，LSR周期性以UDP报文形式向指定的IP地址发送LDP目标Hello消息（LDP Targeted Hello）。LDP目标Hello消息带有LSR的LDP标识符及其他相关信息，如果LSR收到LDP目标Hello消息，则表明在网络层存在LDP对等体。<br />
2. 会话建立与维护<br />
发现邻居之后，LSR开始建立会话。这一过程又可分为两步：<br />
(1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 建立传输层连接，即在LSR之间建立TCP连接；<br />
(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 随后对LSR之间的会话进行初始化，协商会话中涉及的各种参数，如LDP版本、标签发布方式、Keepalive定时器值、接收路由器的LDP标识符等。<br />
会话建立后，LDP对等体之间通过不断地发送Hello消息和Keepalive消息来维护这个会话。<br />
3. LSP建立与维护<br />
LDP通过发送标签请求和标签映射消息，在LDP对等体之间通告FEC和标签的绑定关系，从而建立LSP。<br />
(1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 网络的路由改变时，边缘节点（LSR ）发现自己的路由转发表中出现了新的目的地址，并且这一地址不属于任何现有的FEC，则LSR 为这一目的地址建立一个新的FEC。<br />
(2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果LSR 尚有可供分配的标签，则为FEC分配标签，并向上游LSR 通告标签映射。<br />
(3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSR 收到标签映射后，判断标签映射的发送者（LSR ）是否为该FEC的下一跳。若是，则在其标签转发表中增加相应的条目，为FEC分配标签，并继续向上游LSR 通告标签映射。<br />
(4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 同样地，LSR 收到标签映射后，判断标签映射的发送者（LSR ）是否为该FEC的下一跳。若是，则在其标签转发表中增加相应的条目，为FEC分配标签，并继续向上游LSR A通告标签映射。<br />
(5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 入口LSR（LSR ）收到标签映射后，判断标签映射的发送者（LSR B）是否为该FEC的下一跳。若是，则在其标签转发表中增加相应的条目。<br />
4. 会话撤销<br />
在以下情况下，LSR将撤销LDP会话：<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSR通过周期性发送Hello消息表明自己希望与邻居LSR继续维持这种邻接关系。如果Hello保持定时器超时仍没有收到新的Hello消息，则删除Hello邻接关系。一个LDP会话上可能存在多个Hello邻接关系。当LDP会话上的最后一个Hello邻接关系被删除后，LSR将发送Notification消息，结束该LDP会话。<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSR通过LDP会话上传送的LDP PDU（LDP PDU中携带一个或多个LDP消息）来判断LDP会话的连通性。如果会话保持定时器（Keepalive定时器）超时仍没有收到任何LDP PDU，LSR将关闭TCP连接，结束LDP会话。如果在Keepalive定时器超时前，LDP对等体之间没有需要交互的信息，LSR将发送Keepalive消息给LDP对等体，以便维持LDP会话。<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LSR还可以发送Shutdown消息，通知它的LDP对等体结束LDP会话。<br />
以RT5和RT3之间LDP邻居关系建立过程分析：<br />
首先在RT5和RT3上配置了MPLS后，就会进入邻居发现阶段，RT5和RT3互相发送Discovery消息（UDP：646 目标IP：224.0.0.2 TTL＝1）</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); "><img src="http://www.2cto.com/uploadfile/2011/0908/20110908092751704.jpg" style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; width: 630px; height: 306.8063583815029px; " alt="" /></p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); ">Version ― 协议版本号，当前为1。　　<br />
PDU Length ― PDU 总长，不包括版本和 PDU 长字段。　　<br />
LDP Identifier ― 该字段唯一识别由 PDU 请求的发送 LSR 的标签空间。起始的4 Octet 对分配给 LSR 的 IP 地址进行编码，最后的2 Octet 表示 LSR 中的标签空间。　　<br />
LDP Messages ：信息类型包括Notification、Hello、Initialization、Keep Alive、Address、Address Withdraw、Label Request、Label Withdraw、Label Release和 Unknown Message 名称。　　<br />
Message Length ― 信息 ID、命令参数和可选参数长（八位）。　　<br />
Message ID ― 32位值，提供信息识别。　　<br />
Parameters ― 参数包括 TLV。既有命令参数也有可选参数。有些信息没有命令参数，有些信息没有可选参数。<br />
当收到对方发来的Discovery消息就进入了会话建立阶段(TCP三次握手由LDP ID大的一方发起，端口为646)</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); "><img src="http://www.2cto.com/uploadfile/2011/0908/20110908092751244.jpg" style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; width: 630px; height: 48.2514450867052px; " alt="" /><br />
建立TCP连接后，会话初始化，由主发起初始化信息，并携带协商参数。（LDP ID大的为主）</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); "><img src="http://www.2cto.com/uploadfile/2011/0908/20110908092751907.jpg" style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; width: 630px; height: 225.78034682080926px; " alt="" /></p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); ">由从检查参数能否接受，如果能则发送初始化消息，并携带协商参数，并随后发送keepalive消息。</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); "><img src="http://www.2cto.com/uploadfile/2011/0908/20110908092751121.jpg" style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; width: 630px; height: 240.34682080924856px; " alt="" /></p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); ">主检查参数能否接受，如果能则发送Keepalive消息。相互收到Keepalive消息，会话建立，状态Operational，期间收到任何差错消息，均关闭会话，断开TCP连接！<br />
进入Operational状态后，开始为所有的IGP路由分发标签</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); "><img src="http://www.2cto.com/uploadfile/2011/0908/20110908092751704.jpg" style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; width: 630px; height: 306.8063583815029px; " alt="" /></p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); ">&nbsp;</p>
<p style="border-top-width: 0px; padding-right: 0px; padding-left: 0px; border-left-width: 0px; border-bottom-width: 0px; padding-bottom: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 0px; padding-top: 0px; border-right-width: 0px; list-style-type: none; list-style-position: initial; list-style-image: initial; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255); ">CISCO LDP标签分发原则：下游自主分发+独立控制+自由保留<br />
为全局路由表中的所有IGP路由分发标签（倒数第二跳弹出时分发标签3），将自己分发的标签发给所有LDP邻居，不分上下游，标签根据路由的下一跳进行优先，标签<a href="http://www.2cto.com/database/" target="_blank" class="keylink" style="color: rgb(51, 51, 51); text-decoration: none; ">数据库</a>中存在大量的非优选标签<br />
Quidway/H3C LDP标签分发原则;下游自主分发+有序控制+自由保留<br />
为自己的直连路由分发标签（倒数第二跳弹出时分发标签3），收到下游分发过来的标签且该标签生效时，向上游分发标签（生效指在全局路由表有该路由，并且标签是该路由的下一跳分发过来的标签）只为所有IGP路由分发标签，默认情况下只为32位IGP路由分发标签，标签数据库中存在大量的非优选标签</p></div>
					</div>
																				<div class="for-tag">
											<span><a href="http://blog.51cto.com/search/result?q=VPN" target="_blank">VPN</a></span>
											<span><a href="http://blog.51cto.com/search/result?q=MPLS" target="_blank">MPLS</a></span>
											<span><a href="http://blog.51cto.com/search/result?q=%E6%A0%87%E7%AD%BE%E5%88%86%E5%8F%91" target="_blank">标签分发</a></span>
										<div class="clear"></div>
				</div>
								<div class="more-list">
					<p class="praise fl "><span type="1" blog_id="1024868" userid='3032941'>0</span></p>
					<div class="share-box fr">
						<p class="share">分享</p>
						<div class="bdsharebuttonbox">
						  <span></span>
						  <a href="javascript:;" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友">QQ分享</a>
						  <a href="javascript:;" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">微博分享</a>
						  <a href="javascript:;" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信扫一扫</a>
						  <img src="/qr/qr-url?url=http%3A%2F%2Fblog.51cto.com%2Flxw5466%2F1024868">
						</div>
					</div>
					<p class="favorites fr">收藏</p>
										<div class="clear"></div>
				</div>
									<div class="artical-list">
                    						<a class="fl" href="http://blog.51cto.com/lxw5466/1022709" title="组播RP配置">上一篇：组播RP配置</a>
                                        						<a class="fr" href="http://blog.51cto.com/lxw5466/2018236" title="我的友情链接">下一篇：我的友情链接</a>
                    						<div class="clear"></div>
					</div>
							</div>
						<h2 class="artical-other-title">猜你喜欢</h2>
			<div class="artical-Left artical-border">
				<ul class="you-like-list">
											<li><a href="http://blog.51cto.com/ciscolulu/2062801" target="_blank">无线网络部署与规划要点及案例分享</a></li>
										<div class="clear"></div>
				</ul>
			</div>
						<h2 class="artical-other-title" id="comment">发表评论</h2>
			<div class="artical-Left artical-border">
				<!-- 发布评论 -->
				<div class="comment-creat">
                <div class="is-vip-bg fl">
					<a href="javascript:;" class="header-img">
                        <img class="is-vip-img is-vip-img-4" data-uid="" src="http://ucenter.51cto.com/images/noavatar_middle.gif"/>
					</a>
                </div>   
					<div class="first-publish fr publish_user_id">
						<textarea class="textareadiv textareadiv-publish" name="" id="" placeholder="写下你的评论"  maxlength="500"></textarea>
						<div class="comment-push">
							<p class="msg fl">Ctrl+Enter&nbsp;发布</p>
															<p class="publish-btn blue-btn fr" flag="1">发布</p>
														<p class="cancel-btn cancel-btn-1 fr">取消</p>
							<div class="clear"></div>
						</div>
						<input type="hidden" class="user_id" value="3032941">
						<input type="hidden" class="reply_id" value="1024868">
						<input type="hidden" class="first_pid" value="">
					</div>
					<div class="clear"></div>
				</div>
								<div class="commentList">
								</div>
				<!-- page -->
				<div class="act_pageList_box"></div>
			</div>

		</div>
		<!-- end left -->
		<!-- right start -->
		<div class="Right artical-Right fr">
			<!-- 博客名称 -->
			<div class="Box articles blogger-name">
				<div class="list">	
					<h4 class="BoxTil2 fl"><a href="http://blog.51cto.com/lxw5466">老人与猪</a></h4>
					<div class="BoxTil2-box fr">
						<span></span>
						<div>
			              <img src="/blogger/qr?domain=lxw5466">
			              <p>分享到朋友圈</p>
						</div>
					</div>
					<div class="clear"></div>
					<ul class="number-list">
						<li>
							<a class="num" href="javascript:;" >7</a>
							<p>文章</p>
						</li>
						<li>
							<a class="num" href="javascript:;" >4</a>
							<p>评论</p>
						</li>
						<li>
							<a class="num" href="javascript:;" >1</a>
							<p>点赞</p>
						</li>
						<li>
							<a class="num" href="javascript:;" >1386</a>
							<p>人气</p>
						</li>
						<div class="clear"></div>
					</ul>
				</div>
			</div>
			<!-- 博主信息 -->
			<div class="Box articles">
				<div class="list blogger">
					<div class="top">
						<div class="is-vip-bg-4 fl">
							<a class="left" href="http://blog.51cto.com/lxw5466">
								<img class="is-vip-img is-vip-img-4" data-uid="3032941" src="http://ucenter.51cto.com/images/noavatar_middle.gif" />
							</a>
						</div>
						<div class="right">
							<a href="/lxw5466" class="tit">54660564335</a>
							<div class="name-box">
				                				                				                																								<div class="clear"></div>
							</div>
							<div class="name-btn">
								<a href="http://blog.51cto.com/lxw5466" class="name-index blue-btn">TA的主页</a>
								<a href="http://home.51cto.com/space?uid=3032941" class="name-msg gray-btn">私信</a>
							</div>
						</div>
						<div class="clear"></div>
					</div>
					<div class="bottom">
						<div class="msg-title"><i class="l"></i>喜欢我的文章，请分享到朋友圈<i class="r"></i></div>
						<h4 class="title"><a href="javascript:;">TA的其他文章</a></h4>
						<ul class="seven-list">
							        						<li class="s2"><a href="http://blog.51cto.com/lxw5466/2018236">我的友情链接</a></li>
        					        						<li class="s2"><a href="http://blog.51cto.com/lxw5466/1022709">组播RP配置</a></li>
        					        						<li class="s2"><a href="http://blog.51cto.com/lxw5466/1021671">我的职场第一面</a></li>
        					        						<li class="s2"><a href="http://blog.51cto.com/lxw5466/1020749">要面试了。。</a></li>
        					        						<li class="s2"><a href="http://blog.51cto.com/lxw5466/1020068">组播基础知识</a></li>
        					      					</ul>
					</div>	
				</div>
			</div>
			<!-- 七日热门 -->
            			<h3 class="BoxTil">七日热门</h3>
		    <div class="Box articles">
		        <div class="list">
		        <ul class="seven-list">
	            	            <li class="s1"><a href="http://blog.51cto.com/13188467/2065321" target="_blank">我是一个CPU：这个世界慢！死！了！</a></li>
	            	            <li class="s2"><a href="http://blog.51cto.com/13586365/2065317" target="_blank">Java动态代理机制——那些让你面试脱颖而出的技能</a></li>
	            	            <li class="s3"><a href="http://blog.51cto.com/12906292/2065289" target="_blank">网络运维常用理论知识概括</a></li>
	            	            <li class="s4"><a href="http://blog.51cto.com/dyc2005/2065565" target="_blank">CentOS7安装配置svn及svn hook实战</a></li>
	            	            <li class="s5"><a href="http://blog.51cto.com/simeon/2066269" target="_blank">Linux SSH密码暴力破解技术及攻击实战</a></li>
	                
	            </ul>
	            </div>
	        </div>
	        	        <div class="update-top"></div>
		</div>
		<!-- end right  -->
		<div class="clear"></div>
	</div>
</div>

<!-- 老博文美观处理 -->
	<script src="http://static1.51cto.com/edu/blog/js/shCores.js?v=1.0.0.1"></script>
<script>
	var praise_url = 'http://blog.51cto.com/praise/praise'
	var addReply_url = 'http://blog.51cto.com/comments/add'
	var removeUrl = 'http://blog.51cto.com/comments/del'
	var blog_id = '1024868'
	var rid = '0'
	var is_comment = '0'
	var comment_list = '/blog/ajax-comment-list'
	var comment_sort = "asc"
	var index_url = 'http://blog.51cto.com/lxw5466';
    var uc_url = 'http://ucenter.51cto.com/'
    var blog_url = 'http://blog.51cto.com/'
    var img_url = 'http://static1.51cto.com/edu/blog/'
    var i_user_id = ''
    var c_user_id ='3032941'
	var collect_url = 'http://blog.51cto.com/collect/add'
	var is_old = '1'
	var nicknameurl = 'http://blog.51cto.com/lxw5466'
	var nickname = '54660564335'
	var myself = window.location.href
	$('.you-like-list li:odd').css({'margin-left': '10%'});
	window._bd_share_config={
    "common":{
      "bdText":"MPLS_VPN 标签分发详解",
      "bdDesc":$("#abstract_bdshare").text(),
      "bdMini":"2",
      "bdMiniList":false,
      "bdPic":"https://s1.51cto.com/images/201710/25/bd540a4f14d822f6e69087758699358b.jpg",
      "bdStyle":"0",
      "bdSize":"16"
    },
    "share":{}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>

</div>
<script src="http://static1.51cto.com/edu/blog/js/marked.min.js?v=1.0.0.5"></script><script src="http://static1.51cto.com/edu/blog/js/highlight.js"></script><script src="http://static1.51cto.com/edu/blog/js/detail_mp.js?v=1.0.1.1"></script><script src="http://static1.51cto.com/edu/blog/js/detail.js?v=1.0.1.9"></script><script src="http://static1.51cto.com/edu/blog/js/copy.js?v=1.0.0.0"></script><div class="Footer">
    <p class="copy tc">Copyright &copy; 2005-2018 <a href="http://www.51CTO.com" target="_blank">51CTO.COM</a> 版权所有 京ICP证060544号</p>
  </div>
<div class="rightTools">
      <a href="http://blog.51cto.com/blogger/publish" class="aa">写文章</a>
    <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=3591348659&amp;site=qq&amp;menu=yes" class="qq"></a>
  <a href="http://blog.51cto.com/51ctoblog/2057444" class="yy" target="_blank"></a>
  <a href="javascript:void(0);" class="gotop"></a>
</div>
<div style="display:none">
<iframe frameborder="0" scrolling="no" width="0" height="0" src="//log.51cto.com/pageview.php?frompos=blog_art"></iframe>
</div>
<script src="http://static1.51cto.com/edu/blog/js/pvlog.js"></script>
<script src="https://logs.51cto.com/rizhi/count/count.js"></script>
<script>
  $(".gotop").click(function(){$(window).scrollTop(0)})
</script>
    <script type="text/javascript">
    //百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2283d46608159c3b39fc9f1178809c21";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();

    //自动推送链接
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
      var _vds = _vds || [];
      window._vds = _vds;
      (function(){
        _vds.push(['setAccountId', '8c51975c40edfb67']);
        (function() {
          var vds = document.createElement('script');
          vds.type='text/javascript';
          vds.async = true;
          vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'assets.growingio.com/vds.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(vds, s);
        })();
      })();
      document.write(decodeURI("%3Cscript src='https://tongji.51cto.com/frontend/tj.gif' type='text/javascript'%3E%3C/script%3E"));
    </script>
    
<script>
    (function(){
        var wh=$(window).height(),fh=$('.Footer').outerHeight(true),hh=$('.Header').outerHeight(true)
        $('.Content-box').css({'min-height': wh-fh-hh})
    })()
</script>
</body>
</html>
