<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Poio - Technologies for Language Diversity</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="/static/media/css/normalize.min.css">

        <link rel="stylesheet" href="/static/media/css/chosen.css">
        
        <style>
            
/* ==========================================================================
   HTML5 Boilerplate styles - h5bp.com (generated via initializr.com)
   ========================================================================== */

@font-face {
    font-family: MuseoSans100;
    src: url("/static/media/fonts/MuseoSans_100Web.eot");
}

@font-face {
    font-family: MuseoSans100;
    src: url("/static/media/fonts/MuseoSans_100Web.woff") format("woff");
}
ÃŸ
@font-face {
    font-family: MuseoSans500;
    src: url("/static/media/fonts/MuseoSans_500Web.eot");
}

@font-face {
    font-family: MuseoSans500;
    src: url("/static/media/fonts/MuseoSans_500Web.woff") format("woff");
}

html,
button,
input,
select,
textarea {
    color: #222;
}

body {
    font-size: 1em;
    line-height: 1.3;
    background-color: #f2f2f3;
    font-family: MuseoSans100, sans-serif;
}

::-moz-selection {
    background: #b3d4fc;
    text-shadow: none;
}

::selection {
    background: #b3d4fc;
    text-shadow: none;
}

hr {
    display: block;
    height: 1px;
    border: 0;
    border-top: 1px solid #ccc;
    margin: 1em 0;
    padding: 0;
}

img {
    vertical-align: middle;
}

fieldset {
    border: 0;
    margin: 0;
    padding: 0;
}

textarea {
    resize: vertical;
}

.chromeframe {
    margin: 0.2em 0;
    background: #ccc;
    color: #000;
    padding: 0.2em 0;
}


/* ==========================================================================
   Author's custom styles
   ========================================================================== */

#backline {
    position: fixed !important;
    top: 0;
    left: 0;
    height: 10px;
    width: 100%;
    background: #f2f2f3 url('/static/media/img/backline.png') repeat-x left top;
    z-index: 9999; 
}

#social {
    position: fixed !important;
    overflow: visible;
    margin-left: 809px;
    margin-top: 658px;
    z-index: 9999;    
}

img.social {
    margin-right: 13px;
}

/*
 * Wrappers
 */

body, .onepage-wrapper, html {
  display: block;
  position: static;
  padding: 0;
  width: 100%;
  height: 100%;
}

.onepage-wrapper {
  width: 100%;
  height: 100%;
  display: block;
  position: relative;
  padding: 0;
  -webkit-transform-style: preserve-3d;
  margin-top: 51px;
}

.onepage-wrapper .section {
  width: 100%;
  height: 100%;
}

.wrapper {
    height: 100% !important;
    height: 100%;
    overflow: hidden;
    width: 930px !important;
    max-width: 930px !important;
    margin-left: auto; 
    margin-right: auto;
}

/*
 * Navigation
 */

.nav {
    position: fixed !important;
    overflow: visible;
    margin-left: 330px;
    margin-top: 62px;
    z-index: 9999;    
}

.nav span {
    margin-left: 25px;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 10px;
    padding-bottom: 10px;
}

.nav span {
    font-family: MuseoSans500, sans-serif;
    font-size: 14px;
    color: #fcb040;
    text-transform:uppercase;
}

.nav span:hover {
    background-color: black;    
}

.nav span.selected {
    background-color: black;
}

.nav span a {
    text-decoration: None;
    color: #fcb040;
}

.nav span a:active, a:focus {
    outline: none;
}

.scroll {
    position: fixed !important;
    overflow: visible;
    margin-left: 411px;
    bottom: 0;
    z-index: 9999;    
}

/*
 * Section: Start
 */

section.start img.poio-logo {
    margin-bottom: 32px;
}

section.start {
    margin-top: 105px;
}

section.start p {
    font-size: 55px;
    margin: 0;
}

section.start p a {
    color: #fcb040;
    text-decoration: none;
}

/*
 * Section: About
 */

section.about img.poio_logo {
    margin-bottom: 50px;
}

section.about p {
    font-size: 38px;
}

section.about p a {
    color: black;
    text-decoration: none;
}

section.about p#tools {
    margin-bottom: 57px;
    margin-top: 0;
}

/*
 * Section: Tools
 */

section.tools img.poio-logo {
    margin-bottom: 75px;
}

section.tools p {
    font-size: 47px;
}

section.tools p a {
    color: #fcb040;
    text-decoration: none;
}

section.tools textarea {
    font-family: MuseoSans100, sans-serif;
    background-color: #f2f2f3;
    width: 100%;
    text-align: center;
    border: none;
}

section.tools select option {
    color: #000;
}

p#predictor {
    white-space: nowrap;
    overflow: hidden;
    margin-left: auto;
    margin-right: auto;
}

p#predictor span.predicted-word-inside {
    font-size: 19px;
    margin-left: 15px;
    margin-right: 25px;
    position: relative;
    top: -6px;
}

/*
 * Section: Map
 */

section.map img.poio_logo {
    margin-bottom: 0px;
}


/*
 * Section: Team
 */


section.team img.poio_logo {
    margin-bottom: 12px;
}

section.team p {
    font-size: 42px;
    margin: 0;
}

section.team p.team_member {
    width: 290px;
    font-size: 13px;
    float: left;
}

section.team p#team_members {
    margin-top: 23px;
}

section.team p a {
    text-decoration: none;
    color: #fcb040;
}

img.team_photo {
    margin-left: 50px;
}

img.team_name {
    margin-top: 8px;
    margin-bottom: 16px;
}

/*
 * Section: Documentation
 */

section.documentation p {
    font-size: 38px;
    margin: 0;
}

section.documentation p a {
    text-decoration: none;
    color: #fcb040;
}

section.documentation img.poio_logo {
    margin-bottom: 52px;
}

p.green {
    color: #fcb040;
}

p.black {
    color: #000;
}

p.centered {
    text-align: center
}


/* ==========================================================================
   Media Queries
   ========================================================================== */

@media only screen and (min-width: 35em) {

}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {

}

/* ==========================================================================
   Helper classes
   ========================================================================== */

.ir {
    background-color: transparent;
    border: 0;
    overflow: hidden;
    *text-indent: -9999px;
}

.ir:before {
    content: "";
    display: block;
    width: 0;
    height: 150%;
}

.hidden {
    display: none !important;
    visibility: hidden;
}

.visuallyhidden {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.visuallyhidden.focusable:active,
.visuallyhidden.focusable:focus {
    clip: auto;
    height: auto;
    margin: 0;
    overflow: visible;
    position: static;
    width: auto;
}

.invisible {
    visibility: hidden;
}

.clearfix:before,
.clearfix:after {
    content: " ";
    display: table;
}

.clearfix:after {
    clear: both;
}

.clearfix {
    *zoom: 1;
}

/* ==========================================================================
   Print styles
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}
        </style>

        <link rel="shortcut icon" href="/static/favicon_orange.ico">

        <script src="/static/media/js/libs/modernizr-2.6.2.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="backline">
        </div>

        <div class="wrapper">
            <div class="nav">
                <span class="menu_about"><a class="menu_about" href="#">About</a></span>
                <span class="menu_tools"><a class="menu_tools" href="#">Writetyper</a></span>
                <span class="menu_map"><a class="menu_map" href="#">Map</a></span>
                <span class="menu_team"><a class="menu_team" href="#">Team</a></span>
                <span class="menu_documentation"><a class="menu_documentation" href="#">Documentation</a></span>
            </div>

            <div id="social">
                <a href="https://plus.google.com/b/106266889101240189549/106266889101240189549/posts"><img class="social" src="/static/media/img/social_buttons_google.png" /></a>
                <a href="https://github.com/cidles/poio-corpus"><img class="social" src="/static/media/img/social_buttons_github.png" /></a>
                <a href="mailto:pbouda@cidles.eu"><img src="/static/media/img/social_buttons_mail.png" /></a>
            </div>
            
            <div class="scroll">
                <a class="scroll_down" href="#"><img src="/static/media/img/scroll_down_orange.png" /></a>
                <a class="scroll_up" href="#" style="display:none;"><img src="/static/media/img/scroll_up_orange.png" /></a>
            </div>

            <div class="main">
                <section class="start">
                    <img class="poio-logo" src="/static/media/img/poio_logo_orange.png" />
                    <p class="black">
                        Poio is open source technology<br/>for language diversity.
                    </p>
                    <p class="green">
                        <a class="scroll_down" href="#">Scroll down to get an overview<br/> of our tools and our team.</a>
                    </p>
                </section>
                <section class="about">
                    <a href="#" class="menu_start"><img class="poio_logo" src="/static/media/img/poio_logo_orange.png" /></a>
                    <p id="tools" class="black centered">
                        <a class="icon_prediction" href="#">Try the text predictor<a>,
                        <a class="icon_map" href="#">explore the map</a>,<br/>
                        <a class="icon_documentation" href="#">read the documentation</a>,
                        <a class="icon_testemonial" href="http://eepurl.com/Hhmoj">subscribe to our newsletter</a>.
                    </p>
                    <p class="centered">
                        <a class="icon_prediction" href="#">
                            <img id="icon_prediction" src="/static/media/img/icon_prediction.png" style="margin-right:130px;" />
                        </a>
                        <a  class="icon_map" href="#">
                            <img id="icon_map" src="/static/media/img/icon_map.png" style="margin-right:130px;" />
                        </a>
                        <a  class="icon_documentation" href="#">
                            <img id="icon_documentation" src="/static/media/img/icon_documentation.png" style="margin-right:130px;" />
                        </a>
                        <a  class="icon_testemonial" href="#">
                            <img id="icon_testemonial" src="/static/media/img/icon_testemonial.png"/>
                        </a>
                    </p>
                </section>
                <section class="tools">
                    <a href="#" class="menu_start"><img class="poio_logo" src="/static/media/img/poio_logo_orange.png" /></a>
                    <p class="green centered">

                        <select id="language_chooser" data-placeholder="Choose your language" class="chosen-select" style="width: 540px;">
                            <option value=""></option>
                            
                                <option value="afr">Afrikaans</option>
                            
                                <option value="arg">Aragonese</option>
                            
                                <option value="asm">Assamese</option>
                            
                                <option value="ast">Asturian</option>
                            
                                <option value="eus">Basque</option>
                            
                                <option value="bar">Bavarian</option>
                            
                                <option value="ben">Bengali</option>
                            
                                <option value="bpy">Bishnupriya</option>
                            
                                <option value="che">Chechen</option>
                            
                                <option value="cos">Corsican</option>
                            
                                <option value="ewe">Ewe</option>
                            
                                <option value="fao">Faroese</option>
                            
                                <option value="fur">Friulian</option>
                            
                                <option value="guj">Gujarati</option>
                            
                                <option value="hat">Haitian</option>
                            
                                <option value="gle">Irish</option>
                            
                                <option value="lij">Ligurian</option>
                            
                                <option value="lmo">Lombard</option>
                            
                                <option value="dsb">Lower Sorbian</option>
                            
                                <option value="ltz">Luxembourgish</option>
                            
                                <option value="mal">Malayalam</option>
                            
                                <option value="glv">Manx</option>
                            
                                <option value="mar">Marathi</option>
                            
                                <option value="drc">Minderico</option>
                            
                                <option value="nep">Nepali</option>
                            
                                <option value="frr">Northern Frisian</option>
                            
                                <option value="nds">Northern Low Saxon</option>
                            
                                <option value="kan">Nuclear Kannada</option>
                            
                                <option value="ori">Nuclear Oriya</option>
                            
                                <option value="pli">Pali</option>
                            
                                <option value="pan">Panjabi</option>
                            
                                <option value="roh">Romansh</option>
                            
                                <option value="san">Sanskrit</option>
                            
                                <option value="stq">Saterfriesisch</option>
                            
                                <option value="gla">Scottish Gaelic</option>
                            
                                <option value="sin">Sinhala</option>
                            
                                <option value="tam">Tamil</option>
                            
                                <option value="tel">Telugu</option>
                            
                                <option value="hsb">Upper Sorbian</option>
                            
                                <option value="cym">Welsh</option>
                            
                        </select>

                    </p>
                    <p class="black centered">
                        <textarea id="prediction" placeholder="Click here and write your text..."></textarea>
                    </p>
                    <p id="predictor" class="black centered">
                        <span class="predicted-word"><img src="/static/media/img/f1_orange.png" /><span class="predicted-word-inside" id="predict-0"></span></span>
                        <span class="predicted-word"><img src="/static/media/img/f2_orange.png" /><span class="predicted-word-inside" id="predict-1"></span></span>
                        <span class="predicted-word"><img src="/static/media/img/f3_orange.png" /><span class="predicted-word-inside" id="predict-2"></span></span>
                        <span class="predicted-word"><img src="/static/media/img/f4_orange.png" /><span class="predicted-word-inside" id="predict-3"></span></span>
                        <span class="predicted-word"><img src="/static/media/img/f5_orange.png" /><span class="predicted-word-inside" id="predict-4"></span></span>
                        <span class="predicted-word"><img src="/static/media/img/f6_orange.png" /><span class="predicted-word-inside" id="predict-5"></span></span>
                    </p>
                    <p class="centered" style="font-size:1.5em;">
                        Want to learn more about Poio?
                        <a href="http://www.cidles.eu/summer-school-coding-for-language-communities-2014/">Participate in our summer school!</a>
                    </p>
                </section>
                <section class="map">
                    <a href="#" class="menu_start"><img class="poio_logo" src="/static/media/img/poio_logo_orange.png" /></a>
                    <div id="map" style="width:930px; height:500px;"></div>
                    <p class="black centered">
                        Drag the map to explore the world!
                    </p>
                </section>
                <section class="team">
                    <a href="#" class="menu_start"><img class="poio_logo" src="/static/media/img/poio_logo_orange.png" /></a>
                    <p class="black centered">
                        Poio was created at CIDLeS
                    </p>
                    <p class="green centered">
                        <a href="http://www.cidles.eu/about/team/">by Vera, Peter, Rita and their team</a>
                    </p>
                    <p id="team_members">
                        <p class="team_member" style="margin-right: 30px;">
                            <img class="team_photo" src="/static/media/img/vera_photo.png" /><br />
                            <img class="team_name" src="/static/media/img/vera_text_orange.png" /><br />
                            Vera is the president of CIDLeS and head 
                            of its Language Documentation and Language Typology group.
                            <br/>
                            <a href="http://www.cidles.eu/about/team/vera-ferreira/"><img src="/static/media/img/plus_orange.png" /></a>
                        </p>
                        <p class="team_member" style="margin-right: 30px;">
                            <img class="team_photo" src="/static/media/img/peter_photo.png" /><br />
                            <img class="team_name" src="/static/media/img/peter_text_orange.png" style="margin-bottom:17px;" /><br />
                            Peter is the head of the CIDLeS Media Lab. He is responsible for
                            the development of Poio and its text prediction.
                            <br/>
                            <a href="http://www.cidles.eu/about/team/peter-bouda/"><img src="/static/media/img/plus_orange.png" /></a>
                        </p>
                        <p class="team_member">
                            <img class="team_photo" src="/static/media/img/rita_photo.png" /><br />
                            <img class="team_name" src="/static/media/img/rita_text_orange.png" /><br />
                            Rita is a research assistant at CIDLES and the responsible
                            for its working group on Language Revitalization.
                            <br/>
                            <a href="http://www.cidles.eu/about/team/rita-pedro/"><img src="/static/media/img/plus_orange.png" /></a>
                        </p>
                        <br style="clear:both;" />
                        <br />
                    </p>
                </section>
                <section class="documentation">
                    <a href="#" class="menu_start"><img class="poio_logo" src="/static/media/img/poio_logo_orange.png" /></a>
                    <p class="black centered">
                        Poio is free and open source.<br/>Read more about the project on readthedocs:
                    </p>
                    <p class="green centered">
                        <a href="http://poio.readthedocs.org">
                            http://poio.readthedocs.org
                        </a>
                    </p>
                    <p class="black centered">
                        &nbsp;
                    </p>
                    <p class="black centered">
                        Want to learn more about Poio?
                    </p>
                    <p class="green centered">
                        <a href="http://www.cidles.eu/summer-school-coding-for-language-communities-2014/">
                            Participate in our summer school!
                        </a>
                    </p>
                </section>
            </div><!-- [END] .main -->
        </div><!-- [END] .wrapper -->


        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/static/media/js/libs/jquery-1.10.1.min.js"><\/script>')</script>
        <script type="text/javascript">
            $SCRIPT_ROOT = "";
            $TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1MTc2NjMyOTN9.mY-lzKFsSJDnHYGgm3kJgT7MdIOobBM30CjX78gf47M';
            var languages = JSON.parse('{"roh": {"files": ["rohwiki.zip"], "geo": {"lat": "46.5538", "lon": "9.92812"}, "label": "Romansh"}, "tel": {"files": ["telwiki.zip"], "geo": {"lat": "16.4529", "lon": "78.7024"}, "label": "Telugu"}, "san": {"files": ["sanwiki.zip"], "geo": {"lat": "20.0", "lon": "77.0"}, "label": "Sanskrit"}, "ori": {"files": ["oriwiki.zip"], "geo": {"lat": "21.6626", "lon": "86.8563"}, "label": "Nuclear Oriya"}, "drc": {"files": ["drccidles.zip"], "geo": {"lat": "39.5144", "lon": "-8.68866"}, "label": "Minderico"}, "lij": {"files": ["lijwiki.zip"], "geo": {"lat": "44.0816", "lon": "7.90522"}, "label": "Ligurian"}, "arg": {"files": ["argwiki.zip"], "geo": {"lat": "42.4669", "lon": "-0.00919"}, "label": "Aragonese"}, "tam": {"files": ["tamwiki.zip"], "geo": {"lat": "9.0", "lon": "80.5"}, "label": "Tamil"}, "pli": {"files": ["pliwiki.zip"], "geo": {"lat": "24.5271", "lon": "82.251"}, "label": "Pali"}, "che": {"files": ["chewiki.zip"], "geo": {"lat": "43.5", "lon": "45.5"}, "label": "Chechen"}, "afr": {"files": ["afrwiki.zip"], "geo": {"lat": "-22.0", "lon": "30.0"}, "label": "Afrikaans"}, "ltz": {"files": ["ltzwiki.zip"], "geo": {"lat": "49.6839", "lon": "6.14931"}, "label": "Luxembourgish"}, "ewe": {"files": ["ewewiki.zip"], "geo": {"lat": "6.46061", "lon": "0.814975"}, "label": "Ewe"}, "frr": {"files": ["frrwiki.zip"], "geo": {"lat": "54.6409", "lon": "8.58489"}, "label": "Northern Frisian"}, "asm": {"files": ["asmwiki.zip"], "geo": {"lat": "26.0876", "lon": "91.2932"}, "label": "Assamese"}, "pan": {"files": ["panwiki.zip"], "geo": {"lat": "30.0368", "lon": "75.6702"}, "label": "Panjabi"}, "dsb": {"files": ["dsbwiki.zip"], "geo": {"lat": "51.6621", "lon": "13.9407"}, "label": "Lower Sorbian"}, "sin": {"files": ["sinwiki.zip"], "geo": {"lat": "8.0", "lon": "81.0"}, "label": "Sinhala"}, "nep": {"files": ["nepwiki.zip"], "geo": {"lat": "27.5947", "lon": "87.6201"}, "label": "Nepali"}, "stq": {"files": ["stqwiki.zip"], "geo": {"lat": "53.117", "lon": "7.721"}, "label": "Saterfriesisch"}, "hsb": {"files": ["hsbwiki.zip"], "geo": {"lat": "51.2403", "lon": "14.4098"}, "label": "Upper Sorbian"}, "mar": {"files": ["marwiki.zip"], "geo": {"lat": "17.9344", "lon": "76.6665"}, "label": "Marathi"}, "ast": {"files": ["astwiki.zip"], "geo": {"lat": "42.4181", "lon": "-6.02227"}, "label": "Asturian"}, "kan": {"files": ["kanwiki.zip"], "geo": {"lat": "13.5878", "lon": "76.1198"}, "label": "Nuclear Kannada"}, "glv": {"files": ["glvwiki.zip"], "geo": {"lat": "54.2604", "lon": "-4.45437"}, "label": "Manx"}, "fao": {"files": ["faowiki.zip"], "geo": {"lat": "62.0732", "lon": "-6.88497"}, "label": "Faroese"}, "lmo": {"files": ["lmowiki.zip"], "geo": {"lat": "45.8817", "lon": "9.39509"}, "label": "Lombard"}, "ben": {"files": ["benwiki.zip"], "geo": {"lat": "24.0", "lon": "90.0"}, "label": "Bengali"}, "mal": {"files": ["malwiki.zip"], "geo": {"lat": "9.59208", "lon": "76.7651"}, "label": "Malayalam"}, "cym": {"files": ["cymwiki.zip"], "geo": {"lat": "52.0", "lon": "-4.0"}, "label": "Welsh"}, "bar": {"files": ["barwiki.zip"], "geo": {"lat": "47.9232", "lon": "13.246"}, "label": "Bavarian"}, "cos": {"files": ["coswiki.zip"], "geo": {"lat": "41.7", "lon": "9.25537"}, "label": "Corsican"}, "fur": {"files": ["furwiki.zip"], "geo": {"lat": "46.1473", "lon": "13.0493"}, "label": "Friulian"}, "hat": {"files": ["hatwiki.zip"], "geo": {"lat": "19.0", "lon": "-73.33"}, "label": "Haitian"}, "gle": {"files": ["glewiki.zip"], "geo": {"lat": "53.2186", "lon": "-7.61509"}, "label": "Irish"}, "eus": {"files": ["euswiki.zip"], "geo": {"lat": "43.2787", "lon": "-1.31622"}, "label": "Basque"}, "gla": {"files": ["glawiki.zip"], "geo": {"lat": "56.7574", "lon": "-5.24366"}, "label": "Scottish Gaelic"}, "bpy": {"files": ["bpywiki.zip"], "geo": {"lat": "24.4578", "lon": "92.0157"}, "label": "Bishnupriya"}, "nds": {"files": ["ndswiki.zip"], "geo": {"lat": "50.771", "lon": "6.092"}, "label": "Northern Low Saxon"}, "guj": {"files": ["gujwiki.zip"], "geo": {"lat": "22.687", "lon": "71.0962"}, "label": "Gujarati"}}');
            var mapDrawn = false;
        </script>

        <script src="/static/media/js/libs/d3.v3.min.js"></script>
        <script src="/static/media/js/libs/queue.v1.min.js"></script>
        <script src="/static/media/js/libs/topojson.v1.min.js"></script>
        <script src="/static/media/js/libs/kinetic-v4.5.4.min.js"></script>

        <script src="/static/media/js/plugins.js"></script>
        
        <script type="text/javascript">
            
////////////////////////////////////////////////////// About page hover stuff

$( "a.icon_prediction" ).hover(
  function() {
    $( "img#icon_prediction" ).attr('src', '/static/media/img/icon_prediction_selected_orange.png');
    $( "a.icon_prediction" ).css('color', '#fcb040');
  }, function() {
    $( "img#icon_prediction" ).attr('src', '/static/media/img/icon_prediction.png');
    $( "a.icon_prediction" ).css('color', '#000');
  }
);

$( "a.icon_testemonial" ).hover(
  function() {
    $( "img#icon_testemonial" ).attr('src', '/static/media/img/icon_testemonial_selected_orange.png');
    $( "a.icon_testemonial" ).css('color', '#fcb040');
  }, function() {
    $( "img#icon_testemonial" ).attr('src', '/static/media/img/icon_testemonial.png');
    $( "a.icon_testemonial" ).css('color', '#000');
  }
);

$( "a.icon_documentation" ).hover(
  function() {
    $( "img#icon_documentation" ).attr('src', '/static/media/img/icon_documentation_selected_orange.png');
    $( "a.icon_documentation" ).css('color', '#fcb040');
  }, function() {
    $( "img#icon_documentation" ).attr('src', '/static/media/img/icon_documentation.png');
    $( "a.icon_documentation" ).css('color', '#000');
  }
);

$( "a.icon_map" ).hover(
  function() {
    $( "img#icon_map" ).attr('src', '/static/media/img/icon_map_selected_orange.png');
    $( "a.icon_map" ).css('color', '#fcb040');
  }, function() {
    $( "img#icon_map" ).attr('src', '/static/media/img/icon_map.png');
    $( "a.icon_map" ).css('color', '#000');
  }
);

$( ".nav span a" ).click(
  function () {
    $( "span.menu_about" ).toggleClass('selected', false);
    $( "span.menu_tools" ).toggleClass('selected', false);
    $( "span.menu_team" ).toggleClass('selected', false);
    $( "span.menu_map" ).toggleClass('selected', false);
    $( "span.menu_documentation" ).toggleClass('selected', false);
    $(this).parent().toggleClass('selected', true);
  }
);

/////////////////////////////////////////// Scrolling

$(".main").onepage_scroll({
  sectionContainer: "section",
  easing: "ease",
  animationTime: 1000,
  pagination: false,
  updateURL: true,
  beforeMove: function(index) {},
  afterMove: function(index) {
    $( "span.menu_about" ).toggleClass('selected', false);
    $( "span.menu_tools" ).toggleClass('selected', false);
    $( "span.menu_team" ).toggleClass('selected', false);
    $( "span.menu_map" ).toggleClass('selected', false);
    $( "span.menu_documentation" ).toggleClass('selected', false);
    $( "a.scroll_down").css("display", "block");
    $( "a.scroll_up").css("display", "none");
    current_index = parseInt($("section.active").attr("data-index"));
    switch(current_index) {
      case 2:
        $( "span.menu_about" ).toggleClass('selected', true);
        break;    
      case 3:
        $( "textarea#prediction" ).val('')
        $( "span.menu_tools" ).toggleClass('selected', true);
        break;    
      case 4:
        $( "span.menu_map" ).toggleClass('selected', true);
        if (!mapDrawn)
          drawMap();
        break;    
      case 5:
        $( "span.menu_team" ).toggleClass('selected', true);
        break;    
      case 6:
        $( "span.menu_documentation" ).toggleClass('selected', true);
        $( "a.scroll_down").css("display", "none");
        $( "a.scroll_up").css("display", "block");
        break;    
    }
  },
  loop: false,
  responsiveFallback: false
});

$( "a.scroll_down" ).click(function() {
  $(".main").moveDown();
});

$( "a.scroll_up" ).click(function() {
  $(".main").moveUp();
});

$( "a.menu_start" ).click(function() {
  $(".main").moveTo(1);
});

$( "a.menu_about" ).click(function() {
  $(".main").moveTo(2);
});

$( "a.menu_tools" ).click(function() {
  $(".main").moveTo(3);
});

$( "a.menu_map" ).click(function() {
  $(".main").moveTo(4);
});

$( "a.menu_team" ).click(function() {
  $(".main").moveTo(5);
});

$( "a.menu_documentation" ).click(function() {
  $(".main").moveTo(6);
});

$( "a.icon_prediction" ).click(function() {
  $(".main").moveTo(3);
});

$( "a.icon_map" ).click(function() {
  $(".main").moveTo(4);
});

$( "a.icon_documentation" ).click(function() {
  $(".main").moveTo(6);
});


///////////////////////////////// Use jquery chosen for language selector

$(function(){
  $(".chosen-select").chosen();
});


///////////////////////////////////////////////// Map

function drawMap() {

  //////////////////////////////////////////////////////////////// Globals

  var land;
  var borders;
  var tooltipLayer;
  var dragStarted = false;
  var lastMouseX = -1;
  var lastMouseY = -1;
  var lastR = 0;
  var worldData;
  var projection;
  var path;
  var c;

  //////////////////////////////////////////////////////////////// Functions

  function drawLand() {
    c.beginPath();
    c.fillStyle = "#fcb040";
    path(land);
    c.fill();

    c.beginPath();
    c.strokeStyle = "#fff"; 
    c.lineWidth = .5;
    path(borders);
    c.stroke();
  }

  function drawLanguages() {
    Object.keys(languages).forEach(function (key) {
      var value = languages[key]
      var centerX = projection([value.geo.lon, value.geo.lat])[0];
      var centerY = projection([value.geo.lon, value.geo.lat])[1];

      var circle = new Kinetic.Circle({
        x: centerX,
        y: centerY,
        fill: "red",
        stroke: "#330000",
        strokeWidth: 2,
        radius: 5
      });

      circle.on("mousemove", function(){
        var mousePos = stage.getMousePosition();
        tooltip.setPosition(mousePos.x + 5, mousePos.y - 20);
        tooltip.setText(value.label);
        tooltip.show();
        tooltipLayer.draw();
        document.body.style.cursor = "pointer";
      });

      circle.on("mouseout", function(){
        tooltip.hide();
        tooltipLayer.draw();
        document.body.style.cursor = "default";
      });

      circle.on("click", function(){
        //window.location = '/tools/prediction/' + key
        $('select#language_chooser').val(key);
        $('select#language_chooser').trigger('chosen:updated');
        $(".main").moveUp();
      });

      shapesLayer.add(circle);

    });

    var tooltip = new Kinetic.Text({
      text: "",
      fontFamily: "Calibri",
      fontSize: 12,
      padding: 5,
      textFill: "white",
      fill: "black",
      alpha: 0.75,
      visible: false
    });

    tooltipLayer.add(tooltip);
    shapesLayer.draw();
  }

  function makeDraggable() {
    //worldLayer.setDraggable(true);
    stage.getContainer().addEventListener('mousedown', function(e) {
      lastMouseX = e.screenX;
      lastMouseY = e.screenY;
      dragStarted = true;
      lastR = projection.rotate();
    });
    stage.getContainer().addEventListener('mouseup', function(e) {
      lastMouseX = -1;
      lastMouseY = -1;
      dragStarted = false;
    });
    stage.getContainer().addEventListener('mouseout', function(e) {
      lastMouseX = -1;
      lastMouseY = -1;
      dragStarted = false;
    });
    stage.getContainer().addEventListener('mousemove', function(e) {
      if (dragStarted) {
        var diffX = lastR[0] + ( (e.screenX - lastMouseX) / 10);
        var diffY = lastR[1] + ( (lastMouseY - e.screenY) / 10);

        projection.rotate([diffX, diffY, 0]);

        c.clearRect(0, 0, width, height);
        tooltipLayer.removeChildren();
        shapesLayer.removeChildren();
        drawLand();
        drawLanguages();
      }
    });
  }

  function transitionEnded() {
    drawLanguages();
    makeDraggable();
  }

  //////////////////////////////////////////////////////////////// Main

  var width = 930,
  height = 500;

  var stage = new Kinetic.Stage({
    container: 'map',
    width: width,
    height: height
  });
  worldLayer = new Kinetic.Layer();
  shapesLayer = new Kinetic.Layer();
  tooltipLayer = new Kinetic.Layer();
  stage.add(worldLayer);
  stage.add(shapesLayer);
  stage.add(tooltipLayer);

  c = worldLayer.getContext();

  projection = d3.geo.orthographic()
  .scale(250)
  .translate([700,250])
  .clipAngle(90)
  .clipExtent([[0,0],[width,height]]);

  path = d3.geo.path()
  .projection(projection)
  .context(c);
  
  queue()
  .defer(d3.json, '/static/media/data/world-110m.json')
  .await(ready);

  function ready(error, world) {
    worldData = world;
    land = topojson.feature(worldData, worldData.objects.land);
    borders = topojson.mesh(worldData, worldData.objects.countries, function(a, b) { return a !== b; });

    c.clearRect(0, 0, width, height);

    drawLand();
    mapDrawn = true;

    (function transition() {
      d3.transition()
      .delay(1000)
      .duration(2500)
      .tween("rotate", function() {
        var r = d3.interpolate(projection.rotate(), [-40, -55]);
        var s = d3.interpolate(projection.scale(), 900);
        return function(t) {
          projection.rotate(r(t));
          projection.scale(s(t));
          c.clearRect(0, 0, width, height);
          drawLand();
        };
      })
      .each("end", transitionEnded)
    })();
  }

}
        </script>

        <script src="/static/media/js/prediction.js"></script>
    </body>
</html>