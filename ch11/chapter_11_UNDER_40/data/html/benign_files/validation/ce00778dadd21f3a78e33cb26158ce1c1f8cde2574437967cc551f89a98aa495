<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="willzhan" />
    <meta name="keywords" content="azure media services, content protection, playready, widevine, fairplay, common encryption, aes-128, jwt, bearer token, azure active directory, openid connect" />
    <title>Index</title>

    <script src="/Content/appInsights.js"></script>

    <link href="/Content/css?v=wsyYseGhgF0J3tgrgJ1ALB_3C4rJJLEsa-lybVFlUxY1" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>

    <script>
        AppInsightsUtils.setAuthNUserContext(false, "");
    </script>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">home</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="/AMTestPlayer">azure_media_test_tool</a></li>
                    
                    
                    
                    <li><a href="/CHT">aka.ms/poc</a></li>
                    <li><a href="/DRMTool/Jwt">aka.ms/jwt</a></li>
                    <li><a href="/Home/Tools">other_tools</a></li>
                    <li><a href="/AADTenant">aad_tenant</a></li>
                </ul>
                     <ul class="nav navbar-nav navbar-right">
        
            <li><a href="/Account/SignIn" id="loginLink">sign in</a></li>
    </ul>

            </div>
        </div>
    </div>
    <div class="container body-content">
        



<link href="/Content/CHT/poc.css" rel="stylesheet"/>


<a name="top"></a>

<h2><img src="/Content/CHT/logo.jpg" height="80" />  &nbsp;&nbsp;&nbsp;&nbsp;POC on Azure</h2>
<a href="/Content/CHT/POC_scope.jpg" target="_blank">OTT POC Scope</a> | 
<a href="/Home/Subsystem_CHT" target="_blank">OTT POC Subsystem Technology Mapping</a> | 
<a href="/Content/CHT/DASH_CENC_ReferenceImpl.jpg" target="_blank">OTT POC Design</a>
<table class="table">
    <tr>
        <td>
            <div id="content"></div>
        </td>
    </tr>
</table>

<h3 class="title" id="1">01. Hybrid Content Workflow</h3>
<p>Hybrid workflow: on-premise encoding/transcoding with in-cloud streaming over various protocols.</p>
<table class="table">
    <tr>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/e7022f4e-fb84-4a3f-820f-5894a46264e0/nbcu.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail1.JPG" alt="" width="200" /><br />Swimming</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/420aa953-0c72-43e6-91cd-52e490906785/EvalaTrailera.ism/Manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />Swimming</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/82b4a963-1dfd-4156-85a1-1d16168cbb32/bridges2s.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail3.JPG" alt="" width="200" /><br />Swimming</a></td>
    </tr>
</table>

<h3 class="title" id="2">02. AVOD</h3>
<p>Ad supported content with DRM protection. <a href="http://openidconnectweb.azurewebsites.net/Content/images/FPS.jpg" target="_blank">FPS diagram</a>.</p>
<table class="table">
    <tr>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/6f9c2ea5-d98f-4cbd-be90-57e3a41dfef7/EvalaTrailera.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail4.JPG" alt="" width="200" /><br />Swimming</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/691f6ca8-2afe-4bc4-9359-df80ba0edb3a/nbcu.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail5.JPG" alt="" width="200" /><br />Swimming</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/b62cacc6-d64a-4a9e-aeca-3f28e28b3c30/bridges2s.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />Swimming</a></td>
    </tr>
</table>

<h3 class="title" id="3">03. SVOD</h3>
<p>
    Content under DRM protection for paid subscribers, with subscription status check. See
    <a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-cenc-with-multidrm-access-control" target="_blank">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</a> - William's document in Azure Documentation Center.
</p>
    <table class="table"><tr><td>Subscribers must <a href="/Account/SignIn" id="loginLink">sign in</a> to play SVOD content.</td></tr></table>

<h3 class="title" id="4">04. Live</h3>
<p>Unprotected live channel</p>
<table class="table">
    <tr>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://ams-samplescdn.streaming.mediaservices.windows.net/a38e6323-95e9-4f1f-9b38-75eba91704e4/5f2ce531-d508-49fb-8152-647eba422aec.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail9.JPG" alt="" width="200" /><br />Channel 1 (DVR)</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://ams-samplescdn.streaming.mediaservices.windows.net/a38e6323-95e9-4f1f-9b38-75eba91704e4/5f2ce531-d508-49fb-8152-647eba422aec.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail10.JPG" alt="" width="200" /><br />Channel 1 (Archive)</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://ams-samplescdn.streaming.mediaservices.windows.net/a38e6323-95e9-4f1f-9b38-75eba91704e4/5f2ce531-d508-49fb-8152-647eba422aec.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/thumbnail11.JPG" alt="" width="200" /><br />Channel 1 (Speed)</a></td>
    </tr>
</table>

<h3 class="title" id="5">05. Audience Analytics/Video Telemetry</h3>
<p>Audience analytics collected, processed and stored in Azure. Viewed via Power BI and advanced query via Kusto Query Language</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="https://msit.powerbi.com/groups/me/dashboards/08002f9a-c05c-4f7b-9d19-e7b52a477a40" target="_blank">Power BI dashboard</a> (Power BI login required.)</li>
                <li><a href="/PlayerAnalytics.html" target="_blank">Power BI Embedded dashboard</a></li>
                <li><a href="https://analytics.applicationinsights.io/subscriptions/2db39a66-f5c5-4b03-9d1c-71018352379b/resourcegroups/Default-Web-CentralUS/components/openidconnectweb#/discover/home?apptype=web" target="_blank">Advanced query</a> via <a href="http://analytics-docs-int.azurewebsites.net/language_reference/query_language.html" target="_blank">Kusto Query Language (KQL)</a> or <a href="https://docs.loganalytics.io/" target="_blank">Azure Log Analytics Query Language</a></li>
                <li><a href="https://blogs.msdn.microsoft.com/playready4/2016/04/09/video-telemetry-a-solution-in-azure/" target="_blank" ">Video Telemetry – A Solution in Azure</a> - William's blog</li>
                <li><a href="https://dev.applicationinsights.io/quickstart/" target="_blank">Application Insights REST API</a></li>
                <li><a href="/Doc/Index?topic=ccp" target="_blank">Content Consumption Profile (CCP)</a></li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="6">06. VR/360 Streaming</h3>
<p>
    Click on video to enter mouse-control-view-angle mode。Hit ESC to exit。<a href="http://openidconnectweb.azurewebsites.net/Doc/Index?topic=vr_360" target="_blank">Supported browsers</a>: Chrome, Firefox, MS Edge.
    See this <a href="https://azure.microsoft.com/en-us/blog/live-virtual-reality-streaming/" target="_blank">blog</a>.
</p>
<table class="table">
    <tr>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/17d90654-e755-4ee1-a706-3721eecb11ed/7de3c8e9-491b-48bc-bcd4-673cd28afa86.ism/Manifest&title=1&vr=1" target="_blank"><img src="/Content/CHT/thumbnail1.JPG" alt="" width="200" /><br />NAB Live Archive (8 Hours)</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/d98471c2-05c9-4201-9c40-da71a2601739/VR_Dragster_4k.ism/Manifest&title=1&vr=1" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />Dragster (4K)</a></td>
            <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/7b5f2457-e292-458d-b0f8-ce41e55a7471/UltraLightFlightH3Pro6.ism/Manifest&title=1&vr=1" target="_blank"><img src="/Content/CHT/thumbnail3.JPG" alt="" width="200" /><br />Ultralight Flight</a></td>
    </tr>
</table>

<h3 class="title" id="7">07. Ad Insertion for VOD</h3>
<p>For live, client side ad insertion is supported. Here is the <a href="/Content/CHT/Live_Ad.jpg" target="_blank">client side Dynamic Ad Insertion (DAI) for live flow diagram</a>. For VOD, Azure Media Player supports pre-, mid- and post-rolls.</p>
<table class="table">
    <tr>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=http://willzhanmswest.streaming.mediaservices.windows.net/509a4afe-acca-4958-9406-dc32d0730d21/ROBOT_G5002_Texted_Video.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail5.JPG" alt="" width="200" /><br />Ads for VOD: pre- and mid-rolls.</a></td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=http://willzhanmswest.streaming.mediaservices.windows.net/509a4afe-acca-4958-9406-dc32d0730d21/ROBOT_G5002_Texted_Video.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />Ads for VOD: pre- and mid-rolls.</a></td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=http://willzhanmswest.streaming.mediaservices.windows.net/509a4afe-acca-4958-9406-dc32d0730d21/ROBOT_G5002_Texted_Video.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />Ads for VOD: pre- and mid-rolls.</a></td>
    </tr>
</table>

<h3 class="title" id="8">08. Dolby Digital Plus - DD+</h3>
<p><a href="https://blogs.windows.com/msedgedev/2015/05/26/announcing-dolby-audio-for-high-performance-audio-in-microsoft-edge/" target="_blank">Microsoft Edge is the first browser to include support for Dolby Digital Plus.</a> Use Microsoft Edge to experience DD+. Other browsers do not yet support DD+.</p>
<table class="table">
    <tr>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://amssamples.streaming.mediaservices.windows.net/d499bfae-117a-40ab-9bd4-036cc575fac3/DolbyDigitialPlus.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail9.JPG" alt="" width="200" /><br />ABR with Dolby Digital Plus audio track</a>.</td>
        <td><a href="http://audioexperience.dolby.com/" target="_blank"><img src="/Content/CHT/thumbnail10.JPG" alt="" width="200" /><br />Dolby Audio Experience demo</a>.</td>
        <td><a href="http://audioexperience.dolby.com/" target="_blank"><img src="/Content/CHT/thumbnail11.JPG" alt="" width="200" /><br />Dolby Audio Experience demo</a>.</td>
    </tr>
</table>

<h3 class="title" id="9">09. Cognitive Services/Media Analytics/Video Indexer</h3>
<p>Cognitive Services, Media Analytics in Azure Media Services and Video Indexer.</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="/VI.html" target="_blank">Video Indexer widgets</a></li>
                <li><a href="http://openidconnectweb.azurewebsites.net/Doc/Index?topic=cognitive_services" target="_blank">Cognitive Services POC</a>.</li>
                <li><a href="http://openidconnectweb.azurewebsites.net/MTAPI" target="_blank">Microsoft Translator and its customized deployment</a></li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="10">10. REST API in addition to .NET SDK</h3>
<p>REST API is available for Azure AD authentication and Azure Media Services access, for developers using non-.NET/C# languages.</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-rest-connect-with-aad" target="_blank">Use AAD authentication to access Azure Media Services API with REST</a> - William's document in Azure Documentation Center.</li>
                <li><a href="https://github.com/willzhan/WAMSRESTSoln" target="_blank">Sample code for Azure AD authentication and Azure Media Services access, both via REST API</a>.</li>
                <li><a href="https://docs.microsoft.com/en-us/rest/api/media/operations/azure-media-services-rest-api-reference" target="_blank">Media Services Operations REST API Reference</a>.</li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="11">11. Hybrid DRM Subsystem</h3>
<ul>
    <li><a href="https://docs.microsoft.com/en-us/azure/media-services/hybrid-design-drm-sybsystem" target="_blank">Hybrid Design of DRM Subsystem</a> - William's document in Azure Documentation Center.</li>
    <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-axinom-integration" target="_blank">Using Axinom to deliver Widevine licenses to Azure Media Services</a> - William's document in Azure Documentation Center.</li>
    <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-castlabs-integration" target="_blank">Using castLabs to deliver Widevine licenses to Azure Media Services</a></li>
</ul>
<table class="table">
    <tr>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/1a670626-4515-49ee-9e7f-cd50853e41d8/Microsoft_HoloLens_TransformYourWorld_816p23.ism/Manifest" target="_blank"><img src="/Content/CHT/thumbnail4.JPG" alt="" width="200" /><br />License server is outside AMS</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/8d078cf8-d621-406c-84ca-88e6b9454acc/20150807-bridges-2500.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail5.JPG" alt="" width="200" /><br />DRM encryption is outside AMS</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/7c085a59-ae9a-411e-842c-ef10f96c3f89/20150807-bridges-2500.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />Both DRM encryption and license <br />server are outside of AMS</a>.</td>
    </tr>
</table>

<h3 class="title" id="12">12. Captions and Subtitles</h3>
<p>WebVTT through either captions or subtitles is supported in AMP.</p>
<table class="table">
    <tr>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//willzhanmswest.streaming.mediaservices.windows.net/31ef495b-bcb3-4c73-af03-0d81daad9313/161017_3116873_NBC_Nightly_News__Oct_24__2016.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail9.JPG" alt="" width="200" /><br />Nightly News <br />(subtitles and captions)</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//willzhanmswest.streaming.mediaservices.windows.net/0297ec87-49f6-48d6-bb01-b4ff386b3f80/LyncSkypeSizzleVideo750k.ism/Manifest" target="_blank"><img src="/Content/CHT/thumbnail10.JPG" alt="" width="200" /><br />Skype commercial (captions)</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//ams-samplescdn.streaming.mediaservices.windows.net/11196e3d-2f40-4835-9a4d-fc52751b0323/TearsOfSteel_WAMEH264SmoothStreaming720p.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail11.JPG" alt="" width="200" /><br />Tears of Steel (subtitles)</a>.</td>
    </tr>
</table>

<h3 class="title" id="13">13. Multi-Audio Content</h3>
<ul>
    <li>Most players cannot handle multiple audio tracks per audio stream.</li>
    <li>The MES naming convention for an audio stream containing audio track or tracks is [Codec]_[LanguageCode]_[NumOfChannels]_[Bitrate] such as "aac_eng_2_127". To guarantee signle audio track per audio stream, at least language code should be different.</li>
    <li>The "Content Adaptive Multiple Bitrate MP4" preset enables "EnhancedServerManifest" by default, to produce a better trackName with the actual language in it.</li>
    <li><a href="https://azure.microsoft.com/en-us/blog/azure-media-player-update-with-multi-audio-stream-support/" target="_blank">AMP Supports Audio Switching of Same Codec Multi-Audio Content</a>.</li>
</ul>
<table class="table">
    <tr>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//amssamples.streaming.mediaservices.windows.net/7ceb010f-d9a3-467a-915e-5728acced7e3/ElephantsDreamMultiAudio.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail4.JPG" alt="" width="200" /><br />Elephants Dream</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//amssamples.streaming.mediaservices.windows.net/f1ee994f-fcb8-455f-a15d-07f6f2081a60/SintelMultiAudio.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail5.JPG" alt="" width="200" /><br />Sintel</a>.</td>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=//amssamples.streaming.mediaservices.windows.net/bddc6db2-3f95-4137-872a-b62a6c19e891/ElephantsDreamAudio.mp3" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />Audio-only MP3 <br />(source type: audio/mp3)</a>.</td>
    </tr>
    <tr>
        <td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/8ccd8e3a-6f27-4e8b-8f0d-2d0aca82fb0d/UN_8069_SC_All_Languages.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />8 audio tracks</a>.</td>
        <td></td>
        <td></td>
    </tr>
</table>

<h3 class="title" id="14">14. Custom STS (Secure Token Service)</h3>
<p>
    Practically, a custom STS is needed to issue JWT tokens with claims targeting different content packages for different levels of subscribers or anonymous users.
    A custom STS based on symmetric key can be seen in this <a href="http://openidconnectweb.azurewebsites.net/FPSTest.html" target="_blank">FPS Test Player</a> based on Apple's FPS SDK. Below are 3 CENC protected contents with JWT authorizations via different STS.
    JWT tokens corresponding to custom STS with symmetric key, custom STS with asymmetric key and AAD as STS with asymmetric key can all be found in <a href="https://openidconnectweb.azurewebsites.net/UserProfile" target="_blank">User Profile</a> page (click on logged in user account).
</p>
<table class="table">
    <tr>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/f8316e14-8921-4175-a977-6581769ea1a5/RussianWaltz.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail1.JPG" alt="" width="200" /><br />Custom STS, symmetric key<br />DASH, smooth streaming</a>.</td>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/17c26d1f-9df4-44bf-9d54-ec915acc71f0/RussianWaltz.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />Custom STS, asymmetric key<br />DASH, smooth streaming, FPS</a>.</td>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/99bd5a2a-64e7-43f8-a750-0eb92abc43c6/RussianWaltz.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail3.JPG" alt="" width="200" /><br />AAD as STS, asymmetric key<br />DASH, smooth streaming, FPS</a>.</td>
    </tr>
</table>
<p>
    <ul>
        <li>For those contents listed in the above FPS Test Player, DASH and smooth use AAD as STS, while FPS uses custom STS with symmetric key;</li>
        <li>Different contents may use different AC paths;</li>
        <li>For FPS, as well as DASH/smooth, testing, use <a href="http://aka.ms/amtest" target="_blank">Azure Media Test Tool</a> instead of the above FPS Test Player (there is a breaking change with atob);</li>
        <li>Make sure: put in right protectionInfo.type, right HTTPS/HTTP, JWT is not expired.</li>
    </ul>
</p>


<h3 class="title" id="15">15. AES-128 Encryption</h3>
<p>AES-128 clear key encryption is supported.</p>
<table class="table">
    <tr>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/691f6ca8-2afe-4bc4-9359-df80ba0edb3a/nbcu.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail9.JPG" alt="" width="200" /><br />Late Night <br />(No JWT/DASH/HLS/Smooth) <br />If logged in, set <br />protectionInfo.type to AES</a>.</td>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/09878901-ded2-4e5a-a345-12e8b7fcec3d/nbcu.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail10.JPG" alt="" width="200" /><br />Late Night <br />(JWT-AAD/DASH/HLS/Smooth)<br />Need to login and set <br />protectionInfo.type to AES</a>.</td>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/24af3dbc-e9a9-4317-9fd7-5fd1c3cd241f/161017_3116873_NBC_Nightly_News__Oct_24__2016.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail11.JPG" alt="" width="200" /><br />Nightly News<br />(JWT-Symmetric Key)<br />Custom STS (below)</a>.</td>
    </tr>
</table>
<p>Custom Secure Token Service (STS) with symmetric key: JWT token issue URL: <a href="https://openidconnectweb.azurewebsites.net/api/jwt?keytype=symmetric&keyvalue=C4D3E9FB-2533-4061-9892-2B8F58A1AECB&issuer=https://sts.windows.net/51641c40-ad65-4736-88fc-2f0e10072d85/&audience=29635cdc-ca9a-48b7-b242-05a31810e8c9&expiry=300" target="_blank">https://openidconnectweb.azurewebsites.net/api/jwt?keytype=symmetric&keyvalue=C4D3E9FB-2533-4061-9892-2B8F58A1AECB&issuer=https://sts.windows.net/51641c40-ad65-4736-88fc-2f0e10072d85/&audience=29635cdc-ca9a-48b7-b242-05a31810e8c9&expiry=300</a>.</p>

<h3 class="title" id="16">16. Azure Active Directory and Azure Media Services</h3>
<p>Azure AD serves as the Identity Provider for Azure Media Services. It can also serves as both IDP and STS for a client app.</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="https://openidconnectweb.azurewebsites.net/Home/ReferenceImpl" target="_blank">End-to-End DRM/AES-128 Subsystem with Azure AD as both Identity Provider (IDP) and Secure Token Service (STS)</a></li>
                <li><a href="https://openidconnectweb.azurewebsites.net/UserProfile" target="_blank">User profile, authorization_code, id_token, access_token, refresh_token, and claims</a> (permission required).</li>
                <li><a href="https://openidconnectweb.azurewebsites.net/AADTenant" target="_blank">Azure AD tenant</a> (permission required).</li>
                <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-rest-connect-with-aad" target="_blank">Use AAD authentication to access Azure Media Services API with REST</a> - William's document in Azure Documentation Center.</li>
                <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-cenc-with-multidrm-access-control" target="_blank">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</a> - William's document in Azure Documentation Center.</li>
                <li><a href="https://docs.microsoft.com/en-us/azure/active-directory/active-directory-configurable-token-lifetimes" target="_blank">Configurable token lifetimes in Azure Active Directory</a></li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="17">17. Thumbnail Image for Video Preview</h3>
<p>This uses Google's WebP format. Among desktop browsers, Google Chrome, Opera and Pale Moon natively support WebP while Mozilla has announced plans to implement WebP natively in Firefox. Mobile support is limited to the native Android browser and Chrome for Android. </p>
<p>For browser distribution (Chrome in particular) in accessing this site, please see its <a href="https://openidconnectweb.azurewebsites.net/PlayerAnalytics.html" target="_blank">user analytics Power BI dashboard</a> (scroll to page 4). The data is refreshed daily.</p>
<p>
    <a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/26862450-9966-4ccc-99e4-87acaf1fc244/NBCSG.ism/manifest&title=1" target="_blank"><img src="/Content/CHT/NBCSG.jpg" alt="WebP support required" width="300" /><br />Video preview (5 seconds, if supported)</a>
</p>

<h3 class="title" id="18">18. Video Discovery through Enriched Metadata</h3>
<ul>
    <li>Both Netflix/YouTube-style search ACROSS a library and Video Indexer-style search INTO a video;</li>
    <li>Search performed over both “Cognitive Metadata” such as subtitles, OCR, celebrities, etc. and “Enterprise Metadata” such as video titles, cast and crew, synopsis, etc.;</li>
    <li>Search results enhanced by both Microsoft Knowledge Graph (Satori) and Bing Search;</li>
    <li>For both enterprise users and end users;</li>
    <li>Multi-language, multi-field-search, and multi-field-filtering.</li>
</ul>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="/Content/CHT/VideoDiscoveryDesign.jpg" target="_blank">Video Discovery System design diagram.</a></li>
                <li><a href="https://1drv.ms/w/s!Ao-6LNI-ILGA0BDpWezV0q3J0nl2" target="_blank">Video Discovery System design document</a>, detailing index schema, searching/filtering scenarios and building blocks.</li>
                <li><a href="https://1drv.ms/u/s!Ao-6LNI-ILGA0A_OM1Xb7cQApeGt" target="_blank">Video Discovery System validation prototype</a>, validating index schema, searching/filtering scenarios and building blocks.</li>
                <li><a href="/VI.html" target="_blank">Video Indexer widgets demo</a>.</li>
                <li><a href="/VideoDiscovery" id="videodiscovery">Video Discovery Reference Implementation</a>, based on Azure Search.</li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="19">19. Video Players</h3>
<p>Video players based on different SDKs.</p>
<table class="table table-bordered table-striped">
    <tr><th>Player</th><th>URL</th><th>SDK</th></tr>
    <tr><td><a href="https://blogs.msdn.microsoft.com/playready4/2016/02/28/azure-media-test-tool/" target="_blank">Azure Media Test Tool</a></td><td><a href="http://openidconnectweb.azurewebsites.net/AMTestPlayer" target="_blank">http://openidconnectweb.azurewebsites.net/AMTestPlayer</a></td><td>Azure Media Player API</td></tr>
    <tr><td>JW Player</td><td><a href="http://openidconnectweb.azurewebsites.net/JWPTest.html" target="_blank">http://openidconnectweb.azurewebsites.net/JWPTest.html</a></td><td>JW Player SDK</td></tr>
    <tr><td>HLS Player</td><td><a href="http://openidconnectweb.azurewebsites.net/HLSPlayer.html" target="_blank">http://openidconnectweb.azurewebsites.net/HLSPlayer.html</a></td><td>Adobe TVSDK (Primetime SDK)</td></tr>
    <tr><td>FPS Test Tool</td><td><a href="http://openidconnectweb.azurewebsites.net/FPSTest.html" target="_blank">http://openidconnectweb.azurewebsites.net/FPSTest.html</a></td><td>Apple FPS Server SDK</td></tr>
    <tr><td>Silverlight Player</td><td><a href="http://willzhan12.cloudapp.net/SilverlightApplication.Web/SmoothStreamingPlayerTestpage.aspx" target="_blank">http://willzhan12.cloudapp.net/SilverlightApplication.Web/SmoothStreamingPlayerTestpage.aspx</a></td><td>Silverlight Media Framework (SMF)</td></tr>
    <tr><td>OSMF Player</td><td><a href="https://openidconnectweb.azurewebsites.net/OSMFPlayer" target="_blank">https://openidconnectweb.azurewebsites.net/OSMFPlayer</a></td><td>Smooth Streaming Plugin for OSMF</td></tr>
</table>

<h3 class="title" id="20">20. Content Replication across Azure Regions</h3>
<p>The performance of replicating content across intra-Azure network.</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="/Content/CHT/ContentReplicationSetup.jpg" target="_blank">Test setup for replicating content across Azure regions in different zones.</a></li>
                <li><a href="/Content/CHT/ContentReplicationTest.jpg" target="_blank">Test results for replicating content across Azure regions in different zones.</a></li>
                <li>Azure network tool: Blair Chen's <a href="http://www.azurespeed.com" target="_blank">AzureSpeed.com</a>.</li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="21">21. Translation</h3>
<p>
    Microsoft Translator, part of Azure Cognitive Services, has both <a href="https://www.microsoft.com/en-us/translator/translatorapi.aspx" target="_blank">Microsoft Translator Text API</a> and
    <a href="https://www.microsoft.com/en-us/translator/speech.aspx" target="_blank">Microsoft Translator Speech API</a>.
</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="http://openidconnectweb.azurewebsites.net/MTAPI" target="_blank">Text-to-Text/Text-to-Speech Translation tool built on Microsoft Translator REST API, as well as customized translator instance</a>.</li>
                <li><a href="http://aka.ms/amtest?url=http://willzhanmswest.streaming.mediaservices.windows.net/31ef495b-bcb3-4c73-af03-0d81daad9313/161017_3116873_NBC_Nightly_News__Oct_24__2016.ism/manifest" target="_blank">Translating Closed Caption from English to Chinese</a>.</li>
                <li><a href="https://openidconnectweb.azurewebsites.net/VideoDiscovery" target="_blank">Translating Closed Caption from Filipino (Tagalog) to English, then search videos in either of the two languages</a>.</li>
                <li><a href="https://hub.microsofttranslator.com/Projects" target="_blank">Microsoft Translator Hub</a> for custom translator training, testing and deployment (login required).</li>
                <li><a href="https://hub.microsofttranslator.com/Help/Download/Microsoft%20Translator%20Hub%20User%20Guide.pdf" target="_blank">Microsoft Translator Hub User Guide</a>.</li>
                <li><a href="https://hub.microsofttranslator.com/Help/Download/Microsoft%20Translator%20Hub%20API%20Guide.pdf" target="_blank">Microsoft Trabslator Hub API Guide</a>.</li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="22">22. Protected Offline Mode</h3>
<ul> 
    <li>FairPlay offline mode:  <a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-protect-hls-with-offline-fairplay" target="_blank">Offline FairPlay Streaming for iOS</a></li>
    <li>Widevine offline mode:  <a href="https://docs.microsoft.com/en-us/azure/media-services/offline-widevine-for-android" target="_blank">Offline Widevine Streaming for Android</a></li>
    <li>PlayReady offline mode: <a href="https://blogs.msdn.microsoft.com/playready4/2016/10/26/does-azure-media-services-support-offline-mode/" target="_blank">Offline PlayReady Streaming for Windows</a></li>
</ul>
<table class="table">
    <tr>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/8d078cf8-d621-406c-84ca-88e6b9454acc/20150807-bridges-2500_H264_1644kbps_AAC_und_ch2_256kbps.mp4" target="_blank"><img src="/Content/CHT/thumbnail4.JPG" alt="" width="200" /><br />PlayReady protected<br />AMS license delivery</a>.</td>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/7c085a59-ae9a-411e-842c-ef10f96c3f89/20150807-bridges-2500_H264_1644kbps_AAC_und_ch2_256kbps.mp4" target="_blank"><img src="/Content/CHT/thumbnail5.JPG" alt="" width="200" /><br />PlayReady protected<br />On-prem license server</a>.</td>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/e7c76dbb-8e38-44b3-be8c-5c78890c4bb4/MicrosoftElite01.ism/manifest(format=m3u8-aapl)" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />FPS, audio/video/alternate audio</a>. <br /><a href="https://openidconnectweb.azurewebsites.net/Content/FPSAC.cer" target="_blank">App Cert</a>.</td>
    </tr>
    <tr>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/e7c76dbb-8e38-44b3-be8c-5c78890c4bb4/MicrosoftElite01.ism/manifest(format=m3u8-aapl,audio-only=false)" target="_blank"><img src="/Content/CHT/thumbnail6.JPG" alt="" width="200" /><br />FPS, no alternate audio</a>. <br /><a href="https://openidconnectweb.azurewebsites.net/Content/FPSAC.cer" target="_blank">App Cert</a>.</td>
        <td><a href="https://willzhanmswest.streaming.mediaservices.windows.net/92fc0471-0878-4eeb-80a3-e5b6fc497806/NoAudio.ism/manifest(format=m3u8-aapl)" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />FPS, no audio/video-only</a>. <br /><a href="https://openidconnectweb.azurewebsites.net/Content/FPSAC.cer" target="_blank">App Cert</a>.</td>
        <td></td>
    </tr>
</table>

<h3 class="title" id="23">23. Storage Encryption with AES-256</h3>
<ul>
    <li><a href="https://docs.microsoft.com/en-us/azure/media-services/media-services-rest-storage-encryption" target="_blank">For high value content, Storage Encryption with AES-256 at rest is available in Azure Media Services</a>.</li>
    <li><a href="https://willzhanstor.blob.core.windows.net/asset-d9269138-816a-45d7-aed1-4395d1f640cd/MicrosoftElite01.ism?sv=2017-04-17&ss=b&srt=sco&sp=rl&se=2037-11-03T18:54:17Z&st=2017-11-03T10:54:17Z&spr=https&sig=El0PdK0yfcECOZnPODZQyVcxB3otamnaneEMrw0juTc%3D" target="_blank">Download a storage encrypted (AES-256) file from Azure storage</a>.</li>
    <li>Storage encryption at rest can be used in combination with content protection in delivery: AES-128, DRM/CENC, FPS.</li>
</ul>
<table class="table">
    <tr>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/9e287b13-5ae3-439e-8e77-c61ced292299/MicrosoftElite01.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail1.JPG" alt="" width="200" /><br />Storage encryption, open streaming<br />1 content key: AES-256</a>.</td>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/65789b29-7088-48cf-8eb9-5b47f6ef4a36/MicrosoftElite01.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail2.JPG" alt="" width="200" /><br />Storage encryption, AES protection<br />2 content keys: AES-256, AES-128</a>.</td>
        <td><a href="https://openidconnectweb.azurewebsites.net/AMTestPlayer?url=https://willzhanmswest.streaming.mediaservices.windows.net/de806dd5-27f3-4ba5-bb35-86469e4c057b/MicrosoftElite01.ism/manifest" target="_blank"><img src="/Content/CHT/thumbnail3.JPG" alt="" width="200" /><br />Storage encryption, DRM protection<br />3 content keys: AES-256, CENC, FPS</a>.</td>
    </tr>
</table>

<h3 class="title" id="24">24. STB</h3>
<p>Delivering AMS contents to SmartTV/STB.</p>
<table class="table">
    <tr>
        <td>
            <ul>
                <li><a href="/Content/CHT/ModernSTB.jpg" target="_blank">Modern STB stack</a></li>
                <li>Running Azure Media Player (AMP) on STB for both DASH + Widevine and DASH + PlayReady (<a href="" target="_blank">document to come</a>)</li>
                <li><a href="/STB.html" target="_blank">Test tool for embedded device browser.</a> This test tool works with Widevine in Chrome, Firefox, Opera, PlayReady in MS Edge, IE11, and FairPlay in Safari on macOS.</li>
            </ul>
        </td>
    </tr>
</table>

<h3 class="title" id="25">25. Azure Media Player Plugins</h3>
<ul>
    <li><a href="http://amp.azure.net/libs/amp/latest/docs/PLUGINS.html" target="_blank">AMP plugin gallery</a>.</li>
    <li><a href="https://openidconnectweb.azurewebsites.net/Diagnoverlay.html" target="_blank">Diagnostic overlay AMP plugin</a> by William.</li>
    <li><a href="https://github.com/willzhan/diagnoverlay" target="_blank">Source code for diagnostic overlay AMP plugin</a> by William.</li>
</ul>


<script language="javascript">
    //add quick nav
    var html = "Quick Navigation: <br/>";
    var titles = document.getElementsByClassName("title");
    for (var i = 0; i < titles.length; i++) {
        html += "<a href='#" + titles[i].id + "'>" + titles[i].innerHTML + "</a><br/>";
    }

    var div = document.getElementById("content");
    div.innerHTML = html;

    //add return to top
    for (var i = 0; i < titles.length; i++) {
        titles[i].innerHTML += " <span style='font-size:small;float:right'>[<a href='#top'>back to top</a>]</span>";
    }

    //GPS
    AppInsightsUtils.getGPS();
</script>

        <hr />
        <footer>
            <p>&copy; 2018 - by <a href="http://blogs.msdn.com/b/playready4/" target="_blank">willzhan</a></p>
        </footer>
    </div>

    <script src="/bundles/jquery?v=FVs3ACwOLIVInrAl5sdzR2jrCDmVOWFbZMY6g6Q0ulE1"></script>

    <script src="/bundles/bootstrap?v=2Fz3B0iizV2NnnamQFrx-NbYJNTFeBJ2GM05SilbtQU1"></script>

    
</body>
</html>

